<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>LucasWang&#39;s Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="写下你的小目标，把它加入任务队列">
<meta property="og:type" content="website">
<meta property="og:title" content="LucasWang&#39;s Notes">
<meta property="og:url" content="http://lucaswangdev.github.io/page/4/index.html">
<meta property="og:site_name" content="LucasWang&#39;s Notes">
<meta property="og:description" content="写下你的小目标，把它加入任务队列">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LucasWang&#39;s Notes">
<meta name="twitter:description" content="写下你的小目标，把它加入任务队列">
  
    <link rel="alternate" href="/atom.xml" title="LucasWang&#39;s Notes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LucasWang&#39;s Notes</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://lucaswangdev.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-向服务器正式部署上线项目" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/10/向服务器正式部署上线项目/" class="article-date">
  <time datetime="2017-09-10T02:21:18.000Z" itemprop="datePublished">2017-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/10/向服务器正式部署上线项目/">向服务器正式部署上线项目</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="在本地，给项用pm2启动项目前需要给项目添加一件配置文件-ecosystem-json"><a href="#在本地，给项用pm2启动项目前需要给项目添加一件配置文件-ecosystem-json" class="headerlink" title="在本地，给项用pm2启动项目前需要给项目添加一件配置文件 ecosystem.json"></a>在本地，给项用pm2启动项目前需要给项目添加一件配置文件 ecosystem.json</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;apps&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;name&quot;: &quot;Website&quot;,</span><br><span class="line">      &quot;script&quot;: &quot;app.js&quot;,</span><br><span class="line">      &quot;env&quot;: &#123;</span><br><span class="line">        &quot;COMMON_VARIABLE&quot;: &quot;true&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;env_production&quot;: &#123;</span><br><span class="line">        &quot;NODE_ENV&quot;: &quot;production&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;deploy&quot;: &#123;</span><br><span class="line">    &quot;production&quot;: &#123;</span><br><span class="line">      &quot;user&quot;: &quot;你的服务器登录用户名&quot;,</span><br><span class="line">      &quot;host&quot;: [&quot;你的服务器 IP&quot;],</span><br><span class="line">      &quot;port&quot;: &quot;你的服务器登录端口&quot;,</span><br><span class="line">      &quot;ref&quot;: &quot;origin/master&quot;,</span><br><span class="line">      &quot;repo&quot;: &quot;git@git.oschina.net:wolf18387/backend-website.git&quot;,</span><br><span class="line">      &quot;path&quot;: &quot;/www/website/production&quot;,</span><br><span class="line">      &quot;ssh_options&quot;: &quot;StrictHostKeyChecking=no&quot;,</span><br><span class="line">      &quot;env&quot;: &#123;</span><br><span class="line">        &quot;NODE_ENV&quot;: &quot;production&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>在服务端，创建这样的路径<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"path"</span>: <span class="string">"/www/website/production"</span>,</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 修改文件夹的权限</span><br><span class="line">sudo chmod 777 website</span><br></pre></td></tr></table></figure>
<ol>
<li>在服务端，进入要启动项目的根目录<br><code>`</code> bash<br>$ pm2 deploy ecosystem.json production setup</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/10/向服务器正式部署上线项目/" data-id="ckbh8836v001euy5o4a5jpgyu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Server/">Server</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-how-to-use-vue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/07/how-to-use-vue/" class="article-date">
  <time datetime="2017-09-07T09:29:55.000Z" itemprop="datePublished">2017-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/07/how-to-use-vue/">how to use vue</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><p>Vue.js 不支持 IE8 及其以下版本，因为 Vue.js 使用了 IE8 不能模拟的 ECMAScript 5 特性。 Vue.js 支持所有兼容 ECMAScript 5 的浏览器。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ol>
<li><a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd&quot;" target="_blank" rel="noopener">Vue Devtools</a>(Chrome扩展的vue调试工具)</li>
<li><a href="https://vuejs.org/js/vue.js" target="_blank" rel="noopener">下载vue.js文件</a>或者使用npm安装<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install vue</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>安装命令行工具 (CLI)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 全局安装 vue-cli</span><br><span class="line">$ npm install --global vue-cli</span><br><span class="line"># 创建一个基于 webpack 模板的新项目</span><br><span class="line">$ vue init webpack my-project</span><br><span class="line"># 安装依赖，走你</span><br><span class="line">$ cd my-project</span><br><span class="line">$ npm install</span><br><span class="line">$ npm run dev</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/07/how-to-use-vue/" data-id="ckbh8836h0014uy5op6af8s3g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Git命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/05/Git命令/" class="article-date">
  <time datetime="2017-09-05T08:12:37.000Z" itemprop="datePublished">2017-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/05/Git命令/">Git命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>简易的命令行入门教程:</p>
<p>Git 全局设置:</p>
<p>git config –global user.name “xxxxdev”<br>git config –global user.email “<a href="mailto:xxxx.dev@gmail.com" target="_blank" rel="noopener">xxxx.dev@gmail.com</a>“<br>创建 git 仓库:</p>
<p>mkdir backend-movie<br>cd backend-movie<br>git init<br>touch README.md<br>git add README.md<br>git commit -m “first commit”<br>git remote add origin <a href="mailto:git@gitee.com" target="_blank" rel="noopener">git@gitee.com</a>:xxxxdev/backend-movie.git<br>git push -u origin master</p>
<p>已有项目?<br>cd existing_git_repo<br>git remote add origin <a href="mailto:git@gitee.com" target="_blank" rel="noopener">git@gitee.com</a>:xxxxdev/backend-movie.git<br>git push -u origin master</p>
<ol>
<li><p>用户名和邮箱地址的作用<br>用户名和邮箱地址是本地Git客户端的一个变量，不随git库而改变。<br>每次commit都会用用户名和邮箱纪录。<br>github的contributions统计就是按邮箱来统计的。</p>
</li>
<li><p>查看用户名和邮箱地址：<br>$ git config user.name<br>$ git config user.email</p>
</li>
<li><p>修改用户名和邮箱地址：<br>$ git config –global user.name “username”<br>$ git config –global user.email “email”</p>
</li>
</ol>
<hr>
<p>clone命令：<br>选择分支—<br>$ git clone “url地址”</p>
<hr>
<p>push命令：<br>进入项目所在文件夹<br>$ git init 初始化仓库<br>$ git add .    或者 $git add –all<br>$ git commit -m “change log”<br>(提交到本地的版本控制库里，引号里面是你对本次提交的说明信息。)<br>git remote add origin <a href="mailto:git@gitee.com" target="_blank" rel="noopener">git@gitee.com</a>:xxxxdev/backend-movie.git(关联远端仓库)<br>git fetch(取回远端更新)<br>git merge(取回更新和本地合并)<br>$ git push -u origin master     </p>
<hr>
<p>git status<br>git branch<br>git branch + 分支名称<br>git checkout + 分支名称</p>
<p>$ git clone <a href="https://github.com/xxxxdev/wjs" target="_blank" rel="noopener">https://github.com/xxxxdev/wjs</a> (最后面不加点，把所有分支都克隆下来)<br>$ git branch -a 查看所有分支<br>$ git checkout -b gh-pages origin/gh-pages (在本地创建并选择那个和远程分支名一样的分支工作)</p>
<hr>
<p>你可以用gitk查看你做了些什么：<br>$ gitk –all &amp;</p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone   </span><br><span class="line">git remote   </span><br><span class="line">git fetch   </span><br><span class="line">git pull   </span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<h3 id="如果你在本地做了错误提交，那么回退版本的方法很简单"><a href="#如果你在本地做了错误提交，那么回退版本的方法很简单" class="headerlink" title="如果你在本地做了错误提交，那么回退版本的方法很简单`"></a>如果你在本地做了错误提交，那么回退版本的方法很简单`</h3><p>1.先用下面命令找到要回退的版本的commit id：</p>
<p>git reflog </p>
<p>2.接着回退版本:</p>
<p>git reset –hard a7e1d279</p>
<p>a7e1d279就是你要回退的版本的commit id的前面几位。</p>
<p>####远程分支版本回退的方法<br>如果你的错误提交已经推送到自己的远程分支了，那么就需要回滚远程分支了。<br>1.首先要回退本地分支：<br>git reflog<br>git reset –hard Obfafd</p>
<p>2.紧接着强制推送到远程分支：<br>git push -f origin master   这里假设只有一个master分支</p>
<h3 id="Git将当前分支上修改的东西转移到新建分支"><a href="#Git将当前分支上修改的东西转移到新建分支" class="headerlink" title="Git将当前分支上修改的东西转移到新建分支"></a>Git将当前分支上修改的东西转移到新建分支</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">比如我在A分支做了一些修改，现在由于某种原因(如A分支已经合并到master)不能把A分支上修改的东西保留下来但是需要把A分支上修改的东西继续在新分支继续修改。那么现在我们可以有两种简单的做法完成这一需求。</span><br><span class="line"></span><br><span class="line">第一种方法</span><br><span class="line">我们不需要在A分支做commit,只需要在A分支新建B分支，然后切换过去。这个时候你会发现修改的东西在A，B分支都有。这个时候在B分支commit，那么这些修改保留在B分支上，再切换到A分支上会发现修改都没有保留下来。</span><br><span class="line"></span><br><span class="line">第二种方法</span><br><span class="line">使用git stash 将A分支暂存起来，然后在某一个分支（如master分支）新建一个分支B，然后在B分支上使用git stash pop 将修改弹出到B分支上，然后这些修改就在B分支上了。</span><br></pre></td></tr></table></figure>
<h3 id="如何在-Git-里撤销-几乎-任何操作"><a href="#如何在-Git-里撤销-几乎-任何操作" class="headerlink" title="如何在 Git 里撤销(几乎)任何操作"></a>如何在 Git 里撤销(几乎)任何操作</h3><p><a href="http://blog.jobbole.com/87700/" target="_blank" rel="noopener">http://blog.jobbole.com/87700/</a> (总结得一般)</p>
<h3 id="Another-git-process-seems-to-be-running-in-this-repository"><a href="#Another-git-process-seems-to-be-running-in-this-repository" class="headerlink" title="Another git process seems to be running in this repository"></a><a href="https://stackoverflow.com/questions/38004148/another-git-process-seems-to-be-running-in-this-repository" target="_blank" rel="noopener">Another git process seems to be running in this repository</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Another git process seems to be running in this repository, e.g.</span><br><span class="line">an editor opened by &apos;git commit&apos;. Please make sure all processes</span><br><span class="line">are terminated then try again. If it still fails, a git process</span><br><span class="line">may have crashed in this repository earlier:</span><br><span class="line">remove the file manually to continue.</span><br></pre></td></tr></table></figure>
<p>解决办法：</p>
<p>Try deleting <code>index.lock</code> file in your <code>.git</code> directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -f .git/index.lock</span><br></pre></td></tr></table></figure>
<h3 id="git命令行删除远程分支"><a href="#git命令行删除远程分支" class="headerlink" title="git命令行删除远程分支"></a>git命令行删除远程分支</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">先查看远程分支</span><br><span class="line">git branch -ｒ</span><br><span class="line">使用下面两条命令来删除远程分支</span><br><span class="line">git branch -r -d origin/branch-name</span><br><span class="line">git push origin :branch-name</span><br></pre></td></tr></table></figure>
<p>一不小心把本地的临时分支push到server上去了，想要删除。</p>
<p>方法一：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -r -d origin/branch-name</span><br></pre></td></tr></table></figure>
<p>不成功，发现只是删除的本地对该远程分支的track，正确的方法应该是这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin :branch-name</span><br></pre></td></tr></table></figure>
<p>冒号前面的空格不能少，原理是把一个空分支push到server上，相当于删除该分支。</p>
<p>方法二：</p>
<p>在Git v1.7.0 之后，可以使用这种语法删除远程分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --delete &lt;branchName&gt;</span><br></pre></td></tr></table></figure>
<p>删除tag这么用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --delete tag &lt;tagname&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Git-中的Tag的作用"><a href="#Git-中的Tag的作用" class="headerlink" title="Git 中的Tag的作用"></a>Git 中的Tag的作用</h2><p>首先说一下作用：Git 中的tag指向一次commit的id，通常用来给开发分支做一个标记，如标记一个版本号。</p>
<p>下面就说一下具体的用法：</p>
<p>1.添加标签： git tag -a version -m “note”<br>注解：git tag 是打标签的命令，-a 是添加标签，其后要跟新标签号，-m 及后面的字符串是对该标签的注释。</p>
<p>2.提交标签到远程仓库 ：git push origin -tags<br>注解：就像git push origin master 把本地修改提交到远程仓库一样，-tags可以把本地的打的标签全部提交到远程仓库。<br>3.删除标签：git tag -d version<br>注解：-d 表示删除，后面跟要删除的tag名字<br>4.删除远程标签：git push origin :refs/tags/version<br>注解：就像git push origin :branch_1 可以删除远程仓库的分支branch_1一样， 冒号前为空表示删除远程仓库的tag。</p>
<p>使用命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">打印所有标签:</span><br><span class="line">git tag</span><br><span class="line"></span><br><span class="line">打印符合检索条件的标签:</span><br><span class="line">git tag -l &lt;版本号&gt;</span><br><span class="line">例如：git tag -l 1.*.* 为搜索一级版本为1的版本</span><br><span class="line"></span><br><span class="line">查看对应标签状态：</span><br><span class="line">git checkout &lt;版本号&gt;</span><br><span class="line"></span><br><span class="line">创建带附注标签：</span><br><span class="line">相对于轻量标签，附注标签是一个独立的标签对象，包含了名称时间戳以及标签备注等信息，同时指向对应的commit。</span><br><span class="line">git tag -a &lt;版本号&gt; -m &quot;&lt;备注信息&gt;&quot;</span><br><span class="line">我们也可以像特定的commit添加标签，使用该commit对应的SHA值即可</span><br><span class="line">git tag -a &lt;版本号&gt; &lt;SHA值&gt; -m &quot;&lt;备注信息&gt;&quot;</span><br><span class="line">如：git tag -a 1.0.0 0c3b62d -m &quot;Release Edition v1.0.0&quot; 就是为SHA为0c3b62d的这次提交打了1.0发行版的tag</span><br><span class="line"></span><br><span class="line">推送所有标签:</span><br><span class="line">git push origin --tags</span><br><span class="line"></span><br><span class="line">推送指定版本的标签:</span><br><span class="line">git push origin &lt;版本号&gt;</span><br><span class="line"></span><br><span class="line">新版本Git (&gt; v1.7.0)</span><br><span class="line">git push origin --delete &lt;版本号&gt;</span><br><span class="line"></span><br><span class="line">新旧版本通用方法:(旧版本Git并没有提供直接删除的方法，而我们可以通过将一个空标签替换现有标签来实现删除标签)</span><br><span class="line">git push origin :refs/tags/&lt;版本号&gt;</span><br><span class="line"></span><br><span class="line">总结：</span><br><span class="line">/// 查看标签</span><br><span class="line">// 打印所有标签</span><br><span class="line">git tag</span><br><span class="line">// 打印符合检索条件的标签</span><br><span class="line">git tag -l 1.*.*</span><br><span class="line">// 查看对应标签状态</span><br><span class="line">git checkout 1.0.0</span><br><span class="line"></span><br><span class="line">/// 创建标签(本地)</span><br><span class="line">// 创建轻量标签</span><br><span class="line">git tag 1.0.0-light</span><br><span class="line">// 创建带备注标签(推荐)</span><br><span class="line">git tag -a 1.0.0 -m &quot;这是备注信息&quot;</span><br><span class="line">// 针对特定commit版本SHA创建标签</span><br><span class="line">git tag -a 1.0.0 0c3b62d -m &quot;这是备注信息&quot;</span><br><span class="line"></span><br><span class="line">/// 删除标签(本地)</span><br><span class="line">git tag -d 1.0.0</span><br><span class="line"></span><br><span class="line">/// 将本地标签发布到远程仓库</span><br><span class="line">// 发送所有</span><br><span class="line">git push origin --tags</span><br><span class="line">// 指定版本发送</span><br><span class="line">git push origin 1.0.0</span><br><span class="line"></span><br><span class="line">/// 删除远程仓库对应标签</span><br><span class="line">// Git版本 &gt; V1.7.0</span><br><span class="line">git push origin --delete 1.0.0</span><br><span class="line">// 旧版本Git</span><br><span class="line">git push origin :refs/tags/1.0.0</span><br></pre></td></tr></table></figure>
<h2 id="Git切换到指定的版本号"><a href="#Git切换到指定的版本号" class="headerlink" title="Git切换到指定的版本号"></a>Git切换到指定的版本号</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># git checkout 版本hash</span><br><span class="line">git checkout 0c3b62d</span><br></pre></td></tr></table></figure>
<h2 id="Git丢弃本地所有的修改"><a href="#Git丢弃本地所有的修改" class="headerlink" title="Git丢弃本地所有的修改"></a>Git丢弃本地所有的修改</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git checkout . #本地所有修改的。没有的提交的，都返回到原来的状态</span><br><span class="line">git stash #把所有没有提交的修改暂存到stash里面。可用git stash pop回复。</span><br><span class="line">git reset --hard HASH #返回到某个节点，不保留修改。</span><br><span class="line">git reset --soft HASH #返回到某个节点。保留修改</span><br><span class="line"></span><br><span class="line">git clean -df #返回到某个节点</span><br><span class="line">git clean 参数</span><br><span class="line">    -n 显示 将要 删除的 文件 和  目录</span><br><span class="line">    -f 删除 文件</span><br><span class="line">    -df 删除 文件 和 目录</span><br><span class="line"></span><br><span class="line"># 删除本地的所有修改</span><br><span class="line">git checkout . &amp;&amp; git clean -xdf</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/05/Git命令/" data-id="ckbh8837t002auy5o54i60zdu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Git仓库 SSH" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/05/Git仓库 SSH/" class="article-date">
  <time datetime="2017-09-05T08:12:37.000Z" itemprop="datePublished">2017-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/05/Git仓库 SSH/">Git仓库SSH</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Git SSH Key 生成步骤<br>Git是分布式的代码管理工具，远程的代码管理是基于SSH的，所以要使用远程的git则需要SSH的配置。<br>github的SSH配置如下：<br>一 、<br>设置Git的user name和email：<br>$ git config –global user.name “xuhaiyan”<br>$ git config –global user.email “<a href="mailto:haiyan.xu.vip@gmail.com" target="_blank" rel="noopener">haiyan.xu.vip@gmail.com</a>“</p>
<p>二、生成SSH密钥过程：<br>1.查看是否已经有了ssh密钥：cd ~/.ssh<br>如果没有密钥则不会有此文件夹，有则备份删除<br>2.生存密钥：<br>$ ssh-keygen -t rsa -C “<a href="mailto:haiyan.xu.vip@gmail.com" target="_blank" rel="noopener">haiyan.xu.vip@gmail.com</a>”<br>按3个回车，密码为空。</p>
<p>Your identification has been saved in /home/tekkub/.ssh/id_rsa.<br>Your public key has been saved in /home/tekkub/.ssh/id_rsa.pub.<br>The key fingerprint is:<br>………………</p>
<p>最后得到了两个文件：id_rsa和id_rsa.pub</p>
<p>3.添加密钥到ssh：ssh-add 文件名<br>需要之前输入密码。<br>4.在github上添加ssh密钥，这要添加的是“id_rsa.pub”里面的公钥。<br>打开<a href="https://github.com/" target="_blank" rel="noopener">https://github.com/</a> ，登陆xuhaiyan825，然后添加ssh。</p>
<p>5.测试：ssh <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a><br>The authenticity of host ‘github.com (207.97.227.239)’ can’t be established.<br>RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.<br>Are you sure you want to continue connecting (yes/no)? yes<br>Warning: Permanently added ‘github.com,207.97.227.239′ (RSA) to the list of known hosts.<br>ERROR: Hi tekkub! You’ve successfully authenticated, but GitHub does not provide shell access<br>Connection to github.com closed.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/05/Git仓库 SSH/" data-id="ckbh8834w0005uy5o4borsest" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-增强服务器安全等级" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/04/增强服务器安全等级/" class="article-date">
  <time datetime="2017-09-04T02:17:26.000Z" itemprop="datePublished">2017-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/04/增强服务器安全等级/">增强服务器安全等级</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="1-修改服务器默认登录端口"><a href="#1-修改服务器默认登录端口" class="headerlink" title="1.修改服务器默认登录端口"></a>1.修改服务器默认登录端口</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>
<p>把里面的port改掉，然后重启服务(<strong>特别注意：修改端口后一定要在服务器后台添加端口配置！！！！</strong>)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo service ssh restart</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/04/增强服务器安全等级/" data-id="ckbh88373001huy5onlx8x8o4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/servser/">servser</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-借助pm2让Nodejs服务常驻" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/03/借助pm2让Nodejs服务常驻/" class="article-date">
  <time datetime="2017-09-03T08:24:32.000Z" itemprop="datePublished">2017-09-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/借助pm2让Nodejs服务常驻/">借助pm2让Nodejs服务常驻</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="pm2让Nodejs服务长驻"><a href="#pm2让Nodejs服务长驻" class="headerlink" title="pm2让Nodejs服务长驻"></a>pm2让Nodejs服务长驻</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install pm2 -g</span><br><span class="line"></span><br><span class="line">pm2 start app.js</span><br></pre></td></tr></table></figure>
<p>pm2 list 列出所有在pm2上跑的服务<br>pm2 show “名称” 查看详细信息</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/03/借助pm2让Nodejs服务常驻/" data-id="ckbh8836t001buy5ouljcb604" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-搭建服务器的Nodejs环境" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/03/搭建服务器的Nodejs环境/" class="article-date">
  <time datetime="2017-09-03T08:22:18.000Z" itemprop="datePublished">2017-09-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/03/搭建服务器的Nodejs环境/">搭建服务器的Nodejs环境</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="xxxxx"><a href="#xxxxx" class="headerlink" title="xxxxx"></a>xxxxx</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>
<ol>
<li><p>在服务端安装这些</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install vim openssl build-essential libssl-dev wget curl git</span><br></pre></td></tr></table></figure>
</li>
<li><p>在github下载并安装nvm服务器安装,重新开启一个命令行窗口。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh | bash</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装nodejs</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install v6.11.2 -g</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>设置和使用的默认版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nvm use v6.11.2</span><br><span class="line">nvm alias default v6.11.2</span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li><p>安装NPM</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --registry=https://registry.npm.taobao.org install -g npm</span><br></pre></td></tr></table></figure>
</li>
<li><p>写入目录结构树</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装CNPM</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --registry=https://registry.npm.taobao.org install -g cnpm</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装CNPM</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pm2 webpack gulp grunt-cli -g</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写测试文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">vi app.js</span><br><span class="line"></span><br><span class="line">const http = require(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="keyword">function</span>(req, res) &#123;</span><br><span class="line">  res.statusCode = 200;</span><br><span class="line">  res.setHeader(<span class="string">'Content-Type'</span>, <span class="string">'text/plain'</span>);</span><br><span class="line">  res.end(<span class="string">'Hello Lucas\n'</span>);</span><br><span class="line">&#125;).listen(10002);</span><br><span class="line"></span><br><span class="line">console.log(`Server running at http://47.91.249.92:10002`);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="pm2让Nodejs服务长驻"><a href="#pm2让Nodejs服务长驻" class="headerlink" title="pm2让Nodejs服务长驻"></a>pm2让Nodejs服务长驻</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install pm2 -g</span><br><span class="line"></span><br><span class="line">pm2 start app.js</span><br><span class="line"></span><br><span class="line">pm2 list （列出所有在pm2上跑的服务）</span><br><span class="line">pm2 show &quot;名称&quot; （查看详细信息）</span><br></pre></td></tr></table></figure>
<h2 id="配置Nginx实现反向代理"><a href="#配置Nginx实现反向代理" class="headerlink" title="配置Nginx实现反向代理"></a>配置Nginx实现反向代理</h2><p>删除-移除Apache<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo service apache2 stop</span><br><span class="line">sudo service apache stop</span><br><span class="line">update-rc.d -f apache2 remove</span><br><span class="line">sudo apt-get remove apache2</span><br></pre></td></tr></table></figure></p>
<p>更新apt-get<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br></pre></td></tr></table></figure></p>
<p>安装nginx<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install nginx</span><br><span class="line"></span><br><span class="line">cd /etc/nignx 然后进入conf.d文件夹</span><br><span class="line">新建一个配置文件:</span><br><span class="line">sudo vi wangchunfu-com-10002.conf</span><br><span class="line">upstream wangchunfu &#123;</span><br><span class="line">    server 127.0.0.1:10002;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name 47.91.249.92;</span><br><span class="line">    location / &#123;</span><br><span class="line">        </span><br><span class="line">		proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">        proxy_set_header   X-Nginx-Proxy true;</span><br><span class="line">        proxy_set_header   Host $http_host;</span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_pass http://wangchunfu;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">测试配置文件</span><br><span class="line">sudo nginx -t</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">重启nignx:</span><br><span class="line">sudo service nginx reload 重新加载配置文件</span><br><span class="line">不显示nginx版本信息:</span><br><span class="line">把nginx.conf文件里面的server_tokens off的注释去掉。</span><br></pre></td></tr></table></figure></p>
<h2 id="安装MongoDB数据库"><a href="#安装MongoDB数据库" class="headerlink" title="安装MongoDB数据库"></a>安装MongoDB数据库</h2><p>删除-移除Apache<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">shttps://docs.mongodb.com/manual/tutorial/install-mongodb-enterprise-on-ubuntu/</span><br><span class="line">启动服务</span><br><span class="line">sudo C:\Program Files\MongoDB\Server\3.4\bin(restart重启)</span><br><span class="line">检查是否成功</span><br><span class="line">cat /var/log/mongodb/mongod.log</span><br><span class="line"></span><br><span class="line">停止服务</span><br><span class="line">sudo service mongod stop</span><br><span class="line"></span><br><span class="line">修改端口</span><br><span class="line">sudo vim /etc/mongod.conf</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/03/搭建服务器的Nodejs环境/" data-id="ckbh88375001juy5okkzlz43c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu-14-04-本地无密码SSH登录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/02/Ubuntu-14-04-本地无密码SSH登录/" class="article-date">
  <time datetime="2017-09-02T08:46:21.000Z" itemprop="datePublished">2017-09-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/02/Ubuntu-14-04-本地无密码SSH登录/">Ubuntu 14.04 本地无密码SSH登录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="1-客户端配置公钥和私钥"><a href="#1-客户端配置公钥和私钥" class="headerlink" title="1.客户端配置公钥和私钥"></a>1.客户端配置公钥和私钥</h3><ol>
<li>如果有使用过Git仓库的公钥是和私钥的话，就不要再重新生成了；</li>
<li><p>如果本地没有的话，那就去生成一对公钥和私钥，通过命令行创建.ssh文件夹，进入.ssh文件夹；<br>通过下面命令生成(“<a href="mailto:xxx@xx.com" target="_blank" rel="noopener">xxx@xx.com</a>“是邮箱地址)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">"xxx@xx.com"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>开启ssh代理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(ssh-agent -s)</span>"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>把本地的私钥加入到代理中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="2-服务端配置"><a href="#2-服务端配置" class="headerlink" title="2.服务端配置"></a>2.服务端配置</h3><ol>
<li><p>在服务端生成公钥和私钥(“<a href="mailto:xxx@xx.com" target="_blank" rel="noopener">xxx@xx.com</a>“是邮箱地址，邮箱地址和客户端要相同)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">"xxx@xx.com"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>开启ssh代理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(ssh-agent -s)</span>"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>把服务端的私钥加入到代理中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>
</li>
<li><p>用vim命令创建authorized_keys这个文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi authorized_keys</span><br></pre></td></tr></table></figure>
</li>
<li><p>把客户端的公钥(id_rsa.pub)拷贝到这个文件，之后用下面命令退出。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq!</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改authorized_keys的权限。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 authorized_keys</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service ssh restart</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/02/Ubuntu-14-04-本地无密码SSH登录/" data-id="ckbh88362000xuy5o47yainhi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSH/">SSH</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu-14.04-SSH远程登录的那些坑" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/02/Ubuntu-14.04-SSH远程登录的那些坑/" class="article-date">
  <time datetime="2017-09-02T03:11:11.000Z" itemprop="datePublished">2017-09-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/02/Ubuntu-14.04-SSH远程登录的那些坑/">Ubuntu 14.04 SSH远程登录的那些坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="1-下载PuTTY-命令行工具"><a href="#1-下载PuTTY-命令行工具" class="headerlink" title="1.下载PuTTY(命令行工具)"></a>1.下载<a href="http://www.putty.org/" target="_blank" rel="noopener">PuTTY</a>(命令行工具)</h3><p>如果你的是Windows系统，在进行SSH远程登录之前，应该先去下载个<a href="http://www.putty.org/" target="_blank" rel="noopener">PuTTY</a>命令行工具，</p>
<h3 id="2-SSH远程登录"><a href="#2-SSH远程登录" class="headerlink" title="2.SSH远程登录"></a>2.SSH远程登录</h3><ol>
<li>打开软件—在Host Name(or IP address)输入你的公网IP—在Port输入端口号（22）—Open   </li>
<li>在命令行中输入登录用户名：root(注意，这里千万不能直接ssh root@xxx,这里是一个小坑)，然后输入密码，登录成功。</li>
<li>因为root的权限太高了，为了避免误操作所带来的后果，要创建一个管理员权限的用户；      </li>
</ol>
<p><strong>创建新用户，例如：新用户“demo”</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ adduser demo</span><br></pre></td></tr></table></figure>
<p>Full Name: xxx<br>Room Number: xxx<br>…</p>
<p><strong>给增加的用户赋权</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gpasswd -a demo sudo</span><br></pre></td></tr></table></figure>
<p><strong>修改配置文件</strong>    </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo visudo</span><br></pre></td></tr></table></figure>
<p>在User privilege specification下面增加一行    </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ demo ALL=(ALL:ALL) ALL</span><br></pre></td></tr></table></figure>
<p>Ctrl + X—保存—输入”y”—回车   </p>
<p><strong>查看管理员用户</strong>    </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ls /home</span><br></pre></td></tr></table></figure>
<p>修改端口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/ssh/sshd_config</span><br><span class="line">或者nano /etc/ssh/sshd_config(GUI编辑命令行)</span><br><span class="line"></span><br><span class="line">先增加一个端口，然后用这个端口去测试ssh登录，如果这个端口可用，再把22端口去掉，防止你修改的端口是成功了</span><br><span class="line"># What ports, IPs and protocols we listen for</span><br><span class="line">Port 22</span><br><span class="line">Port xxxxx</span><br></pre></td></tr></table></figure></p>
<p>重启服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service ssh restart</span><br></pre></td></tr></table></figure></p>
<p><strong>使用管理员用户登录</strong>    </p>
<p>在命令行中输入登录用户名：ssh <a href="mailto:demo@xx.xx.xx.xx" target="_blank" rel="noopener">demo@xx.xx.xx.xx</a>,  然后输入密码，登录成功。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/02/Ubuntu-14.04-SSH远程登录的那些坑/" data-id="ckbh8835x000tuy5o8e71af76" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSH/">SSH</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-js运行机制" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/01/js运行机制/" class="article-date">
  <time datetime="2017-09-01T08:12:37.000Z" itemprop="datePublished">2017-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/01/js运行机制/">js运行机制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ajflajljfljfjaljfljlfjalj</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2017/09/01/js运行机制/" data-id="ckbh8836o0018uy5ophzacohg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript6/">ECMAScript6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Egret/">Egret</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/">SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/">SpringCloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pomelo/">pomelo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servser/">servser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thinkphp/">thinkphp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/url链接/">url链接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ECMAScript6/" style="font-size: 10px;">ECMAScript6</a> <a href="/tags/Egret/" style="font-size: 10px;">Egret</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Nodejs/" style="font-size: 13.33px;">Nodejs</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/SSH/" style="font-size: 13.33px;">SSH</a> <a href="/tags/Server/" style="font-size: 10px;">Server</a> <a href="/tags/SpringBoot/" style="font-size: 10px;">SpringBoot</a> <a href="/tags/SpringCloud/" style="font-size: 10px;">SpringCloud</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/git/" style="font-size: 13.33px;">git</a> <a href="/tags/java/" style="font-size: 16.67px;">java</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/pomelo/" style="font-size: 10px;">pomelo</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/servser/" style="font-size: 10px;">servser</a> <a href="/tags/thinkphp/" style="font-size: 10px;">thinkphp</a> <a href="/tags/url链接/" style="font-size: 10px;">url链接</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/06/16/VsCode插件配置/">VsCode插件配置</a>
          </li>
        
          <li>
            <a href="/2020/04/20/面向对象-B5/">面向对象-B5</a>
          </li>
        
          <li>
            <a href="/2020/04/19/数组-B4/">数组-B4</a>
          </li>
        
          <li>
            <a href="/2020/04/18/流程控制-B3/">流程控制-B3</a>
          </li>
        
          <li>
            <a href="/2020/04/08/Java基本语法-B2/">Java基本语法-B2</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Lucas Wang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>