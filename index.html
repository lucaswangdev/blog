<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>LucasWang&#39;s Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="写下你的小目标，把它加入任务队列">
<meta property="og:type" content="website">
<meta property="og:title" content="LucasWang&#39;s Notes">
<meta property="og:url" content="http://lucaswangdev.github.io/index.html">
<meta property="og:site_name" content="LucasWang&#39;s Notes">
<meta property="og:description" content="写下你的小目标，把它加入任务队列">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LucasWang&#39;s Notes">
<meta name="twitter:description" content="写下你的小目标，把它加入任务队列">
  
    <link rel="alternate" href="/atom.xml" title="LucasWang&#39;s Notes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LucasWang&#39;s Notes</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://lucaswangdev.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-OpenResty是一款基于-NGINX-和-LuaJIT-的-Web-平台" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/10/OpenResty是一款基于-NGINX-和-LuaJIT-的-Web-平台/" class="article-date">
  <time datetime="2020-08-09T16:27:13.000Z" itemprop="datePublished">2020-08-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/10/OpenResty是一款基于-NGINX-和-LuaJIT-的-Web-平台/">OpenResty是一款基于 NGINX 和 LuaJIT 的 Web 平台</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="OpenResty"><a href="#OpenResty" class="headerlink" title="OpenResty"></a>OpenResty</h1><p>OpenResty® 是一个基于 Nginx 与 Lua 的高性能 Web 平台，其内部集成了大量精良的 Lua 库、第三方模块以及大多数的依赖项。用于方便地搭建能够处理超高并发、扩展性极高的动态 Web 应用、Web 服务和动态网关。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="mac环境安装"><a href="#mac环境安装" class="headerlink" title="mac环境安装"></a>mac环境安装</h3><ul>
<li><p>brew install openresty/brew/openresty</p>
</li>
<li><p>安装成功后把nginx配置到环境变量(如果之前安装过nginx,干脆给卸载了，用brew uninstall）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/usr/local/opt/openresty/nginx/sbin:$PATH</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置成功就可以任意环境使用（记得生效下）</p>
<ul>
<li>启动nginx，使用sudo nginx 相对于启动了openresty.</li>
<li>访问localhost 看到openstry欢迎页面</li>
<li>命令行 sudo nginx -V 查看相关文件位置</li>
</ul>
</li>
<li><p>环境变量配置进去后就可以通过这些命令操作openresty</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">启动:nginx</span><br><span class="line">停止:nginx -s stop   停止nginx也停止了openresty</span><br><span class="line">重启:nginx -s reload</span><br><span class="line">检验nginx配置是否正确: nginx -t</span><br></pre></td></tr></table></figure>
<h3 id="测试例子"><a href="#测试例子" class="headerlink" title="测试例子"></a>测试例子</h3><ul>
<li>为了测试使用创建另一个目录，不使用openresty里的配置文件。启动时也启动的是该配置文件。</li>
<li>mkdir ~/openresty-test ~/openresty-test/logs/ ~/openresty-test/conf/</li>
<li>在conf文件下创建nginx.conf文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">worker_processes  1;</span><br><span class="line">error_log logs/error.log;</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line">http &#123;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen 8085;</span><br><span class="line">        location / &#123;</span><br><span class="line">            default_type text/html;</span><br><span class="line">            content_by_lua &apos;</span><br><span class="line">                ngx.say(&quot;&lt;p&gt;hello, world&lt;/p&gt;&quot;)</span><br><span class="line">            &apos;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>nginx -p <code>pwd</code>/ -c conf/nginx.conf (需要先停止之前启动的nginx,如果启动过。然后执行)</li>
<li>启动后访问 <a href="http://localhost:8085/" target="_blank" rel="noopener">http://localhost:8085</a></li>
</ul>
<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 查看帮助</span><br><span class="line">nginx -h</span><br><span class="line"></span><br><span class="line">nginx version: openresty/1.13.6.1</span><br><span class="line">Usage: nginx [-?hvVtTq] [-s signal] [-c filename] [-p prefix] [-g directives]</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -?,-h         : this help</span><br><span class="line">  -v            : show version and exit</span><br><span class="line">  -V            : show version and configure options then exit</span><br><span class="line">  -t            : test configuration and exit</span><br><span class="line">  -T            : test configuration, dump it and exit</span><br><span class="line">  -q            : suppress non-error messages during configuration testing</span><br><span class="line">  -s signal     : send signal to a master process: stop, quit, reopen, reload</span><br><span class="line">  -p prefix     : set prefix path (default: /usr/local/Cellar/openresty/1.13.6.1/nginx/)</span><br><span class="line">  -c filename   : set configuration file (default: /usr/local/etc/openresty/nginx.conf)</span><br><span class="line">  -g directives : set global directives out of configuration file</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"># nginx.conf</span><br><span class="line"></span><br><span class="line">worker_processes  2;</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  10240;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    sendfile        on;</span><br><span class="line"></span><br><span class="line">    #keepalive_timeout  0;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line">    gzip  on;</span><br><span class="line">    gzip_min_length 1000;</span><br><span class="line">    gzip_http_version 1.1;</span><br><span class="line">    gzip_vary on;</span><br><span class="line">    gzip_types text/plain text/css image/jpeg image/gif image/png application/javascript application/json;</span><br><span class="line">    server_tokens off;</span><br><span class="line">    #server_tag nginx;</span><br><span class="line">    fastcgi_intercept_errors on;</span><br><span class="line"></span><br><span class="line">    upstream xxxserver &#123;</span><br><span class="line">        #server  192.168.1.9:8889;</span><br><span class="line">        keepalive 60;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        #listen       80;</span><br><span class="line">        listen       8888;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   html; #html文件根路径文件夹</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location ~ ^/api &#123;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            proxy_set_header Host $http_host;</span><br><span class="line">            proxy_connect_timeout 3;</span><br><span class="line">            proxy_pass http://xxxserver;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location ~ \.php$ &#123;</span><br><span class="line">            proxy_pass   http://127.0.0.1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>openresty是nginx的luaJit的扩展，openresty的启动、停止、启动操作，实际执行nginx的操作就可以了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">启动：nginx -c &lt;configuration file&gt;</span><br><span class="line">快速停止nginx：nginx -s stop</span><br><span class="line">完整有序的停止nginx：nginx -s quit</span><br><span class="line">修改配置后重新加载生效：nginx -s reload</span><br><span class="line">重新打开日志文件：nginx -s  reopen</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">启动：</span><br><span class="line">nginx -p . -c conf/nginx.conf</span><br><span class="line"></span><br><span class="line">停止：</span><br><span class="line">nginx -p . -c conf/nginx.conf -s stop</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/08/10/OpenResty是一款基于-NGINX-和-LuaJIT-的-Web-平台/" data-id="ckdrhu2mb000j9w5o9fd23rru" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx、openresty/">nginx、openresty</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-VsCode插件配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/16/VsCode插件配置/" class="article-date">
  <time datetime="2020-06-16T00:50:01.000Z" itemprop="datePublished">2020-06-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/16/VsCode插件配置/">VsCode插件配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="VsCode插件配置"><a href="#VsCode插件配置" class="headerlink" title="VsCode插件配置"></a>VsCode插件配置</h2><blockquote>
<p>开发编辑器：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">VSCODE: https://code.visualstudio.com/</span><br><span class="line"></span><br><span class="line">// 常用编辑器插件：</span><br><span class="line">TSLint：Typescript 代码检测</span><br><span class="line">Prettier：代码美化</span><br><span class="line">Auto Import - ES6 &amp; TS ： 自动导入相应模块</span><br><span class="line">Beautify： 样式美化</span><br><span class="line">Document This: 快捷键自动加注释</span><br><span class="line"></span><br><span class="line">Auto Close Tag</span><br><span class="line">Auto Import - ES6 &amp; TS ： 自动导入相应模块</span><br><span class="line">Auto Rename Tag</span><br><span class="line">Beautify： 样式美化</span><br><span class="line">Beautify： 样式美化</span><br><span class="line">Chinese (Simplified)</span><br><span class="line">Document This: 快捷键自动加注释</span><br><span class="line">Elm Emmet</span><br><span class="line">ESLint</span><br><span class="line">Guides</span><br><span class="line">html5-boilerplate</span><br><span class="line">HTML CSS Support</span><br><span class="line">HTML Snippets</span><br><span class="line">JS JSX Snippets</span><br><span class="line">material-icon-theme</span><br><span class="line">Mithril Emmet</span><br><span class="line">Node Debug</span><br><span class="line">Path Intellisense</span><br><span class="line">Prettier - Code formatter</span><br><span class="line">Project Manager</span><br><span class="line">react-beautify</span><br><span class="line">Settings Sync</span><br><span class="line">Simple React Snippets</span><br><span class="line">TabNine</span><br><span class="line">vscode-icons</span><br><span class="line">vscode-purescript-emmet</span><br><span class="line">vscode-styled-components</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tsLint</span><br><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;module&quot;: &quot;esnext&quot;,</span><br><span class="line">    &quot;target&quot;: &quot;es5&quot;,</span><br><span class="line">    &quot;lib&quot;: [&quot;es6&quot;,&quot;es2015&quot;, &quot;dom&quot;],</span><br><span class="line">    &quot;sourceMap&quot;: true,</span><br><span class="line">    &quot;jsx&quot;: &quot;react&quot;,</span><br><span class="line">    &quot;moduleResolution&quot;: &quot;node&quot;,</span><br><span class="line">    &quot;forceConsistentCasingInFileNames&quot;: true,</span><br><span class="line">    &quot;noImplicitReturns&quot;: true,</span><br><span class="line">    &quot;noImplicitThis&quot;: true,</span><br><span class="line">    &quot;noImplicitAny&quot;: false,</span><br><span class="line">    &quot;importHelpers&quot;: true,</span><br><span class="line">    &quot;declaration&quot;: false, </span><br><span class="line">    &quot;suppressImplicitAnyIndexErrors&quot;: true,</span><br><span class="line">    &quot;noUnusedLocals&quot;: true,</span><br><span class="line">    // &quot;strictFunctionTypes&quot;: false,</span><br><span class="line">    &quot;allowSyntheticDefaultImports&quot;: true</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;typingOptions&quot;: &#123;</span><br><span class="line">    &quot;enableAutoDiscovery&quot;: true</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;awesomeTypescriptLoaderOptions&quot;: &#123;</span><br><span class="line">    &quot;useWebpackText&quot;: true,</span><br><span class="line">    &quot;useTranspileModule&quot;: true,</span><br><span class="line">    &quot;doTypeCheck&quot;: true,</span><br><span class="line">    &quot;forkChecker&quot;: true,   </span><br><span class="line">    &quot;useBabel&quot;: true,</span><br><span class="line">    &quot;useCache&quot;: true</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="EsLint"><a href="#EsLint" class="headerlink" title="EsLint"></a>EsLint</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">.eslintignore</span><br><span class="line"></span><br><span class="line"># node_modules</span><br><span class="line">node_modules/</span><br><span class="line"></span><br><span class="line"># build</span><br><span class="line">build/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">src/public/fonts/font.js</span><br><span class="line">src/public/fonts/iconfont.js</span><br><span class="line">webpack.config.js</span><br><span class="line"></span><br><span class="line"># dist</span><br><span class="line"># dist/</span><br><span class="line"></span><br><span class="line"># serviceWorker</span><br><span class="line"># src/serviceWorker.js</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-----</span><br><span class="line">.eslintrc.json</span><br><span class="line">&#123;</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">        &quot;browser&quot;: true,</span><br><span class="line">        &quot;commonjs&quot;: true,</span><br><span class="line">        &quot;es6&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;extends&quot;: &quot;react-app&quot;,</span><br><span class="line">    &quot;parser&quot;: &quot;babel-eslint&quot;,</span><br><span class="line">    &quot;globals&quot;: &#123;</span><br><span class="line">        &quot;Atomics&quot;: &quot;readonly&quot;,</span><br><span class="line">        &quot;SharedArrayBuffer&quot;: &quot;readonly&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;parserOptions&quot;: &#123;</span><br><span class="line">        &quot;ecmaFeatures&quot;: &#123;</span><br><span class="line">            &quot;jsx&quot;: true</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;ecmaVersion&quot;: 2018,</span><br><span class="line">        &quot;sourceType&quot;: &quot;module&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;react&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;indent&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            2,</span><br><span class="line">            &#123;</span><br><span class="line">              &quot;SwitchCase&quot;: 1,</span><br><span class="line">              &quot;flatTernaryExpressions&quot;: true</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br><span class="line">        &quot;no-tabs&quot;: 0,</span><br><span class="line">        &quot;semi&quot;: 0,</span><br><span class="line">        &quot;react/jsx-indent&quot;: [&quot;error&quot;, 2],</span><br><span class="line">        &quot;react/jsx-indent-props&quot;: [&quot;error&quot;, 2],</span><br><span class="line">        &quot;react/jsx-space-before-closing&quot;: 1, </span><br><span class="line">        &quot;react/jsx-closing-bracket-location&quot;: 1,</span><br><span class="line">        &quot;comma-dangle&quot;: [1, &quot;always-multiline&quot;],</span><br><span class="line">        &quot;no-mixed-spaces-and-tabs&quot;: [2, &quot;smart-tabs&quot;],</span><br><span class="line">        &quot;jsx-quotes&quot;: [&quot;error&quot;, &quot;prefer-single&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="常用Npm包"><a href="#常用Npm包" class="headerlink" title="常用Npm包"></a>常用Npm包</h4><p>autoprefixer</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/06/16/VsCode插件配置/" data-id="ckdrhu2mo000z9w5otbj4l40z" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vscode/">vscode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-面向对象-B5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/20/面向对象-B5/" class="article-date">
  <time datetime="2020-04-20T14:55:48.000Z" itemprop="datePublished">2020-04-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/20/面向对象-B5/">面向对象-B5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><h2 id="定义类的语法格式"><a href="#定义类的语法格式" class="headerlink" title="定义类的语法格式"></a>定义类的语法格式</h2><h3 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h3><p><strong>语法格式：</strong>[修饰符] class 类名 { … 类体 …}</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>类体可以有多个属性、方法、构造器组成。</p>
<p>注意：类的修饰符可以是public、final或者省略这两个。</p>
<h3 id="定义属性"><a href="#定义属性" class="headerlink" title="定义属性"></a>定义属性</h3><p><strong>语法格式：</strong>[修饰符] 属性类型 属性名 [=默认值]</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String name; <span class="comment">// 成员变量</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age = <span class="number">18</span>;</span><br></pre></td></tr></table></figure>
<h3 id="定义方法"><a href="#定义方法" class="headerlink" title="定义方法"></a>定义方法</h3><p><strong>语法格式：</strong>[修饰符] 方法返回值类型 方法名(形参列表) {…方法体…}</p>
<ul>
<li>方法的修饰符可以是public、protected、private、static、final、abstract，其中访问控制符只能出现一个，abstract、final只能出现其一。</li>
<li>返回值类型：可以是基本类型和引用类型；若无返回值，要用void来声明。</li>
<li>形参列表：由零个到多个组成，参数之间用逗号“,”隔开。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"hello xxx"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="定义构造器"><a href="#定义构造器" class="headerlink" title="定义构造器"></a>定义构造器</h3><p><strong>语法格式：</strong>[修饰符] 构造器名(形参列表) {……}</p>
<ul>
<li><p>修饰符可以是public、protected、private</p>
</li>
<li><p>构造器名必须会类名相同</p>
</li>
<li><p>形参和方法的形参一样</p>
</li>
</ul>
<h3 id="对象的产生和使用"><a href="#对象的产生和使用" class="headerlink" title="对象的产生和使用"></a>对象的产生和使用</h3><p><strong>对象：</strong>指的是某一类食物的现实存在。</p>
<ul>
<li>创建对象的根本途径就是构造器，所以创建对象通过关键字new加上对应的构造器即可。</li>
<li>如果访问权限允许，类里定义的属性和方法可以通过类或实例来调用。</li>
<li>有static修饰的方法和属性，既可以通过类来调用，也可以通过实例来调用。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 成员变量</span></span><br><span class="line">	<span class="keyword">public</span> String userName;</span><br><span class="line">	<span class="keyword">public</span> Integer age;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 无参构造器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"我是无参构造器"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 有参构造器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"用户的名字："</span> + userName);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 将传进来的 userName 赋值给 userName</span></span><br><span class="line">		<span class="comment">// 以后，我们如果要调用当前类的成员变量时</span></span><br><span class="line">		<span class="comment">// 更加推荐大家使用 this 关键字</span></span><br><span class="line">		<span class="comment">// 因为只要看到关键字就会增强可读性，</span></span><br><span class="line">		<span class="comment">// 哪怕局部变量同名，都不会有影响</span></span><br><span class="line">		<span class="keyword">this</span>.userName = userName;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.userName;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 初始化 Person，调用无参构造器</span></span><br><span class="line">    <span class="comment">// Person p = new Person();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 我们在使用 new 关键字的时候，其实调用的是有参构造器</span></span><br><span class="line">    Person p = <span class="keyword">new</span> Person(<span class="string">"JiaJia"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果直接打印 p 变量，会打印这个对象在内存中的 hashCode 值</span></span><br><span class="line">    System.out.println(p);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用方法</span></span><br><span class="line">    String s = p.getUserName();</span><br><span class="line">    System.out.println(s); <span class="comment">// JiaJia</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"吃一个大西瓜"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 调用 eat()</span></span><br><span class="line">		<span class="comment">// User user = new User();</span></span><br><span class="line">		<span class="comment">// user.eat();</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 我们不建议过多 new 对象，会造成资源浪费</span></span><br><span class="line">		<span class="comment">// this.eat();</span></span><br><span class="line">		eat(); <span class="comment">// this 可以省略掉不写</span></span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"跑步中。。。"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="对象的引用和指针"><a href="#对象的引用和指针" class="headerlink" title="对象的引用和指针"></a>对象的引用和指针</h3><ul>
<li><figure class="highlight plain"><figcaption><span>user </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">- 引用类型变量里面存放的仅仅是一个引用，它指向实际的对象。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 对象的创建和使用</span><br><span class="line"></span><br><span class="line">- 创建对象的根本途径就是使用构造器，所以创建对象是通过关键字new 加上对应的构造器即可。</span><br><span class="line">- 如果访问权限允许，类里定义的属性和方法可以通过类或者实例来调用。</span><br><span class="line">- 有static修饰的方法和属性，既可以通过类来调用也可以通过实例来调用。</span><br><span class="line"></span><br><span class="line">### this 关键字</span><br><span class="line"></span><br><span class="line">它主要指向调用该方法的对象，简单理解，就是随调用它，它就是谁。</span><br><span class="line"></span><br><span class="line">- 在构造器中，引用该构造器正在初始化的对象。</span><br><span class="line">- 在方法中，引用调用该方法的对象。</span><br><span class="line">- **注意：**this 不能用在有static修饰的方法中。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 方法详解</span><br><span class="line"></span><br><span class="line">### 关于方法：</span><br><span class="line"></span><br><span class="line">- 一旦将一个方法定义在类里，如果用static修饰了，那么这个方法属于这个类，否则属于这个类的对象。</span><br><span class="line">- 方法不能独立执行，必须要有调用者。（如：类.方法 、对象.方法）</span><br><span class="line">- 方法不能独立定义，只能定义在类里。</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public class Method &#123;</span><br><span class="line">	// 定义一个方法</span><br><span class="line">	public void sayHello() &#123;</span><br><span class="line">		System.out.println(&quot;Hello JiaJia&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 有返回值</span><br><span class="line">	public String getGFName() &#123;</span><br><span class="line">		// 使用 return 关键字，返回调用者希望拿到的数据</span><br><span class="line">		return &quot;James&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 1. 获取 Method 对象实例</span><br><span class="line">Method md = new Method();</span><br><span class="line">// 2. 调用方法</span><br><span class="line">md.sayHello();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Method2</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 参数的传递机制: 值传递</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 1. 定义一个成员变量</span></span><br><span class="line">	<span class="keyword">public</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 2. 定义一个方法，可以接收名字</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String n)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = n;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String gff = md.getGFName();</span><br><span class="line">System.out.println(<span class="string">"名字："</span> + gff);</span><br></pre></td></tr></table></figure>
<h3 id="方法的参数传递方式"><a href="#方法的参数传递方式" class="headerlink" title="方法的参数传递方式"></a>方法的参数传递方式</h3><p>传递方式只有一种：<strong>值传递</strong></p>
<h2 id="成员变量和局部变量"><a href="#成员变量和局部变量" class="headerlink" title="成员变量和局部变量"></a>成员变量和局部变量</h2><ul>
<li>成员变量指的是类范围里定义的变量；局部变量指的是在一个方法内定义的变量。</li>
<li>成员变量、局部变量都准守相同的命名规则。</li>
<li>成员变量分为类属性和实例属性。对于类属性，无论通过类还是实例来访问，访问的都是同一个对象，只要一个对象改变了了类属性，那么其他对象对应的类属性也改变了。</li>
</ul>
<h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><ul>
<li>局部变量可分为三种：形参、方法局部变量、代码块局部变量；</li>
<li>与成员变量不同的是除形参外，其他局部变量都必须显式地初始化；</li>
<li>Java里允许局部变量和成员变量重名。这样局部变量会覆盖成员变量，这时通过this来调用实例的属性。例如：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 成员变量</span></span><br><span class="line">	<span class="keyword">public</span> String userName;</span><br><span class="line">	<span class="keyword">public</span> Integer age;</span><br><span class="line">  </span><br><span class="line">	<span class="comment">// 有参构造器</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 哪怕局部变量同名，都不会有影响</span></span><br><span class="line">		<span class="keyword">this</span>.userName = userName;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.userName;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="成员变量的初始化"><a href="#成员变量的初始化" class="headerlink" title="成员变量的初始化"></a>成员变量的初始化</h3><ul>
<li>当类被加载时，类成员就在内存中分配了一块空间。</li>
<li></li>
</ul>
<h2 id="隐藏与封装"><a href="#隐藏与封装" class="headerlink" title="隐藏与封装"></a>隐藏与封装</h2><h2 id="深入理解构造器"><a href="#深入理解构造器" class="headerlink" title="深入理解构造器"></a>深入理解构造器</h2><h2 id="继承与多态"><a href="#继承与多态" class="headerlink" title="继承与多态"></a>继承与多态</h2><h2 id="继承与组合"><a href="#继承与组合" class="headerlink" title="继承与组合"></a>继承与组合</h2><h2 id="初始化块"><a href="#初始化块" class="headerlink" title="初始化块"></a>初始化块</h2><h2 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h2><h2 id="equals、toString方法"><a href="#equals、toString方法" class="headerlink" title="equals、toString方法"></a>equals、toString方法</h2><h2 id="static、finally关键字"><a href="#static、finally关键字" class="headerlink" title="static、finally关键字"></a>static、finally关键字</h2><h2 id="abstract关键字和抽象类"><a href="#abstract关键字和抽象类" class="headerlink" title="abstract关键字和抽象类"></a>abstract关键字和抽象类</h2><h2 id="接口的定义与作用"><a href="#接口的定义与作用" class="headerlink" title="接口的定义与作用"></a>接口的定义与作用</h2><h2 id="内部类的作用"><a href="#内部类的作用" class="headerlink" title="内部类的作用"></a>内部类的作用</h2><h2 id="枚举类"><a href="#枚举类" class="headerlink" title="枚举类"></a>枚举类</h2><h2 id="jar包"><a href="#jar包" class="headerlink" title="jar包"></a>jar包</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/04/20/面向对象-B5/" data-id="ckdrhu2nx00249w5o7tgkmace" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数组-B4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/19/数组-B4/" class="article-date">
  <time datetime="2020-04-19T15:26:09.000Z" itemprop="datePublished">2020-04-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/19/数组-B4/">数组-B4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Java-数组"><a href="#Java-数组" class="headerlink" title="Java - 数组"></a>Java - 数组</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="数组概述"><a href="#数组概述" class="headerlink" title="数组概述"></a>数组概述</h3><p>数组是最常见的一种数据结构，主要用来存储多个数据，数组中有多个元素可存放数据，然后可以通过元素索引来访问&amp;操作数组元素。</p>
<p>数组中的所有数组元素的数据类型要求要一致。</p>
<p>当数组初始化完成后，在内存中所占的空间也会固定下来，所以长度不能再改变。哪怕数组中没有数据，长度也是不会变的。</p>
<p>数组也是一种数据类型，它本身也是引用类型。int 是基本数据类型，数组int[] 则是一种引用类型。</p>
<h3 id="定义数组"><a href="#定义数组" class="headerlink" title="定义数组"></a>定义数组</h3><p>语法格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数组类型[] 数组变量名; <span class="comment">// 建议使用这种，可读性强 </span></span><br><span class="line">数组类型 数组变量名[];</span><br></pre></td></tr></table></figure>
<p>数组是一种引用类型的变量，因此使用他定义一个变量时，仅仅表示定义了一个变量（也就是定义了一个指针），这个引用变量还未指向任何有效的内存，因此定义数组时不能指定数组的长度。</p>
<p>数组的特点：</p>
<ul>
<li><p>数组是一种引用数据类型 </p>
</li>
<li><p>数组当中的多个数据，类型必须统一 </p>
</li>
<li><p>数组的长度在程序运行期间不可改变</p>
</li>
</ul>
<h3 id="初始化数组"><a href="#初始化数组" class="headerlink" title="初始化数组"></a>初始化数组</h3><p>初始化有两种方式：<strong>静态初始化</strong>和<strong>动态初始化</strong>。</p>
<p>数组初始化后，才能为数组元素分配内存空间，并为每个数组元素赋初始化值，接着才能使用。</p>
<h4 id="静态初始化"><a href="#静态初始化" class="headerlink" title="静态初始化"></a>静态初始化</h4><p>初始化时，由开发者显示指定每个数组元素的初始值，由系统决定数组长度。<br>语法格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据类型[] 数组变量名 = <span class="keyword">new</span> 数组类型[]&#123;元素<span class="number">1</span>,元素<span class="number">2</span>,...,元 素N&#125;;</span><br></pre></td></tr></table></figure>
<p>注意：在指定的数组元素值的类型必须与 new 关键字后数组类型 一致，或者是其子类的实例。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义整型数组</span></span><br><span class="line"><span class="keyword">int</span>[] nums;</span><br><span class="line"><span class="comment">// 初始化数组</span></span><br><span class="line">nums = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>&#125;;</span><br><span class="line"><span class="comment">// 定义字符串数组</span></span><br><span class="line">String[] strs;</span><br><span class="line"><span class="comment">// 初始化数组</span></span><br><span class="line">strs = <span class="keyword">new</span> String[]&#123;<span class="string">"James"</span>, <span class="string">"JiaJia"</span>&#125;;</span><br><span class="line"><span class="comment">// 简化写法</span></span><br><span class="line">String[] strs2 = &#123;<span class="string">"张三"</span>, <span class="string">"李四"</span>&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="动态初始化"><a href="#动态初始化" class="headerlink" title="动态初始化"></a>动态初始化</h4><p>语法格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据类型[] 数组名 = <span class="keyword">new</span> 数组类型[数组长度];</span><br></pre></td></tr></table></figure>
<p><strong>具体解释</strong></p>
<ul>
<li><p>左侧数据类型：也就是数组当中保存的数据，全都是统一的类型</p>
</li>
<li><p>左侧的中括号：代表是一个数组</p>
</li>
<li><p>左侧数组名称：给数组取一个名字</p>
</li>
<li><p>右侧的 new：代表创建数组的动作</p>
</li>
<li><p>右侧数据类型：必须和左边的数据类型保持一致</p>
</li>
<li><p>右侧中括号的长度：也就是数组当中，到底可以保存多少个数据，是一个int数字</p>
</li>
</ul>
<p>初始化时，开发者指定数组长度，系统会自动为数组元素分配初始值。分配初始值的时候，需要注意数据类型，分别是：</p>
<ul>
<li>整型：byte、short、int 和 long，则默认值是 0。 </li>
<li>浮点型：float、double，则默认值是 0.0。</li>
<li>字符型：char，则默认值是 ‘\u0000’。 </li>
<li>布尔类型：boolean，则默认值是 false。 </li>
<li>引用类型：类、接口和数组，则默认值是 null。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 动态初始化的时候，数组的定义和初始化同时完成 </span></span><br><span class="line"><span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>]; </span><br><span class="line"><span class="comment">// 创建一个数组，能存放 10 个 double 类型的数据 </span></span><br><span class="line"><span class="keyword">double</span>[] arrayB = <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">10</span>]; </span><br><span class="line"><span class="comment">// 创建一个数组，能存放 20 个字符串 </span></span><br><span class="line">String[] strs = <span class="keyword">new</span> String[<span class="number">20</span>]; </span><br><span class="line"><span class="comment">// 初始化数据的元素类型是定义数组时元素类型的子类 </span></span><br><span class="line">Object[] objs = <span class="keyword">new</span> String[<span class="number">30</span>];</span><br></pre></td></tr></table></figure>
<h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul>
<li><p>动态初始化（指定长度）：在创建数组的时候，直接指定数组当中的数据元素个数。</p>
</li>
<li><p>静态初始化（指定内容）：在创建数组的时候，不直接指定数据个数多少，而是直接将具体的数据内容进行指定。</p>
</li>
</ul>
<p>注意：虽然静态初始化没有直接告诉长度，但是根据大括号里面的元素具体内容，也可以自动推算出来长度。</p>
<h4 id="直接打印数组"><a href="#直接打印数组" class="headerlink" title="直接打印数组"></a>直接打印数组</h4><p>直接打印数组名称，得到的是数组对应的：内存地址哈希值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String[] strs2 = &#123;<span class="string">"张三"</span>, <span class="string">"李四"</span>&#125;;</span><br><span class="line">System.out.println(strs2); <span class="comment">// [Ljava.lang.String;@61bbe9ba</span></span><br></pre></td></tr></table></figure>
<h2 id="使用数组"><a href="#使用数组" class="headerlink" title="使用数组"></a>使用数组</h2><p>平时使用数组，就是根据数据元素的索引值来进行赋值和取出数组元素的值。</p>
<p>索引值：就是一个 int 数字，代表数组当中元素的编号。</p>
<p>数组索引是从 0 开始的，第一个元素的索引值是 0，最后一个元素的索引值是(数组长度 - 1)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 静态初始化的省略格式 </span></span><br><span class="line"><span class="keyword">int</span>[] array = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span> &#125;; </span><br><span class="line">System.out.println(array); </span><br><span class="line"><span class="comment">// 直接打印数组当中的元素 </span></span><br><span class="line">System.out.println(array[<span class="number">0</span>]); <span class="comment">// 10 </span></span><br><span class="line">System.out.println(array[<span class="number">1</span>]); <span class="comment">// 20 </span></span><br><span class="line">System.out.println(array[<span class="number">2</span>]); <span class="comment">// 30 </span></span><br><span class="line"><span class="comment">// 也可以将数组当中的某一个单个元素，赋值交给变量 </span></span><br><span class="line"><span class="keyword">int</span>[] num = &#123;arr[<span class="number">2</span>], <span class="number">88</span>, <span class="number">99</span>&#125;; </span><br><span class="line">System.out.println(num);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 动态初始化</span></span><br><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">array[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">array[<span class="number">1</span>] = <span class="number">20</span>;</span><br><span class="line">array[<span class="number">2</span>] = <span class="number">30</span>;</span><br><span class="line">System.out.println(array[<span class="number">0</span>]);</span><br><span class="line">System.out.println(array[<span class="number">1</span>]);</span><br><span class="line">System.out.println(array[<span class="number">2</span>]);</span><br></pre></td></tr></table></figure>
<h3 id="for-循环获取数组元素"><a href="#for-循环获取数组元素" class="headerlink" title="for 循环获取数组元素"></a>for 循环获取数组元素</h3><p>如果要获取数组的长度，可以使用 length 属性。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="comment">// 输出 nums 数组中所有的数字</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    System.out.println(<span class="string">"第"</span> + i + <span class="string">"个元素："</span> + nums[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="foreach-循环获取数组元素"><a href="#foreach-循环获取数组元素" class="headerlink" title="foreach 循环获取数组元素"></a>foreach 循环获取数组元素</h3><p>这是一个更加简洁的 for 循环方式，在遍历数组或集合元素的时候，不用获取数组或集合的长度，也不用根据索引来访问数组元素或集合元素。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(数据类型 变量名 : 数组变量名 | 集合变量名)&#123; </span><br><span class="line">    <span class="comment">// 访问操作 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历数组，获取所有数值 </span></span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">int</span> num : nums )&#123; </span><br><span class="line">    System.out.println(<span class="string">"获取到的数值是："</span> + num); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> num: nums) &#123;</span><br><span class="line">    System.out.println(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数组进阶"><a href="#数组进阶" class="headerlink" title="数组进阶"></a>数组进阶</h3><h4 id="内存中数组"><a href="#内存中数组" class="headerlink" title="内存中数组"></a>内存中数组</h4><p>数组是引用类型数据，数组引用变量只是一个引用，可以指向任何有效的内存，才能访问到对应的数组元素。</p>
<p>数组元素和数组变量在内存中是分开存放的，分别在堆内存和栈内存中，</p>
<p>如图：</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gdzk82nz0ej30lz08rwfm.jpg" alt="image-20200420005122637"></p>
<p><strong>拓展：堆内存和栈内存</strong> </p>
<p>当一个方法执行时，每个方法都会建立自己的内存栈，在这个方法内定义的变量将会逐个放入这块栈内存里，随着方法的执行结束，这个方法的内存栈也将会自然销毁。 </p>
<p> 因此，所有在方法中定义的局部变量都是放在占内存中的，在程序中创建一个对象时，这个对象将被保存到运行时数据区中，以便反复利用 （因为对象的创建成本通常较大），这个运行时数据区就是堆内存。 </p>
<p>堆内存中的对象不会随方法的结束而销毁，即使方法结束后，这个对象 还可能被另一个引用变量所引用（在方法的参数传递时很常见），则这 个对象依然不会被销毁。只有当一个对象没有任何引用变量引用它时， 系统的垃圾回收器才会在合适的时候回收它。</p>
<p>如果堆内存中数组不再有任何引用变量指向自己（也就是红色那个线没有了），则这个数组将成为垃圾，该数组所占的内存将被系统的垃圾回收器回收。</p>
<p>如果你想手动让垃圾回收器回收一个数组所占的内存空间，可以将该数组变量赋为 null，相当于把上面那根红色的线切断了。</p>
<h4 id="简单数组的初始化过程"><a href="#简单数组的初始化过程" class="headerlink" title="简单数组的初始化过程"></a>简单数组的初始化过程</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义数组 </span></span><br><span class="line"><span class="keyword">int</span>[] nums; </span><br><span class="line"><span class="comment">// 初始化数组，指定长度 </span></span><br><span class="line">nums = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>]; </span><br><span class="line"><span class="comment">// 赋值 </span></span><br><span class="line">nums = &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line"><span class="comment">// 动态初始化</span></span><br><span class="line">System.out.println(array); <span class="comment">// [I@61bbe9ba</span></span><br><span class="line"><span class="comment">// 地址值</span></span><br><span class="line">System.out.println(array[<span class="number">0</span>]); <span class="comment">// 0</span></span><br><span class="line">System.out.println(array[<span class="number">1</span>]); <span class="comment">// 0</span></span><br><span class="line">System.out.println(array[<span class="number">2</span>]); <span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 改变数组当中元素的内容</span></span><br><span class="line">array[<span class="number">1</span>] = <span class="number">10</span>;</span><br><span class="line">array[<span class="number">2</span>] = <span class="number">20</span>;</span><br><span class="line">System.out.println(array); <span class="comment">// [I@61bbe9ba</span></span><br><span class="line"><span class="comment">// 地址值</span></span><br><span class="line">System.out.println(array[<span class="number">0</span>]); <span class="comment">// 0</span></span><br><span class="line">System.out.println(array[<span class="number">1</span>]); <span class="comment">// 10</span></span><br><span class="line">System.out.println(array[<span class="number">2</span>]); <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>
<h4 id="数组越界"><a href="#数组越界" class="headerlink" title="数组越界"></a>数组越界</h4><p>【特重要】如果访问数组元素时指定的索引值小于 0，或者大于等于数组的长度，编译程序不会出现任何错误，但运行时会出现异常：java.lang.ArrayIndexOutOfBoundsException:N（数组索引越界异常），异常信息后的 N 就是开发者原本试图访问的数组索。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = &#123;<span class="number">15</span>, <span class="number">25</span>, <span class="number">35</span>&#125;;</span><br><span class="line">System.out.println(array[<span class="number">0</span>]); <span class="comment">//15</span></span><br><span class="line">System.out.println(array[<span class="number">1</span>]); <span class="comment">// 25</span></span><br><span class="line">System.out.println(array[<span class="number">2</span>]); <span class="comment">// 35</span></span><br><span class="line"><span class="comment">// 错误写法</span></span><br><span class="line"><span class="comment">// 并不存在3号元素，所以发生异常</span></span><br><span class="line"><span class="comment">// java.lang.ArrayIndexOutOfBoundsException</span></span><br><span class="line">System.out.println(array[<span class="number">3</span>]);</span><br></pre></td></tr></table></figure>
<p>所有的引用类型变量，都可以赋值为一个 null 值，它代表里面什么都没有。</p>
<p>数组必须通过 new 进行初始化才能使用其中的元素。但如果只是赋值了一个null，没有进行new创建，那么还会发生：空指针异常NullPointerException。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] array = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// 使用new 初始化之后就好了</span></span><br><span class="line">    array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    System.out.println(array[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="数组长度的变化"><a href="#数组长度的变化" class="headerlink" title="数组长度的变化"></a>数组长度的变化</h4><p>获取数组的长度：数组名称.length</p>
<p><strong>注意：</strong>数组一旦创建，程序运行期间，长度不可改变。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arrayB = &#123;<span class="number">166</span>, <span class="number">20</span>, <span class="number">220</span>, <span class="number">344</span>, <span class="number">35</span>, <span class="number">24</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">13</span>, <span class="number">15</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">47</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> len = arrayB.length;</span><br><span class="line">    System.out.println(<span class="string">"arrayB 数组的长度是："</span> + len);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] arrayC = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    System.out.println(arrayC.length); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">    arrayC = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];</span><br><span class="line">    System.out.println(arrayC.length); <span class="comment">// 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="数组最大值-amp-最小值"><a href="#数组最大值-amp-最小值" class="headerlink" title="数组最大值&amp;最小值"></a>数组最大值&amp;最小值</h4><h2 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h2><h2 id="Arrays-工具类"><a href="#Arrays-工具类" class="headerlink" title="Arrays 工具类"></a>Arrays 工具类</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/04/19/数组-B4/" data-id="ckdrhu2nt001x9w5o5wtbzwa9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-流程控制-B3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/18/流程控制-B3/" class="article-date">
  <time datetime="2020-04-18T14:14:02.000Z" itemprop="datePublished">2020-04-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/18/流程控制-B3/">流程控制-B3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><h2 id="顺序流程"><a href="#顺序流程" class="headerlink" title="顺序流程"></a>顺序流程</h2><p>就是代码执行的时候是从上到下一行行执行，中途不会出现判断或者是跳转等情况。</p>
<h2 id="分支流程"><a href="#分支流程" class="headerlink" title="分支流程"></a>分支流程</h2><h3 id="if-条件语句"><a href="#if-条件语句" class="headerlink" title="if 条件语句"></a>if 条件语句</h3><p>if 语句，主要是依照条件的真假，来决定要不要执行对应的内容。</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gdybp3wepkj30fp0claa8.jpg" alt="image-20200418231318234"></p>
<h3 id="if…else-if…else"><a href="#if…else-if…else" class="headerlink" title="if…else if…else"></a>if…else if…else</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gdybmwvatkj30ft0e60t9.jpg" alt="image-20200418231111308"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式) &#123; </span><br><span class="line"><span class="comment">// 满足条件的执行语句 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (条件表达式) &#123; </span><br><span class="line"><span class="comment">// 满足条件的执行语句 </span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123; </span><br><span class="line"><span class="comment">// 不满足条件的执行语句 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (条件表达式) &#123; </span><br><span class="line"><span class="comment">// 满足条件1 的执行语句 </span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件表达式) &#123; </span><br><span class="line"><span class="comment">// 中间可以有多个 else..if 块 </span></span><br><span class="line"><span class="comment">// 满足条件2 的执行语句 </span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123; </span><br><span class="line"><span class="comment">// 不满足条件的执行语句 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：花括号中的内容，称为代码块，一个代码块会被当成一个整体来执行。</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例：判断闰年</span></span><br><span class="line"><span class="comment">//第一，能被 4 整除，但不能被 100 整除，就是闰年；</span></span><br><span class="line"><span class="comment">//第二，能被 400 整除，也是闰年</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 定义年份</span></span><br><span class="line">    <span class="keyword">int</span> year = <span class="number">2019</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>((year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || (year % <span class="number">400</span> == <span class="number">0</span>)) &#123;</span><br><span class="line">    System.out.println(year + <span class="string">"是润年"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    System.out.println(year + <span class="string">"不是润年"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="switch语句"><a href="#switch语句" class="headerlink" title="switch语句"></a>switch语句</h3><p>主要由一个控制表达式和多个 case 标签组合而成，但表达式中不能是 boolean 类型的数据。</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gdyclqrpy9j30io0ej0t7.jpg" alt="image-20200418234439640"></p>
<p><strong>switch 语句使用的注意事项：</strong></p>
<ul>
<li><p>多个 case 后面的数值不可以重复。</p>
</li>
<li><p>switch 后面小括号当中只能是下列数据类型：</p>
<p>基本数据类型：byte/short/char/int</p>
<p>引用数据类型：String字符串、enum枚举</p>
</li>
<li><p>switch 语句格式可以很灵活：前后顺序可以颠倒，而且 break 语句还可以省略。“匹配哪一个 case 就从哪一个位置向下执行，直到遇到了 break 或者整体结束为止。” </p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> week = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">switch</span> (week) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      System.out.println(<span class="string">"星期一"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      System.out.println(<span class="string">"星期二"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">      System.out.println(<span class="string">"星期三"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">      System.out.println(<span class="string">"星期四"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">      System.out.println(<span class="string">"星期五"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">      System.out.println(<span class="string">"星期六"</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">      System.out.println(<span class="string">"星期日"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="循环流程-重点"><a href="#循环流程-重点" class="headerlink" title="循环流程(重点)"></a>循环流程(重点)</h2><h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>当条件表达式返回 true 的时候，则可以执行代码块中的内容，在循环体中要有迭代语句，才能让条件中的变量受到控制。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件表达式)&#123; </span><br><span class="line">  <span class="comment">// 满足条件，则执行 </span></span><br><span class="line">  <span class="comment">// 迭代语句（退出机制）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="do…while循环"><a href="#do…while循环" class="headerlink" title="do…while循环"></a>do…while循环</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123; </span><br><span class="line">    <span class="comment">// 循环执行体 </span></span><br><span class="line">    <span class="comment">// 迭代语句 </span></span><br><span class="line">&#125; <span class="keyword">while</span> (条件表达式)</span><br></pre></td></tr></table></figure>
<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><p>这是一个使用频次最多的循环语句。</p>
<p><strong>语法格式：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for( 初始化语句; 条件表达式; 迭代语句)&#123; </span><br><span class="line">// 执行体 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/04/18/流程控制-B3/" data-id="ckdrhu2nw00229w5o261kw70k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Java基本语法-B2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/08/Java基本语法-B2/" class="article-date">
  <time datetime="2020-04-08T14:46:55.000Z" itemprop="datePublished">2020-04-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/08/Java基本语法-B2/">Java基本语法-B2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="基本语法（一）"><a href="#基本语法（一）" class="headerlink" title="基本语法（一）"></a>基本语法（一）</h1><h2 id="程序的基本结构"><a href="#程序的基本结构" class="headerlink" title="程序的基本结构"></a>程序的基本结构</h2><h4 id="Java程序的基本形式"><a href="#Java程序的基本形式" class="headerlink" title="Java程序的基本形式"></a>Java程序的基本形式</h4><p>Java语言是面向对象的语言。Java程序主要以类的形式存在，也叫Class，类也是Java程序的最小程序单位。</p>
<p>Java程序要求所有执行语句、方法都必须放在类里。</p>
<p>最简单的Java程序：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在上面的 Hello 类中，只是一个空类的定义，没有任何的类成分，可以通过编译，但执行时会报错误提示。</p>
<p>因为规定某个类如果需要被解释器直接解释执行，需要包含 main() 程序入口方法，而且还要使用 public static 来修饰，返回值类型还要设置为void，另外此方法的参数还得是 String[] args 字符串数组。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  System.out.println(<span class="string">"hello"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将来，就算我们 Java 程序慢慢变复杂了，但对一个 Java 程序来讲，只需要在一个类中有一个作为“入口”的 main 方法就好，其他的类都会被 main()方法直接或者间接调用。</p>
<h4 id="Java程序的运行机制"><a href="#Java程序的运行机制" class="headerlink" title="Java程序的运行机制"></a>Java程序的运行机制</h4><p>计算机高级语言按程序的执行方式有两种：编译型和解释型。</p>
<p><strong>编译型：</strong><br>有专门的编译器，针对不同的操作系统，将源代码直接编译成当前系统硬件执行的机器码，然后包装成当前系统能识别且可执行的程序格式。所生成的可执行性程序能够在特定的系统平台上运行，不受开发环境限制。如果是想在不同的系统平台上执行，就需要将源代码直接放到不同系统平台中的编译器里再度编译，方可执行。<br>常见的编译型语言有：C、C++、Swift、Kotlin、Objective-C 等等。 </p>
<p><strong>解释型：</strong><br>有专门的解释器，对源程序逐行解释成当前系统平台的机器码并立即执行的语言。解释型语言，每次执行的时候，都需要进行一次编译，相当于把编译型语言中的编译和解释过程混合到一起同时完成。所以，它的效率比较低，还不能脱离解释器独立运行。但它的优点是，跨平台运行特别简单，只要对应的平台上有相关的解释器即可。<br>常见的解释型语言有：JavaScript、Ruby、Python 等等。</p>
<h4 id="JVM初识"><a href="#JVM初识" class="headerlink" title="JVM初识"></a>JVM初识</h4><p>Java 语言非常特殊，Java 源程序也会经过编译，但编译后不会生成特定平台的机器码，而是会生成一种与平台无关的字节码文件。但字节码文件不可执行，如果要执行，需要使用 Java 解释型器来解释执行。所以，Java 程序的执行过程，必须经过先编译、后解释两个步骤。可认为，<strong>Java</strong> 语言既是编译型语言，也是解释型语言。</p>
<p><strong>运行过程：</strong></p>
<ol>
<li><p>Java源文件(xxx.java)通过javac指令进行编译，得到字节码文件(xxx.class)。</p>
</li>
<li><p>字节码文件通过java指令解释执行，字节码经过JVM(解释器)的处理后生成电脑可以直接执行的机器码，至此java程序才能得以正确运行。</p>
</li>
</ol>
<h2 id="编程规范"><a href="#编程规范" class="headerlink" title="编程规范"></a>编程规范</h2><h3 id="Java源文件的命名规则"><a href="#Java源文件的命名规则" class="headerlink" title="Java源文件的命名规则"></a>Java源文件的命名规则</h3><ul>
<li><p>Java 程序的源文件的扩展名为：xxx.java</p>
</li>
<li><p>如果类使用 public 进行修饰，则文件名要和类名一致。一个 Java 源文件中，可以定义多个 class，相互之间完全独立，但一个类中只能有一个 public 修饰的类。</p>
</li>
<li><p>一般情况下，建议一个 Java 源文件，只定义一个 Java 类即可。而且，最好源文件名与 public 所修饰的类名一致。</p>
</li>
</ul>
<h3 id="Java语言的大小写问题"><a href="#Java语言的大小写问题" class="headerlink" title="Java语言的大小写问题"></a>Java语言的大小写问题</h3><p>Java语言严格区分大小写，对大小写敏感。</p>
<p>Java语言规定的“关键字”单词全部都是小写的。</p>
<h3 id="路径中的空格问题"><a href="#路径中的空格问题" class="headerlink" title="路径中的空格问题"></a>路径中的空格问题</h3><p>文件夹命名时，文件夹名称千万不能有空格。（切记！！！切记！！！切记！！！）</p>
<h3 id="main-方法问题"><a href="#main-方法问题" class="headerlink" title="main()方法问题"></a>main()方法问题</h3><p>一个 Java 程序，如果要运行它的话，必须包含 main() 方法，具体格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 需要执行的代码语句</span></span><br><span class="line">  System.out.println(<span class="string">"hello lucaswangdev"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p><strong>常见分隔符：</strong></p>
<p>在 Java 语言中，常见的分隔符主要有：分号、花括号、方括号、圆括号、空格、圆点等。</p>
<h4 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h4><p>在写代码的时候，每一句代码的结束，都需要使用分号来标明。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">"每一句代码，都是用分号来结束的"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="花括号"><a href="#花括号" class="headerlink" title="花括号"></a>花括号</h4><p>花括号，主要是用来定义一个代码块。代码块，指的就是使用“{”符号作为开始，和“}”符号作为结束，所包含的一</p>
<p>段代码，在逻辑上是一个整体。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  	System.out.println(<span class="string">"I"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Love"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Java"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="方括号"><a href="#方括号" class="headerlink" title="方括号"></a>方括号</h4><p>方括号，主要是用来访问数组元素，经常紧跟数组变量名，方括号中主要指定数组元素的索引值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String[] names = &#123;<span class="string">"张三"</span>, <span class="string">"李四"</span>, <span class="string">"王五"</span>&#125;;</span><br><span class="line">System.out.println(names[<span class="number">1</span>]); <span class="comment">// 李四</span></span><br></pre></td></tr></table></figure>
<h4 id="圆括号"><a href="#圆括号" class="headerlink" title="圆括号"></a>圆括号</h4><ul>
<li><p>定义方法的时候，可以用来声明所有的形参。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用方法的时候，可以用来传递实参。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setName(<span class="string">"jiajia"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>在计算的时候，提升计算的优先级。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num = <span class="number">2</span> * (<span class="number">3</span> + <span class="number">5</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>对类型进行强制转换。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num2 = (<span class="keyword">int</span>) <span class="number">3.14</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h4><p>空格，主要用于分隔一条语句中的不同部分。</p>
<h4 id="圆点"><a href="#圆点" class="headerlink" title="圆点"></a>圆点</h4><p>圆点，一般用作类<strong>/</strong>对象 和它的成员（包括成员变量、方法和内部类之间的分隔符），表明调用某个类或某个实例的指定成员。</p>
<h4 id="标识符命名规则"><a href="#标识符命名规则" class="headerlink" title="标识符命名规则"></a>标识符命名规则</h4><p>标识符，主要是用于给程序中变量、类、方法命名的符号。Java 语言的标识符，必须以字母、下划线、美元符开头，后面可以跟任意数目的字母、数字、下划线和美元符。</p>
<p>在书写的时候，特别要注意大小写的问题。</p>
<p><strong>具体书写规则如下：</strong></p>
<ol>
<li>可以由字母、数字、下划线和美元符组成，其中不能以数字开 头。</li>
<li>不能是 <em>Java</em> 关键字和保留字，但可以包含关键字和保留字。 </li>
<li>不能包含空格。 </li>
<li>只能包含美元符号，不能包含其他 <em>@</em>、#<em>、%</em> 等特殊符号。</li>
</ol>
<p><strong>约定：</strong></p>
<ol>
<li><p>标识符要符合语义信息</p>
</li>
<li><p>包名所有字母小写 </p>
</li>
<li><p>类名每个首字母大写其他小写 </p>
</li>
<li><p>变量和方法第一个单词小写第二个开始首字母大写 </p>
</li>
<li><p>常量所有首字母大写</p>
</li>
</ol>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>Java 中的关键字，是一些具有特殊用途的单词，也叫 keyword。所有的关键字都是小写的，在书写的时候要特别注意。另外true 、false和null都不是关键字，而是特殊的直接量。</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gdnmvd8q2hj30ta087ta0.jpg" alt="image-20200409171817681"></p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="数据类型分类"><a href="#数据类型分类" class="headerlink" title="数据类型分类"></a>数据类型分类</h3><p>Java 语言是强类型语言，强类型主是指：</p>
<ul>
<li><p>所有的变量，必须先声明，后使用；</p>
</li>
<li><p>指定的变量只能接类型与之匹配的值。</p>
</li>
</ul>
<p>每个变量、每个表达式，在编译时，就已经被确定对应的类型。类型，能够限制一个变量能被赋的值，能够限制一个表达式可以产生的值，这就可以限制了在这些值上可以进行的一些操作和操作的意义。</p>
<p><strong>语法格式：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type varName [= varValue];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line">String name = <span class="string">"lucaswangdev"</span>;</span><br></pre></td></tr></table></figure>
<p>Java 支持的数据类型主要有两种：<strong>基本数据类型 </strong>和 <strong>引用数据类型</strong>。 </p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gdnnhgchjvj30mm0bj75s.jpg" alt></p>
<h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p><strong>如何使用？</strong></p>
<ol>
<li>当你表示整数时就用 int（年龄、商品数量等），如果是小数就用 double（商品价格、身高等）。</li>
<li>当你表示时间数值、文件、内存大小（程序中以字节为单位统计大 小的）就用 long，对于那些较大的数据也使用 long。 </li>
<li>如果在 I/O 操作和网络编程中，涉及内容传递，或者编码转换时 使用 byte。 </li>
<li>如果在逻辑判断中，则需要使用 boolean 值作为判断条件，要么 true，要么 false。 </li>
<li>当你需要处理中文的时候，使用 char。</li>
</ol>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gdnnl91sjdj30ln07h0y3.jpg" alt="image-20200409174315442"></p>
<h4 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h4><p>整型主要指的是以下四种类型：byte、short、int、long。</p>
<p>【注意】在指定 long 型整数的时候，需要在这个整数值后增加字母 L，也可以是小写 l。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 100为byte类型</span></span><br><span class="line"><span class="keyword">byte</span> num = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 777L为long类型</span></span><br><span class="line"><span class="keyword">long</span> bigNumber = <span class="number">777L</span>;</span><br></pre></td></tr></table></figure>
<p><strong>什么是变量？变量有什么用？</strong></p>
<p>编程的本质，就是对内存中数据的访问和修改。程序所用的数据都会保存在内存中，开发者需要一种方式去访问或修改内存中的数据。</p>
<p><strong>数据溢出会出现什么情况？</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 最大值和最小值</span></span><br><span class="line">     <span class="keyword">int</span> max = <span class="number">2147483647</span>;</span><br><span class="line">     <span class="keyword">int</span> min = -<span class="number">2147483647</span>;</span><br><span class="line">    <span class="comment">// 最大值 +1</span></span><br><span class="line">     System.out.println(max + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 最小值 -1</span></span><br><span class="line">     System.out.println(min - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决方法1：		</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 最大值和最小值</span></span><br><span class="line">    <span class="keyword">long</span> max = <span class="number">2147483647</span>;</span><br><span class="line">    <span class="keyword">long</span> min = -<span class="number">2147483647</span>;</span><br><span class="line">    <span class="comment">// 最大值 +1</span></span><br><span class="line">    System.out.println(max + <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// 最小值 -1</span></span><br><span class="line">    System.out.println(min - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解决方法2：		</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 最大值和最小值</span></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">2147483647</span>;</span><br><span class="line">    <span class="keyword">int</span> min = -<span class="number">2147483647</span>;</span><br><span class="line">    <span class="comment">// 最大值 +1</span></span><br><span class="line">    System.out.println(max + <span class="number">1L</span>);</span><br><span class="line">    <span class="comment">// 最小值 -1</span></span><br><span class="line">    System.out.println(min - <span class="number">1L</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字符型"><a href="#字符型" class="headerlink" title="字符型"></a>字符型</h4><p>字符型，一般用来表示单个的字符，并需要使用一对单引号（’’）包含起来。</p>
<p><strong>字符型的三种表示形式：</strong></p>
<ul>
<li>指定单个字符，比如‘A’、‘1’、‘i’ 等。 </li>
<li>指定转义字符，比如‘\n’、‘\r’ 等。 </li>
<li>指定 Unicode 值，比如 ‘\uXXX’ 等。</li>
</ul>
<p><strong>常用转义字符：</strong></p>
<ul>
<li>\b  退格 </li>
<li>\f   换页 </li>
<li>\n  换行 </li>
<li>\r  回车 </li>
<li>\t  下个tab </li>
<li>\ \’  单引号 ‘ </li>
<li>\ \”  双引号 “</li>
</ul>
<h4 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h4><p>Java 的浮点类型有两种：float 和 double。</p>
<p><strong>Double</strong> </p>
<p>Java 语言的浮点类型，默认是 double 类型，也可以在一个浮点数后加 d 或 D（不过没必要）。</p>
<p>double 是双精度浮点数，一个 double 类型的数值占 8 字节、64 位。</p>
<p>double 型数值，第 1 位是符号位，接下来的 11 位表示指数，再接下来 52位表示尾数。</p>
<p><strong>Float</strong> </p>
<p>float 是单精度浮点数，一个 float 类型的数值占 4 字节、32 位。</p>
<p>float 型数值，第 1 位是符号位，接下来的 8 位表示指数，再接下来 23 位表示尾数。</p>
<p>如果想把一个浮点数当作 float 类型使用，则需要其后加上 f 或 F。</p>
<h4 id="布尔型"><a href="#布尔型" class="headerlink" title="布尔型"></a>布尔型</h4><p>布尔型，也叫 boolean 型，只有两个值：真（true）和假（false）。 boolean 类型的值或变量主要用作旗标来进行流程控制，常用在以下几种流程中：</p>
<ul>
<li>if 条件流程控制语句</li>
<li>while 循环流程控制语句</li>
<li>do…while 循环流程控制语句</li>
<li>for 循环流程控制语句</li>
<li>三目运算</li>
</ul>
<h3 id="基本数据类型转换"><a href="#基本数据类型转换" class="headerlink" title="基本数据类型转换"></a>基本数据类型转换</h3><h4 id="自动类型转换"><a href="#自动类型转换" class="headerlink" title="自动类型转换"></a>自动类型转换</h4><p>如果系统支持把某种基本类型的值直接赋给另一种基本类型的变量，这种方式就是自动类型转换。</p>
<p>就好比，有两个瓶子，将小瓶中盛满的水导入空着的大瓶子，不会溢出来。</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gdny901lnrj30jr03awej.jpg" alt="image-20200409235205085"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ii = <span class="number">88</span>;</span><br><span class="line"><span class="comment">// int ii 转float</span></span><br><span class="line"><span class="keyword">float</span> ff = ii;</span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span> bb = <span class="number">5</span>;</span><br><span class="line"><span class="comment">// byte转char会报错</span></span><br><span class="line"><span class="keyword">char</span> cc = bb;</span><br><span class="line"></span><br><span class="line"><span class="comment">// byte可以转换成double,输出 5.0</span></span><br><span class="line"><span class="keyword">double</span> dd = bb;</span><br><span class="line">System.out.println(dd);</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong></p>
<p>把任何基本类型的值 + 字符串值的时候，都会自动被转成字符串类型（引用数据类型）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不管是什么数据类型，只要跟字符串相连，最终都变成字符串</span></span><br><span class="line">String str = <span class="number">6.66f</span> + <span class="string">""</span>;</span><br><span class="line">System.out.println(str);</span><br><span class="line"><span class="comment">// 从左往右运算，打印 6Java</span></span><br><span class="line">System.out.println(<span class="number">1</span> + <span class="number">2</span> + <span class="number">3</span> + <span class="string">"Java"</span>);</span><br><span class="line"><span class="comment">// 从左往右运算，全都转成字符串了，打印 Java123</span></span><br><span class="line">System.out.println(<span class="string">"Java"</span> + <span class="number">1</span> + <span class="number">2</span> + <span class="number">3</span>);</span><br></pre></td></tr></table></figure>
<p><strong>自动转换</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一个整数，默认就是 int 类型</span></span><br><span class="line"><span class="comment">// 一个浮点数，默认就是 double 类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 左边是 long 类型，右边是默认的 int 类型，左右不一样</span></span><br><span class="line"><span class="comment">// 等号代表赋值，将右侧的int常量，交给左侧的long变量进行存储</span></span><br><span class="line"><span class="comment">// int -&gt; long，符合了数据范围从小到大的要求</span></span><br><span class="line"><span class="comment">// 这一行代码发生了自动类型转换。</span></span><br><span class="line"><span class="keyword">long</span> num1 = <span class="number">100</span>;</span><br><span class="line">System.out.println(num1);</span><br><span class="line">System.out.println(Utils.getType(num1)); <span class="comment">//class java.lang.Long</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 100 // 左边是double类型，右边是float类型，左右不一样</span></span><br><span class="line"><span class="comment">// float -&gt; double，符合从小到大的规则</span></span><br><span class="line"><span class="comment">// 也发生了自动类型转换</span></span><br><span class="line"><span class="keyword">double</span> num2 = <span class="number">2.5F</span>;</span><br><span class="line">System.out.println(num2); <span class="comment">// 2.5</span></span><br><span class="line">System.out.println(Utils.getType(num2)); <span class="comment">//class java.lang.Double</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 左边是float类型，右边是long类型，左右不一样</span></span><br><span class="line"><span class="comment">// long --&gt; float，范围是float更大一些，符合从 小到大的规则</span></span><br><span class="line"><span class="keyword">float</span> num3 = <span class="number">30L</span>;</span><br><span class="line">System.out.println(num3); <span class="comment">// 30.0</span></span><br><span class="line">System.out.println(Utils.getType(num3)); <span class="comment">// class java.lang.Float</span></span><br></pre></td></tr></table></figure>
<h4 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h4><p>强制转换，类似将大瓶子的水直接导入一个空的小瓶中，会引起溢出，数据丢失。</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gdnycmoknuj30ju0310ss.jpg" alt="image-20200409235534660"></p>
<p><strong>强制转换：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//左边是int类型，右边是long类型，不一样</span></span><br><span class="line"><span class="comment">//long --&gt; int，不是从小到大</span></span><br><span class="line"><span class="comment">//不能发生自动类型转换！</span></span><br><span class="line"><span class="comment">//格式：范围小的类型 范围小的变量名 = (范围小的类型) 原本范围大的数据;</span></span><br><span class="line"><span class="keyword">int</span> num = (<span class="keyword">int</span>) <span class="number">100L</span>;</span><br><span class="line">System.out.println(num);</span><br><span class="line"></span><br><span class="line"><span class="comment">// long强制转换成为int类型</span></span><br><span class="line"><span class="keyword">int</span> num2 = (<span class="keyword">int</span>) <span class="number">6000000000L</span>;</span><br><span class="line">System.out.println(num2);<span class="comment">// 1705032704</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// double --&gt; int，强制类型转换</span></span><br><span class="line"><span class="keyword">int</span> num3 = (<span class="keyword">int</span>) <span class="number">3.99</span>; <span class="comment">// 3，这并不是四舍五入，所有的小数位都会被舍弃掉</span></span><br><span class="line">System.out.println(num3);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这是一个字符型变量，里面是大写字母A</span></span><br><span class="line"><span class="keyword">char</span> c1 = <span class="string">'A'</span>; <span class="comment">// 66，也就是大写字母A被当做65进行处理</span></span><br><span class="line">System.out.println(c1 + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// 计算机的底层会用一个数字（二进制）来代表字符A， 就是65</span></span><br><span class="line"><span class="comment">// 一旦char类型进行了数学运算，那么字符就会按照一 定的规则翻译成为一个数字</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">byte</span> num4 = <span class="number">40</span>; <span class="comment">// 注意！右侧的数值大小不能超过 左侧的类型范围</span></span><br><span class="line"><span class="keyword">byte</span> num5 = <span class="number">50</span>;</span><br><span class="line"><span class="comment">// byte + byte --&gt; int + int --&gt; int</span></span><br><span class="line"><span class="keyword">int</span> result1 = num4 + num5;</span><br><span class="line">System.out.println(result1); <span class="comment">// 90</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">short</span> num6 = <span class="number">60</span>;</span><br><span class="line"><span class="comment">// byte + short --&gt; int + int --&gt; int</span></span><br><span class="line"><span class="comment">// int强制转换为short：注意必须保证逻辑上真实大小 本来就没有超过short范围，否则会发生数据溢出</span></span><br><span class="line"><span class="keyword">short</span> result2 = (<span class="keyword">short</span>) (num4 + num6);</span><br><span class="line">System.out.println(result2); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<h4 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h4><p>9种预定义的基本类型Class对象，8个基本类型和void，这些都有Java虚拟机创建的，并且具有相同的名称。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//public native boolean isPrimitive();</span></span><br><span class="line"></span><br><span class="line">System.out.println(<span class="keyword">byte</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>; <span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">short</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;<span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">int</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;<span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">long</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;<span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">float</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;<span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">double</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;<span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">char</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;<span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">boolean</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;<span class="comment">// true</span></span><br><span class="line">System.out.println(<span class="keyword">void</span><span class="class">.<span class="keyword">class</span>.<span class="title">isPrimitive</span>())</span>;</span><br></pre></td></tr></table></figure>
<p>类型判断的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取变量类型方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getType</span><span class="params">(Object object)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> object.getClass().toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><p>算术运算符主要是基本的数学运算：加、减、乘、除和求余等</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加法</span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">11</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">int</span> sum = a + b;</span><br><span class="line"></span><br><span class="line"><span class="comment">//减法</span></span><br><span class="line"><span class="keyword">int</span> c = <span class="number">15</span>;</span><br><span class="line"><span class="keyword">int</span> d = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> sub = c - d;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 乘法</span></span><br><span class="line"><span class="keyword">int</span> e = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> f = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> multiply = e * f;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 除法</span></span><br><span class="line"><span class="keyword">int</span> g = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">int</span> h = <span class="number">9</span>;</span><br><span class="line"><span class="keyword">int</span> div = g / h;</span><br><span class="line">System.out.println(<span class="string">"div = "</span> +div);</span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> i = <span class="number">3.0</span>;</span><br><span class="line"><span class="keyword">double</span> j = g / i;</span><br><span class="line">System.out.println(<span class="string">"j = "</span> + j);</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果除数是0.0，则得到正无穷大， Infinity</span></span><br><span class="line"><span class="comment">//如果除数是-0.0，则得到负无穷大， -Infinity</span></span><br><span class="line"><span class="keyword">double</span> k = g / <span class="number">0.0</span>;</span><br><span class="line">System.out.println(<span class="string">"k = "</span> + k); <span class="comment">// k = Infinity</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// java.lang.ArithmeticException: / by zero</span></span><br><span class="line"><span class="comment">//int l = g / 0;</span></span><br><span class="line"><span class="comment">//System.out.println("l = " + l);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 取余</span></span><br><span class="line"><span class="comment">// 前者除以后者，得到一个整除的结果后剩下的值就是余数</span></span><br><span class="line"><span class="keyword">int</span> m = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> o = m % n;</span><br><span class="line">System.out.println(<span class="string">"o = "</span> + o);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对 0.0 求余，则得到非数</span></span><br><span class="line">Object p = m % <span class="number">0.0</span>;</span><br><span class="line">System.out.println(<span class="string">"p = "</span> + p);</span><br></pre></td></tr></table></figure>
<h4 id="自加和自减"><a href="#自加和自减" class="headerlink" title="自加和自减"></a>自加和自减</h4><p>自加，用 ++ 表示，它是单目运算符，只能操作一个操作数。自加运算符只能操作单个数值型（整型、浮点型等）的变量，不能操作常量或表达式。</p>
<p>运算符可以出现在操作数的左边，也可以出现在右边，但特别要注意，出现左边和右边的最终效果是不一样的。</p>
<p>如果把 ++ 放在左边，则先把操作数加 1；然后才把操作数放入表达式中运算。</p>
<p>如果把 ++ 放在右边，则先把操作数放入表达式中运算，然后才把操作数加1。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">++a</span><br><span class="line">a = a + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">a++</span><br><span class="line">temp = a;</span><br><span class="line">a = a + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> temp;</span><br><span class="line"></span><br><span class="line">x++ increments the value of variable x after processing the current statement.</span><br><span class="line">++x increments the value of variable x before processing the current statement.</span><br><span class="line"></span><br><span class="line">So just decide on the logic you write.</span><br><span class="line">x += ++i will increment i and add i+<span class="number">1</span> to x. </span><br><span class="line">x += i++ will add i to x, then increment i.</span><br></pre></td></tr></table></figure>
<p>例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">66</span>;</span><br><span class="line"><span class="comment">// 先将 a 的值，放入表达式中进行运算，然后再给 a 加 1</span></span><br><span class="line"><span class="keyword">int</span> b = a++ + <span class="number">10</span>;</span><br><span class="line"><span class="comment">// 先将 a 加上 1，然后将新得到的值，再放入表达式中进行运算</span></span><br><span class="line"><span class="keyword">int</span> c = ++a + <span class="number">10</span>;</span><br><span class="line">System.out.println(<span class="string">"a = "</span> + a); <span class="comment">// 68</span></span><br><span class="line">System.out.println(<span class="string">"b = "</span> + b); <span class="comment">// 76</span></span><br><span class="line">System.out.println(<span class="string">"c = "</span> + c); <span class="comment">// 78</span></span><br></pre></td></tr></table></figure>
<h4 id="复杂数学运算"><a href="#复杂数学运算" class="headerlink" title="复杂数学运算"></a>复杂数学运算</h4><p>一般我们使用 java.lang.Math 类的工具方法来完成复杂的数学运算，比如有乘方、开方等。</p>
<p>Math 类中包含了非常多的静态方法，用于完成各种复杂的数学运算。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="comment">// 乘方</span></span><br><span class="line"><span class="keyword">double</span> b = Math.pow(a, <span class="number">10</span>);</span><br><span class="line"><span class="comment">// 平方根</span></span><br><span class="line"><span class="keyword">double</span> c = Math.sqrt(a);</span><br><span class="line"><span class="comment">// 随机数</span></span><br><span class="line"><span class="keyword">double</span> d = Math.random();</span><br><span class="line"><span class="comment">// 三角函数：sin</span></span><br><span class="line"><span class="keyword">double</span> e = Math.sin(<span class="number">2.34</span>);</span><br><span class="line">System.out.println(<span class="string">"a = "</span> + a);</span><br><span class="line">System.out.println(<span class="string">"b = "</span> + b);</span><br><span class="line">System.out.println(<span class="string">"c = "</span> + c);</span><br><span class="line">System.out.println(<span class="string">"d = "</span> + d);</span><br><span class="line">System.out.println(<span class="string">"e = "</span> + e);</span><br><span class="line"><span class="comment">//        a = 12</span></span><br><span class="line"><span class="comment">//        b = 6.1917364224E10</span></span><br><span class="line"><span class="comment">//        c = 3.4641016151377544</span></span><br><span class="line"><span class="comment">//        d = 0.24282712973853993</span></span><br><span class="line"><span class="comment">//        e = 0.7184647930691261</span></span><br></pre></td></tr></table></figure>
<h4 id="特殊的-号"><a href="#特殊的-号" class="headerlink" title="特殊的 + 号"></a>特殊的 + 号</h4><p>特别要注意，+ 号除了是加号以外，它还可以作为字符串的连接符运算符使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> year = <span class="number">2020</span>;</span><br><span class="line">String str = <span class="string">"年"</span>;</span><br><span class="line">System.out.println(year + str);</span><br></pre></td></tr></table></figure>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><p>Java 使用 = 号作为赋值符号，用于为变量指定变量值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">12</span>; </span><br><span class="line"><span class="keyword">char</span> b = ‘h’; </span><br><span class="line"><span class="keyword">boolean</span> c = <span class="keyword">true</span>; </span><br><span class="line"><span class="comment">// 将变量 a 赋值给 d 变量 </span></span><br><span class="line"><span class="keyword">int</span> d = a;</span><br></pre></td></tr></table></figure>
<p>特别要注意，赋值运算符是从右向左执行计算的，程序先计算得到 = 右边的值，然后将该值“交给” = 左边的变量，变量相当一个容器，可以接收被赋的值。</p>
<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p><strong>&amp;</strong>：按位与，当两位同时为 1 时才返回 1。 </p>
<p><strong>|</strong>：按位或，只要有一位为 1 即可返回 1。 </p>
<p><strong>~</strong>：按位非，单目运算符，将操作数的每个位（包括符号位）全部取反。</p>
<p><strong>^</strong>：按位异或，当两位相同时返回 0，不同时返回 1。 </p>
<p><strong>&lt;&lt;</strong>：左移运算符，将操作数的二进制码整体左移指定位数，左移后右边空</p>
<p>出来的位以 0 填充。</p>
<p><strong>&gt;&gt;</strong>：右移运算符，把第一个操作数的二进制码右移指定位数后，左边空出</p>
<p>来的位置以原来的符号位填充。</p>
<p><strong>&gt;&gt;&gt;</strong>：无符号右移运算符。把第一个操作数的二进制码右移指定的位数后，</p>
<p>左边空出来的位置，总是以 0 来填充。</p>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p>主要用于判断两个变量或常量的大小，比较运算的结果是一个布尔值（true 或 false）。</p>
<p><strong>&gt;</strong>：大于</p>
<p><strong>&gt;=</strong>：大于等于</p>
<p><strong>&lt;</strong>：小于</p>
<p><strong>&lt;=</strong>：小于等于</p>
<p><strong>==</strong>：等于。</p>
<p>如果进行比较的两个操作数，都是数值类型，即使它们的数据类型不同，只要它们的值相等，就会返回 true。</p>
<p>如果两个操作数都是引用类型，那么只有当两个引用变量的类型具有父子</p>
<p>关系时才可以比较，而且这两个引用必须指向同一个对象才会返回 true。 </p>
<p><strong>!=</strong>：不等于</p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p><strong>&amp;&amp;</strong>：与，前后两个操作数必须都是 true 才返回 true，否则返回 false。 </p>
<p><strong>&amp;</strong>：不短路与，作用与 &amp;&amp; 相同，但不会短路。</p>
<p><strong>||</strong>：或，只要两个操作数中有一个是 true，就可以返回 true，否则返回 </p>
<p>false。 </p>
<p><strong>|</strong>：不短路或，作用与 || 相同，但不会短路。</p>
<p><strong>!</strong>：非，只需要一个操作数，如果操作数为 true，则返回 true。 </p>
<p><strong>^</strong>：异或，当两个操作数不同时才返回 true，相同时返回 false。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="number">6</span> &gt; <span class="number">3</span> &amp;&amp; <span class="string">'7'</span> &gt; <span class="number">22</span>);</span><br><span class="line">System.out.println(<span class="number">6</span> &gt;= <span class="number">7</span> || <span class="string">'h'</span> &gt; <span class="string">'b'</span>);</span><br><span class="line">System.out.println(<span class="number">6</span> &gt;= <span class="number">7</span> ^ <span class="string">'h'</span> &gt; <span class="string">'b'</span>);</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">if</span> (a &gt; <span class="number">3</span> | b++ &gt; <span class="number">12</span>) &#123;</span><br><span class="line">    System.out.println(<span class="string">"a 的值："</span> + a);</span><br><span class="line">    System.out.println(<span class="string">"b 的值："</span> + b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> c = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">int</span> d = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">if</span> (c &gt; <span class="number">3</span> || d++ &gt; <span class="number">12</span>) &#123;</span><br><span class="line">    System.out.println(<span class="string">"c 的值："</span> + c);</span><br><span class="line">    System.out.println(<span class="string">"d 的值："</span> + d);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="三目运算符"><a href="#三目运算符" class="headerlink" title="三目运算符"></a>三目运算符</h3><p><strong>语法格式：</strong> </p>
<p>表达式 ? 满足条件返回此处的值 A : 不满足返回此处的值 B </p>
<p>规则：先对表达式求值，如果表达式返回 true，返回 A 处的值；如果表达式返回 false，则返回 B 处的值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">9</span>;</span><br><span class="line">System.out.println(a &gt; b ? <span class="string">"a 比 b 大"</span> : <span class="string">"a 比 b 小"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>在编程的时候，建议要添加一些注释，可以当作是某段代码的说明性文字，或者某个类的用途，某个方法有什么功能等。</p>
<p>单行注释，使用双斜杠“//”表示，在需要注释的语句最前面添加即可实现注释。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这是单行注释 </span></span><br><span class="line"><span class="comment">// System.out.println(“注释之后的语句，不能再被执行了”);</span></span><br></pre></td></tr></table></figure>
<p>多行注释，可以一次性将多行内容全都注释了。主要是以 <strong>/*</strong> 作为开头，<strong>*/</strong>作为结尾，将需要被注释的内容包含其中即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">我可以注释很多内容 System.out.println(“Hello World”); </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/04/08/Java基本语法-B2/" data-id="ckdrhu2md000l9w5opr2zgf5y" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Java概述-B1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/03/Java概述-B1/" class="article-date">
  <time datetime="2020-04-03T12:53:27.000Z" itemprop="datePublished">2020-04-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/04/03/Java概述-B1/">Java概述(B1)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Java概述"><a href="#Java概述" class="headerlink" title="Java概述"></a>Java概述</h1><h2 id="Java是什么？"><a href="#Java是什么？" class="headerlink" title="Java是什么？"></a>Java是什么？</h2><p>Java is a general-purpose programming language that is class-based, object-oriented, and designed to have as few implementation dependencies as possible.</p>
<p>Java是一种通用的编程语言，它是基于类，面向对象的，旨在具有尽可能少的实现依赖性。</p>
<ul>
<li>是SUN(Stanford University Network，斯坦福大学网络公司)1995年推出的一门高级编程语言。</li>
<li>是一种面向Internet的编程语言。</li>
<li>随着Java技术在web方面的不断成熟，已经成为Web应用程序的首选开发语言。</li>
<li>是简单易学，完全面向对象，安全可靠，与平台无关的编程语言。</li>
</ul>
<h2 id="Java有啥用？"><a href="#Java有啥用？" class="headerlink" title="Java有啥用？"></a>Java有啥用？</h2><p>可以用来开发web服务器后台。</p>
<h2 id="Java相关名词概念"><a href="#Java相关名词概念" class="headerlink" title="Java相关名词概念"></a>Java相关名词概念</h2><h4 id="JVM（Java-Virtual-Machine）是Java虚拟机"><a href="#JVM（Java-Virtual-Machine）是Java虚拟机" class="headerlink" title="JVM（Java Virtual Machine）是Java虚拟机"></a>JVM（Java Virtual Machine）是Java虚拟机</h4><p>JVM是实现跨平台的关键。</p>
<h4 id="JDK（Java-Development-Kit）是Java语言的软件开发工具包"><a href="#JDK（Java-Development-Kit）是Java语言的软件开发工具包" class="headerlink" title="JDK（Java Development Kit）是Java语言的软件开发工具包"></a>JDK（Java Development Kit）是Java语言的软件开发工具包</h4><p>有两个重要组件:</p>
<ul>
<li><p>javac，编译源文件</p>
</li>
<li><p>java，运行编译后的java程序(.class作为后缀)</p>
</li>
</ul>
<h4 id="JRE（Java-Runtime-Environment）是Java运行环境"><a href="#JRE（Java-Runtime-Environment）是Java运行环境" class="headerlink" title="JRE（Java Runtime Environment）是Java运行环境"></a>JRE（<em>Java Runtime Environment</em>）是Java运行环境</h4><p>包括JVM和核心类库,如果只需要运行java软件安装JRE即可。</p>
<p>如果要开发java程序,需要下载JDK。</p>
<p>在JDK中包含了JRE。</p>
<p>包含关系：JDK &gt;  JRE  &gt; JVM</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdgwp9ekisj30mw09mdko.jpg" alt="image-20200403213822426"></p>
<p>##Java语言有啥特点？</p>
<p><strong>跨平台性：</strong>即通过Java语言编写的应用程序在不同的系统平台上都可以运行。</p>
<p>一次编写，到处运行。</p>
<h2 id="Java能够跨平台的原理是啥？"><a href="#Java能够跨平台的原理是啥？" class="headerlink" title="Java能够跨平台的原理是啥？"></a>Java能够跨平台的原理是啥？</h2><p>只要在需要运行java应用程序的操作系统上，先安装一个Java虚拟机(JVM Java Virtual Machine)即可。<br>由JVM来负责Java程序在该系统中的运行。</p>
<h2 id="Java开发环境搭建"><a href="#Java开发环境搭建" class="headerlink" title="Java开发环境搭建"></a>Java开发环境搭建</h2><ol>
<li><p>官网下载JDK并安装。</p>
</li>
<li><p>配置环境变量。</p>
</li>
<li>检验环境变量是否配置成功。</li>
</ol>
<p>Windows: 高级 -&gt; 设置中添加，重启CMD</p>
<p>Mac: 当前用户HOME下的 .bash_profile</p>
<h2 id="第一个Java程序"><a href="#第一个Java程序" class="headerlink" title="第一个Java程序"></a>第一个Java程序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello World"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##Java程序运行机制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">运行机制过程：</span><br><span class="line">Java源程序(*.java) =&gt;Java编译器=&gt;字节码(*.class)</span><br><span class="line">=&gt;类装载器=&gt;字节码校验器=&gt;解释器=&gt;操作系统平台</span><br><span class="line"></span><br><span class="line">Java 程序运行机制及运行过程</span><br><span class="line">JDK(Java Development Kits)-- Java开发工具集</span><br><span class="line">JRE(Java RunTime Environment)Java运行时环境 JVM</span><br><span class="line">Java API (应用程序编程接口)</span><br><span class="line">Java编译器( javac.exe)、Java运行时解释器( java.exe)、 Java文档化化工具( javadoc.exe)及其它工具及资源</span><br><span class="line">JRE的三项主要功能:</span><br><span class="line">加载代码:由类加载器(class loader)完成; 校验代码:由字节码校验器(bytecode verifier)完成; 执行代码:由运行时解释器(runtime interpreter)完成</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">""</span>); <span class="comment">//打印完信息后会换到首行</span></span><br><span class="line">System.out.print(<span class="string">""</span>); <span class="comment">//打印完信息后不会换到首行</span></span><br><span class="line">System.out.print(<span class="string">"\n"</span>); <span class="comment">//打印完信息后会换到首行</span></span><br><span class="line">\n：将光标移到下一行的第一格</span><br><span class="line">\t: 将光标移动到下一个水平制表位置</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/04/03/Java概述-B1/" data-id="ckdrhu2lw00099w5oplawkkx6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/">Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Spring Cloud入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/26/Spring Cloud入门/" class="article-date">
  <time datetime="2020-03-26T15:32:35.000Z" itemprop="datePublished">2020-03-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/26/Spring Cloud入门/">SpringCloud入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Spring-Cloud"><a href="#Spring-Cloud" class="headerlink" title="Spring Cloud"></a>Spring Cloud</h2><h3 id="什么是Spring-Cloud？"><a href="#什么是Spring-Cloud？" class="headerlink" title="什么是Spring Cloud？"></a>什么是Spring Cloud？</h3><p>Spring Cloud provides tools for developers to quickly build some of the common patterns in distributed systems (e.g. configuration management, service discovery, circuit breakers, intelligent routing, micro-proxy, control bus, one-time tokens, global locks, leadership election, distributed sessions, cluster state). Coordination of distributed systems leads to boiler plate patterns, and using Spring Cloud developers can quickly stand up services and applications that implement those patterns. They will work well in any distributed environment, including the developer’s own laptop, bare metal data centres, and managed platforms such as Cloud Foundry.</p>
<p>Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring并没有重复制造轮子，它只是将目前各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包，是微服务开发的一套完整的解决方案。</p>
<p><strong>大白话是，Spring Cloud是微服务的大管家</strong>。</p>
<h4 id="Spring-Cloud五大重要组件"><a href="#Spring-Cloud五大重要组件" class="headerlink" title="Spring Cloud五大重要组件:"></a><strong>Spring Cloud五大重要组件:</strong></h4><ul>
<li><p>服务发现——Netflflix Eureka</p>
</li>
<li><p>客服端负载均衡——Netflflix Ribbon/Feign</p>
</li>
<li><p>服务网关——Netflflix Zuul</p>
</li>
<li><p>断路器——Netflflix Hystrix</p>
</li>
<li><p>分布式配置——Spring Cloud Confifig</p>
</li>
</ul>
<h3 id="什么是微服务？"><a href="#什么是微服务？" class="headerlink" title="什么是微服务？"></a>什么是微服务？</h3><p>这里先引用wiki上的一段定义：</p>
<blockquote>
<p><strong>微服务</strong> (Microservices) 是一种软件架构风格，它是以专注于单一责任与功能的小型功能区块 (Small Building Blocks) 为基础，利用模块化的方式组合出复杂的大型应用程序，各功能区块使用与语言无关 (Language-Independent/Language agnostic) 的 API 集相互通信。</p>
</blockquote>
<h3 id="为什么需要微服务？"><a href="#为什么需要微服务？" class="headerlink" title="为什么需要微服务？"></a>为什么需要微服务？</h3><p>传统的单体应用，它有着悠久的历史，从Web应用发展的早期一直到今天有着非常多的应用。单体架构无疑是一个成功的架构设计，当你只想做一个小的应用或者Web服务时，它是一个最优的选择，但互联网发展到今天，互联网的体量已经是早期的成千上万倍，用单体架构去服务上千万甚至上亿的用户显然是极度困难的。</p>
<p><strong>单体架构在现阶段遇到的问题：</strong></p>
<ol>
<li>难以横向扩展（伸缩性差），无法根据需要单独提升系统中某一模块的性能。</li>
<li>系统内部错综复杂难以维护。</li>
<li>交付效率低，必须以大版本的形式统一交付。</li>
<li>可靠性差，一小块代码的错误可能导致整个系统宕机。</li>
<li>无法升级现有技术，系统中牵一发而动全身。<br>当然单体应用也是有它对应的优点，比如易于开发、易于测试、易于部署，但是它的缺点更加的显而易见和不可协调。</li>
</ol>
<p><strong>微服务架构相对单体架构的优势：</strong></p>
<ol>
<li>可维护性高，每个小组或者开发只需要深入理解自己所负责的模块。</li>
<li>易于部署，每个服务可以单独进行发布，不会影响整体服务。</li>
<li>易于横向扩展，可以根据需要单独提升系统中某一模块的性能。</li>
<li>交付速度快，可维护性高和易于部署解决了交付困难的问题。</li>
<li>技术升级简单，每个模块可以单独升级框架或语言，互不影响。</li>
<li>可靠性高，单个服务出现问题不会导致整体系统宕机。<br>以上的优势都是在现代软件开发过程中必不可少的需求，应对互联网现在越来越快的发展速度，小步快跑（减少每次迭代功能、增加迭代次数、减少试错成本）必然成为未来的发展方向，所以采用微服务重构单体架构势在必行。</li>
</ol>
<h3 id="为什么需要Spring-Cloud？"><a href="#为什么需要Spring-Cloud？" class="headerlink" title="为什么需要Spring Cloud？"></a>为什么需要Spring Cloud？</h3><p>大白话，需要Spring Cloud来管理这些微服务啊。</p>
<h3 id="什么是Dubbo"><a href="#什么是Dubbo" class="headerlink" title="什么是Dubbo"></a>什么是Dubbo</h3><p>Dubbo是一个分布式服务框架，致力于提供高性能和透明化的RPC远程服务调用方案，以及SOA服务治理方案。简单的说，dubbo就是个服务框架，如果没有分布式的需求，其实是不需要用的，只有在分布式的时候，才有dubbo这样的分布式服务框架的需求，并且本质上是个服务调用的东东，说白了就是个远程服务调用的分布式框架（告别Web Service模式中的WSdl，以服务者与消费者的方式在dubbo上注册）。其核心部分是远程通讯，集群容错和自动发现等。</p>
<p>首先，我们来看Spring Cloud和dubbo都支持哪些功能。</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd7sif0r9rj30d50b4my1.jpg" alt="image-20200327002410735"></p>
<h2 id="注册中心Eureka"><a href="#注册中心Eureka" class="headerlink" title="注册中心Eureka"></a>注册中心Eureka</h2><h3 id="创建EurekaServer"><a href="#创建EurekaServer" class="headerlink" title="创建EurekaServer"></a>创建EurekaServer</h3><p>先创建一个maven的聚合工程，在父工程中配置springcloud的相关信息，然后再添加一个模块，在模块中创建EurekaServer。</p>
<ol>
<li><p>创建聚合工程聚合工程中主要是配置springcloud的版本信息，以及依赖。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.lucas<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springcloud-lucas<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--要依赖的模块--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>cloud-eureka<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>Hoxton.SR1<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建EurekaServer</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springcloud-lucas<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.lucas<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cloud-eureka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    添加依赖--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建启动类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lucas.eureka;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableEurekaServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EurekaApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(EurekaApplication<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建配置文件</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd7uecr9x4j30sa0ae0uz.jpg" alt="image-20200327012936851"></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#应用程序名称</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">cloud-eureka</span></span><br><span class="line"><span class="comment">#服务端口号</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8000</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="comment">#是否注册到Eureka，如果是单机版不需要注册到其他Eureka</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment">#表示是否从Eureka Server获取注册信息，默认为true。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="comment">#对外提供服务的url</span></span><br><span class="line">      <span class="attr">defaultZone:</span> <span class="string">http://127.0.0.1:$&#123;server.port&#125;/eureka/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<p>启动main方法eureka就启动成功了。</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd7ufw2klrj30s10m040m.jpg" alt="image-20200327013106961"></p>
</li>
</ol>
<h3 id="Eureka集群"><a href="#Eureka集群" class="headerlink" title="Eureka集群"></a>Eureka集群</h3><p>注册中心这么关键的服务，如果是单点话，遇到故障就是毁灭性的。在一个分布式系统中，服务注册中</p>
<p>心是最重要的基础部分，理应随时处于可以提供服务的状态。为了维持其可用性，使用集群是很好的解</p>
<p>决方案。Eureka通过互相注册的方式来实现高可用的部署，所以我们只需要将Eureke Server配置其他</p>
<p>可用的serviceUrl就能实现高可用部署。</p>
<p>在生产中我们可能需要三台或者大于三台的注册中心来保证服务的稳定性，配置的原理就是将注册中心</p>
<p>分别指向其它的注册中心。每台注册中心分别又指向其它两个节点即可，使用application.yml来配置。</p>
<p>application-8001.yml</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#应用程序名称</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">cloud-eureka</span></span><br><span class="line"><span class="comment">#服务端口号</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8001</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">eureka8001</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="comment">#是否注册到Eureka，如果是单机版不需要注册到其他Eureka</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment">#表示是否从Eureka Server获取注册信息，默认为true。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="comment">#对外提供服务的url</span></span><br><span class="line">    <span class="attr">defaultZone:</span> <span class="string">http://eureka8002:8002/eureka/,http://eureka8003:8003/eureka/</span></span><br></pre></td></tr></table></figure>
<p>application-8002.yml</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#应用程序名称</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">cloud-eureka</span></span><br><span class="line"><span class="comment">#服务端口号</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8002</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">eureka8002</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="comment">#是否注册到Eureka，如果是单机版不需要注册到其他Eureka</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment">#表示是否从Eureka Server获取注册信息，默认为true。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="comment">#对外提供服务的url</span></span><br><span class="line">    <span class="attr">defaultZone:</span> <span class="string">http://eureka8001:8001/eureka/,http://eureka8003:8003/eureka/</span></span><br></pre></td></tr></table></figure>
<p>application-8003.yml</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#应用程序名称</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">cloud-eureka</span></span><br><span class="line"><span class="comment">#服务端口号</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8003</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">eureka8003</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">    <span class="comment">#是否注册到Eureka，如果是单机版不需要注册到其他Eureka</span></span><br><span class="line">    <span class="attr">register-with-eureka:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment">#表示是否从Eureka Server获取注册信息，默认为true。</span></span><br><span class="line">    <span class="attr">fetch-registry:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">service-url:</span></span><br><span class="line">      <span class="comment">#对外提供服务的url</span></span><br><span class="line">    <span class="attr">defaultZone:</span> <span class="string">http://eureka8001:8001/eureka/,http://eureka8002:8002/eureka/</span></span><br></pre></td></tr></table></figure>
<p>以上的配置中配置了 hostname 属性，需要在hosts文件中配置host名称和ip的映射关系：</p>
<p>修改本机的host文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Eureka </span><br><span class="line">127.0.0.1 eureka8001 </span><br><span class="line">127.0.0.1 eureka8002 </span><br><span class="line">127.0.0.1 eureka8003</span><br></pre></td></tr></table></figure>
<p>创建三个配置文件，在启动参数中配置使用的配置文件名称，启动三个实例就可以：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// EurekaApplication-8001：</span><br><span class="line">--spring.profiles.active=8001</span><br><span class="line"></span><br><span class="line">// EurekaApplication-8002：</span><br><span class="line">--spring.profiles.active=8002</span><br><span class="line"></span><br><span class="line">// EurekaApplication-8003：</span><br><span class="line">--spring.profiles.active=8003</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd7vzq8a5tj30m30dxq75.jpg" alt="image-20200327022444371"></p>
<p>分别启动程序：</p>
<p>EurekaApplication-8001</p>
<p>EurekaApplication-8002</p>
<p>EurekaApplication-8003</p>
<p><strong>浏览器中查看：</strong></p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd7vslyn8mj30qg0lh40n.jpg" alt="image-20200327021754968"></p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd7vs1ujgtj30qx0ljtav.jpg" alt="image-20200327021723327"></p>
<p><strong>集群配置注意事项</strong></p>
<p>如果配置了Eureka集群节点出现在unavailable-replicas下，说明备份节点是不可用的，出现这个问题</p>
<p>的几种原因如下：</p>
<ol>
<li>eureka.client.serviceUrl.defaultZone 配置项的地址，不能使用localhost，要使用域名，</li>
</ol>
<p>DNS解析请自行配置。本地可以修改hosts文件来实现。</p>
<ol start="2">
<li><p>spring.application.name 属性集群中的每个节点要一致。</p>
</li>
<li><p>如下两个参数需配为true</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">client:</span></span><br><span class="line">  <span class="attr">register-with-eureka:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">fetch-registry:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>配置 eureka.instance.hostname 属性，设置域名信息</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">eureka8003</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果配置了 eureka.instance.prefer-ip-address 属性，应该设置成 false ，或者去掉此参</p>
<p>数，默认就是false。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span> </span><br><span class="line">	<span class="attr">instance:</span> </span><br><span class="line">		<span class="attr">prefer-ip-address:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看端口是否被占用了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Mac系统</span><br><span class="line">1.查看端口</span><br><span class="line">终端输入：lsof -i tcp:port 将port换成被占用的端口(如：80)</span><br><span class="line">将会出现占用端口的进程信息。</span><br><span class="line"></span><br><span class="line">2.kill进程</span><br><span class="line">找到进程的PID,使用kill命令：kill PID（进程的PID，如2044），杀死对应的进程</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/03/26/Spring Cloud入门/" data-id="ckdrhu2mm000w9w5ocsftoe9m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringCloud/">SpringCloud</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-SpringBoot入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/19/SpringBoot入门/" class="article-date">
  <time datetime="2020-03-19T14:40:46.000Z" itemprop="datePublished">2020-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/19/SpringBoot入门/">SpringBoot入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><h3 id="什么是Spring-Boot"><a href="#什么是Spring-Boot" class="headerlink" title="什么是Spring Boot"></a>什么是Spring Boot</h3><p>Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can “just run”.</p>
<p>We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.</p>
<p>简单的说Springboot是一个用于加速构建Spring应用程序的框架，是一个集成框架，或者叫做基于spring的敏捷开发框架。</p>
<p>Springboot让创建一个可用于生产级别的应用程序变得非常简单，大多数Springboot应用程序仅需要最少的Spring配置。</p>
<p>Springboot并不是提供了某种新功能，而是将原来繁琐的框架整合变得简单了，便于我们把精力专注于业务逻辑的实现。</p>
<h3 id="为什么需要Spring-Boot"><a href="#为什么需要Spring-Boot" class="headerlink" title="为什么需要Spring Boot"></a>为什么需要Spring Boot</h3><p>以往开发一个基于Spring的web项目时我们需要编写大量的配置文件，非常耗时和低效且容易出错。大多数应用程序的配置信息都是一样的，在这个敏捷开发大行其道的时代，Java也需要一个能够大幅加快开发速度的框架，Spring Boot应运而生。</p>
<h3 id="创建Spring-web项目过程对比"><a href="#创建Spring-web项目过程对比" class="headerlink" title="创建Spring-web项目过程对比"></a>创建Spring-web项目过程对比</h3><p>以往开发一个ssm项目需要做的事情：</p>
<ul>
<li>安装tomcat用于部署，最后产生一个war</li>
<li>创建一个maven项目，添加各个框架所需要的依赖包，还需要考虑依赖包的版本兼容问题</li>
<li>创建、编写一堆看起来复杂，但又重复的配置文件，整合各个框架到Spring中</li>
<li>业务开发</li>
<li>测试=&gt;打包，发布到tomcat</li>
</ul>
<p>Spring Boot:</p>
<ul>
<li>默认将tomcat打包到项目中作为默认服务器（应用程序自己保护了tomcat）</li>
<li>创建一maven项目，或者不创建直接去官网下载一个空项目</li>
<li>在pom中添加需要集成的框架的starter（启动器），starter会自动完成框架与Spring的整合和配置</li>
<li>一个简单的Spring Boot配置文件，仅需要提供少数必须的配置（如jdbc参数）</li>
<li>业务开发</li>
<li>直接运行main方法，或者使用maven运行，或者打包为jar通过Java命令行运行</li>
<li>需要注意的是：（Spring Boot是需要依赖构建工具的，可以是maven或者gradle）</li>
</ul>
<h3 id="Spring-Boot的核心功能"><a href="#Spring-Boot的核心功能" class="headerlink" title="Spring Boot的核心功能"></a>Spring Boot的核心功能</h3><ol>
<li><p>起步依赖</p>
<p>起步依赖本质上就是一个pom(项目对象模型)，其中包含了某个框架/功能运行所需的基础依赖信息，当我们需要某个框架/功能时加入该框架/功能的依赖即可</p>
</li>
<li><p>自动配置</p>
<p>Spring Boot会在启动时完成对各个框架的自动配置，考虑了众多因数，最终决定Spring配置应该用哪个，不该用哪个，该过程是Spring自动完成的</p>
</li>
<li><p>内置tomcat或者jetty等servlet容器</p>
</li>
<li><p>没有代码生成，不需要XML配置</p>
</li>
<li><p>尽可能自动配置Spring容器中的been</p>
</li>
</ol>
<h3 id="入门程序"><a href="#入门程序" class="headerlink" title="入门程序"></a>入门程序</h3><h4 id="运行方式一：通过配置主函数的方式运行。"><a href="#运行方式一：通过配置主函数的方式运行。" class="headerlink" title="运行方式一：通过配置主函数的方式运行。"></a>运行方式一：通过配置主函数的方式运行。</h4><ol>
<li><p>创建基础的maven过程</p>
</li>
<li><p>在pom中继承SpringBoot的starter, 这决定了该工程是一个Spring Boot工程。注意，这不是依赖，而是继承关系，就像是继承一个class类一样，通过继承拥有父类的功能。</p>
<p>在pom.xml中添加如下配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在pom.xml中添加web的start依赖，告诉maven，web应用需要用到的依赖有哪些，只需要加进来就可以，Spring Boot会自动完成相应的配置。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编写Spring Boot引导类，为Spring Boot提供一个启动入口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引导类不允许放在根目录下</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 启动Spring Boot需要指定引导类</span></span><br><span class="line">        SpringApplication.run(Application<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加一个测试的控制器类</span></span><br><span class="line"><span class="keyword">package</span> com.lucas.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"test/&#123;name&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(@PathVariable String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello: "</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="运行方式二：通过通过maven插件运行"><a href="#运行方式二：通过通过maven插件运行" class="headerlink" title="运行方式二：通过通过maven插件运行"></a>运行方式二：通过通过maven插件运行</h4><ol>
<li><p>修改pom文件，添加插件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>maven命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring-boot: run</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gczfv43uwbj30zx094tav.jpg" alt="image-20200319190206642"></p>
<p>把maven命令spring-boot:run命令添加到IDEA快捷方式。</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gczq60u2bcj30m30dpgnq.jpg" alt="image-20200320005837242"></p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gczg2vcgwfj30cm02ft8v.jpg" alt="image-20200319190933817"></p>
<p>参考：</p>
<ul>
<li>从0到1搭建Spring Boot项目 <a href="https://juejin.im/post/5d4a437ae51d4561a705ba9a" target="_blank" rel="noopener">https://juejin.im/post/5d4a437ae51d4561a705ba9a</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/03/19/SpringBoot入门/" data-id="ckdrhu2ms00129w5o0x64jkts" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SpringBoot/">SpringBoot</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Redis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/01/Redis/" class="article-date">
  <time datetime="2020-03-01T03:25:26.000Z" itemprop="datePublished">2020-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/01/Redis/">Redis</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><h2 id="一、什么是redis"><a href="#一、什么是redis" class="headerlink" title="一、什么是redis"></a>一、什么是redis</h2><p>Redis是一种key-value形式的nosql数据库。</p>
<h2 id="二、Redis的安装"><a href="#二、Redis的安装" class="headerlink" title="二、Redis的安装"></a>二、Redis的安装</h2><p>1.版本说明<br>Redis是C语言开发的，官方并不提供windows版本，所有的版本都是基于linux的。但是微软的一个团<br>队将redis移植到了windows，所以在Windows上也可以使用redis。 redis官方下载地址：<br><a href="https://redis.io/download" target="_blank" rel="noopener">https://redis.io/download</a><br>Windows版下载地址：<br><a href="https://github.com/MicrosoftArchive/redis/releases" target="_blank" rel="noopener">https://github.com/MicrosoftArchive/redis/releases</a></p>
<h3 id="1-下载源码并解压"><a href="#1-下载源码并解压" class="headerlink" title="1.下载源码并解压"></a>1.下载源码并解压</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http://download.redis.io/releases/redis-5.0.7.tar.gz</span><br><span class="line">tar -xzf redis-5.0.7.tar.gz</span><br><span class="line">cd redis-5.0.7</span><br></pre></td></tr></table></figure>
<h3 id="2-编译环境安装"><a href="#2-编译环境安装" class="headerlink" title="2.编译环境安装"></a>2.编译环境安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc gcc-c++ kernel-devel</span><br><span class="line">make</span><br></pre></td></tr></table></figure>
<p>等待编译完成</p>
<h3 id="3-安装"><a href="#3-安装" class="headerlink" title="3.安装"></a>3.安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">make PREFIX=/usr/local/redis install</span><br><span class="line"></span><br><span class="line"># 拷贝配置文件</span><br><span class="line">cp redis.conf /usr/local/redis/bin</span><br><span class="line"></span><br><span class="line">cd /usr/local/redis/bin/</span><br><span class="line">cp redis-benchmark redis-cli redis-server /usr/bin/</span><br></pre></td></tr></table></figure>
<h3 id="4-更改配置"><a href="#4-更改配置" class="headerlink" title="4.更改配置"></a>4.更改配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/redis/etc/redis.conf</span><br><span class="line"></span><br><span class="line"># 修改一下配置</span><br><span class="line"># redis以守护进程的方式运行</span><br><span class="line"># no表示不以守护进程的方式运行(会占用一个终端)  </span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"># 监听ip</span><br><span class="line"># bind 127.0.0.1 </span><br><span class="line">bind 修改为外网地址</span><br><span class="line"></span><br><span class="line"># 关闭防火墙或者开放6379端口</span><br><span class="line">systemctl stop firewalld</span><br><span class="line"></span><br><span class="line"># 客户端闲置多长时间后断开连接，默认为0关闭此功能                                      </span><br><span class="line">timeout 300</span><br><span class="line"></span><br><span class="line"># 设置redis日志级别，默认级别：notice                    </span><br><span class="line">loglevel verbose</span><br><span class="line"></span><br><span class="line"># 设置日志文件的输出方式,如果以守护进程的方式运行redis 默认:&quot;&quot; </span><br><span class="line"># 并且日志输出设置为stdout,那么日志信息就输出到/dev/null里面去了 </span><br><span class="line">logfile stdout</span><br><span class="line"></span><br><span class="line"># 设置密码授权</span><br><span class="line">requirepass &lt;设置密码&gt;</span><br><span class="line"></span><br><span class="line">参考：https://www.cnblogs.com/stulzq/p/9288401.html</span><br></pre></td></tr></table></figure>
<h3 id="CenterOS7-显示IP地址"><a href="#CenterOS7-显示IP地址" class="headerlink" title="CenterOS7 显示IP地址"></a>CenterOS7 显示IP地址</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">ip add 显示IP地址</span></span><br><span class="line">[root@localhost redis] ip add</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class="line">    link/ether 00:1c:42:20:d2:86 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 192.168.101.14/24 brd 192.168.101.255 scope global noprefixroute dynamic eth0</span><br><span class="line">       valid_lft 47457sec preferred_lft 47457sec</span><br><span class="line">    inet6 fe80::d5ea:184e:c8e4:4e10/64 scope link noprefixroute</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>
<p>##使用ip add命令来看网卡的IP，没有 inet addrd的解决办法</p>
<p><strong>方法1.</strong></p>
<p>使用<code>dhclient eth0</code>命令</p>
<p>输入dhclient eth0命令来获取IP地址</p>
<p>再输入ifconfig命令，就能看到eth0已经有IP地址了</p>
<p>但是有一个问题：每次重启系统之后，使用ifconfig命令又看不到IP地址了，必须每次都使用 dhclient eth0 命令重新分配，很不方便</p>
<p><strong>方法2.</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure>
<p>将里面的ONBOOT属性设置为 yes</p>
<p>再执行service network restart 命令，就可以通过 ifconfig 查看eth0 的IP地址了</p>
<p>重点是这样以后每次系统重启之后，都能自动获取IP 地址。所以问题解决了。</p>
<h3 id="查看服务状态"><a href="#查看服务状态" class="headerlink" title="查看服务状态"></a>查看服务状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux|grep redis</span><br></pre></td></tr></table></figure>
<h2 id="三、启动与关闭"><a href="#三、启动与关闭" class="headerlink" title="三、启动与关闭"></a>三、启动与关闭</h2><h3 id="1-启动"><a href="#1-启动" class="headerlink" title="1.启动"></a>1.启动</h3><ol>
<li>前端启动模式</li>
</ol>
<p>直接运行bin/redis-server将以前端模式启动，前端模式启动的缺点是在redis的旧版本中ssh命令</p>
<p>窗口关闭则redis-server程序结束，最新版的redis并不会因为ssh连接的关闭而关闭，但是还是会</p>
<p>占用ssh连接，故此不推荐使用此方法。如下图：</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gceaaot7vfj31dn0u0wpu.jpg" alt></p>
<ol start="2">
<li>守护进程模式</li>
</ol>
<p>以守护进程模式启动的话需要 redis.conf 配置文件。在配置文件中设置redis 的启动模式。从</p>
<p>redis源码目录 redis-5.0.7 中复制 redis.conf 文件到 /usr/local/redis/bin 目录下，然后修</p>
<p>改其中的配置信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 修改一下配置</span><br><span class="line"># redis以守护进程的方式运行</span><br><span class="line"># no表示不以守护进程的方式运行(会占用一个终端)  </span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"># 监听ip</span><br><span class="line"># bind 127.0.0.1 </span><br><span class="line">bind 修改为外网地址</span><br><span class="line"></span><br><span class="line"># 关闭防火墙或者开放6379端口</span><br><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure>
<p>启动redis时，指定使用的配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./redis-server redis.conf</span><br></pre></td></tr></table></figure>
<p>这样redis就以守护进程模式启动了。</p>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gceativpdzj31h20iuaf7.jpg" alt="image-20200301120848016"></p>
<h3 id="2-关闭"><a href="#2-关闭" class="headerlink" title="2. 关闭"></a>2. 关闭</h3><ul>
<li>前端启动模式可以使用 ctrl+c 快捷键关闭进程</li>
<li>守护模式可以使用 kill 进程id 关闭</li>
<li>守护模式也可以使用客户 ./redis-cli shutdown 命令关闭</li>
<li>./redis-cli -h 10.211.55.4 shutdown</li>
</ul>
<h3 id="3-客户端连接"><a href="#3-客户端连接" class="headerlink" title="3. 客户端连接"></a>3. 客户端连接</h3><p>在redis的安装目录中有redis的客户端，即redis-cli（Redis Command Line Interface），它是Redis自</p>
<p>带的基于命令行的Redis客户端。</p>
<p>使用方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./redis-cli -h [IP地址] -p [端口号]</span><br><span class="line">#例：</span><br><span class="line">./redis-cli -h 192.168.101.14 -p 6379</span><br></pre></td></tr></table></figure>
<h2 id="四、数据类型"><a href="#四、数据类型" class="headerlink" title="四、数据类型"></a>四、数据类型</h2><p>Redis支持五种数据类型：string（字符串），hash（哈希），list（列表），set（集合）及<br>zset(sorted set：有序集合)。</p>
<h3 id="1-String"><a href="#1-String" class="headerlink" title="1.String"></a>1.String</h3><p>string 是 redis 最基本的类型，你可以理解成与Map中的一模一样的数据类型，一个 key 对应一个<br>value。<br>string 类型是二进制安全的。意思是 redis 的 string 可以包含任何数据。比如jpg图片或者序列化的对<br>象。<br>string 类型是 Redis 最基本的数据类型，string 类型的值最大能存储 512MB。</p>
<ol>
<li><p>赋值</p>
<p>set key value</p>
</li>
<li><p>取值</p>
<p>get value</p>
</li>
<li><p>取值同时对key进行赋值操作(获取key原来的值，然后对key进行赋值)</p>
<p>getset key vulue</p>
</li>
<li><p>删除</p>
<p>Del key</p>
</li>
<li><p>数值加一</p>
<p>incr key</p>
</li>
<li><p>增加指定的整数</p>
<p>incrby key value</p>
</li>
<li><p>数值减一</p>
<p>Decr key</p>
</li>
</ol>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gcejpezmrwj30u00z3jwj.jpg" alt="image-20200301171617343"></p>
<h3 id="2-Hash"><a href="#2-Hash" class="headerlink" title="2. Hash"></a>2. Hash</h3><p>hash叫散列类型，它提供了字段和字段值的映射。字段值只能是字符串类型，不支持散列类型、集合类</p>
<p>型等其它类型。相当于一个key对应一个map。 </p>
<p>键—字段—字段值</p>
<p>​    —字段—字段值</p>
<p>​    —字段—字段值</p>
<p>例：</p>
<p>User—name—zhangshan</p>
<p>​        —age—18</p>
<p>​        —weight—100</p>
<ol>
<li><p>创建hash并添加值</p>
<p>HSET [key] [field] [value]</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">hset hash1 name zhangshan</span><br><span class="line">(integer) 1</span><br><span class="line">10.211.55.4:6379&gt; hget hash1 name</span><br><span class="line">"zhangshan"</span><br><span class="line">10.211.55.4:6379&gt; hdel hash1 name</span><br><span class="line">(integer) 1</span><br><span class="line">10.211.55.4:6379&gt; hget hash1 name</span><br><span class="line">(nil)</span><br><span class="line">10.211.55.4:6379&gt; HEXISTS hash1 name</span><br><span class="line">(integer) 0</span><br><span class="line">10.211.55.4:6379&gt; hset hash1 name james</span><br><span class="line">(integer) 1</span><br><span class="line">10.211.55.4:6379&gt; HEXISTS hash1 name</span><br><span class="line">(integer) 1</span><br><span class="line">10.211.55.4:6379&gt; hkeys hash1</span><br><span class="line">1) "name"</span><br><span class="line">10.211.55.4:6379&gt; hset hash1 age 36</span><br><span class="line">(integer) 1</span><br><span class="line">10.211.55.4:6379&gt; hkeys hash1</span><br><span class="line">1) "name"</span><br><span class="line">2) "age"</span><br><span class="line">10.211.55.4:6379&gt; hvals hash1</span><br><span class="line">1) "james"</span><br><span class="line">2) "36"</span><br><span class="line">10.211.55.4:6379&gt; hgetall hash1</span><br><span class="line">1) "name"</span><br><span class="line">2) "james"</span><br><span class="line">3) "age"</span><br><span class="line">4) "36"</span><br></pre></td></tr></table></figure>
<h3 id="3-List"><a href="#3-List" class="headerlink" title="3. List"></a>3. List</h3><p>Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者</p>
<p>尾部（右边） 一个列表最多可以包含 2 ^32 - 1个元素 (4294967295, 每个列表超过40亿个元素)。 </p>
<p>Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者</p>
<p>尾部（右边） 一个列表最多可以包含 2 ^32 - 1个元素 (4294967295, 每个列表超过40亿个元素)。 </p>
<ol>
<li>添加元素</li>
</ol>
<p>左边添加：lpush [key] [element…]</p>
<p>右边添加：rpush [key] [element…]</p>
<ol start="2">
<li>取元素</li>
</ol>
<p>左边取元素：lpop [key]</p>
<p>右边去元素：rpop [key]</p>
<ol start="3">
<li>查看列表中元素 (list下标从零开始)</li>
</ol>
<p>lrange [key] [start] [end]</p>
<p>需要设置列表中起始的元素的索引和结束元素的索引，如果结束元素的索引是 -1 则代表取到列表</p>
<p>结尾。</p>
<ol start="4">
<li>查看列表的长度</li>
</ol>
<p>llen [key]</p>
<h3 id="4-Set"><a href="#4-Set" class="headerlink" title="4.Set"></a>4.Set</h3><p>Redis 的 Set 是 String 类型的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。<br>Redis 中集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是 O(1)。<br>集合中最大的成员数为 2 ^32 - 1 (4294967295, 每个集合可存储40多亿个成员)。<br>添加元素</p>
<ol>
<li><p>sadd [key] [member…]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 元素与元素直接用空格隔开</span></span><br><span class="line">sadd set1 aaa bbb ccc</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol start="2">
<li><p>删除元素<br> 删除指定元素：srem [key] [member]<br> 127.0.0.1:6379&gt; srem set1 a<br> (integer) 1<br> 从集合中取移除随机元素：spop [key]<br> 127.0.0.1:6379&gt; spop set1<br> “e” 3. 取集合元素个数<br> scard [key]<br> 127.0.0.1:6379&gt; scard set1<br> (integer) 5</p>
</li>
<li><p>取集合元素成员<br> smembers [key]<br> 127.0.0.1:6379&gt; smembers set1<br> 1) “b”<br> 2) “g”<br> 3) “d”<br> 4) “c”<br> 5) “f”<br> 6) “e”</p>
</li>
</ol>
<h3 id="5-SortedSet"><a href="#5-SortedSet" class="headerlink" title="5.SortedSet"></a>5.SortedSet</h3><p>  Redis 有序集合和集合一样也是string类型元素的集合,且不允许重复的成员。<br>  不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到<br>  大的排序。<br>  有序集合的成员是唯一的,但分数(score)却可以重复。<br>  集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。 集合中最大的成员数为 2^32 - 1<br>  (4294967295, 每个集合可存储40多亿个成员)。<br>  由于SortedSet所有的命令都是以 Z 开头所以SortedSet也叫做 zset 。 </p>
<ol>
<li><p>添加元素<br> zadd [key] [score] [member]</p>
</li>
<li><p>删除元素<br> zrem [key] [member]</p>
</li>
<li>元素数量<br> zcard [key]</li>
<li>获取集合成员<br> zrange [key] [start] [stop] [withscroes]</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">10.211.55.4:6379&gt; zadd zset1 111 222</span><br><span class="line">10.211.55.4:6379&gt; zadd zset1 111 333</span><br><span class="line">10.211.55.4:6379&gt; zadd zset1 111 555</span><br><span class="line">10.211.55.4:6379&gt; zrange zset1 0 4</span><br><span class="line">1) &quot;222&quot;</span><br><span class="line">2) &quot;333&quot;</span><br><span class="line">3) &quot;555&quot;</span><br></pre></td></tr></table></figure>
<h3 id="6-服务器命令"><a href="#6-服务器命令" class="headerlink" title="6.服务器命令"></a>6.服务器命令</h3><ul>
<li>切换数据库：select [index]<br>127.0.0.1:6379&gt; select 1<br>OK</li>
<li>查看当前数据库中的key：keys [partten]<br>127.0.0.1:6379&gt; keys *<br>1) “set1”<br>2) “hash1</li>
<li>删除key：del [key]<br>127.0.0.1:6379&gt; del a<br>(integer) 1</li>
<li>查看key的数据类型：type [key]<br>127.0.0.1:6379&gt; type set1<br>set</li>
<li>查看key是否存在：exists [key]<br>127.0.0.1:6379&gt; exists a<br>(integer) 0</li>
<li>设置key的生存时间：expire [key]<br>127.0.0.1:6379&gt; set a 1000<br>OK</li>
<li>127.0.0.1:6379&gt; expire a 1000<br>(integer) 1<br>查看key多长时间过期：ttl [key]<br>127.0.0.1:6379&gt; ttl a<br>(integer) 997</li>
<li>清空当前数据库中的数据：flushdb</li>
<li>删除所有数据库中的数据：flushall</li>
</ul>
<h2 id="五、持久化"><a href="#五、持久化" class="headerlink" title="五、持久化"></a>五、持久化</h2><p>Redis的高性能是由于其将所有数据都存储在了内存中，为了使Redis在重启之后仍能保证数据不丢失，<br>需要将数据从内存中同步到硬盘中，这一过程就是持久化。Redis支持两种方式的持久化，一种是RDB<br>方式，一种是AOF方式。可以单独使用其中一种或将二者结合使用。</p>
<h3 id="1-RDB模式"><a href="#1-RDB模式" class="headerlink" title="1.RDB模式"></a>1.RDB模式</h3><p>RDB方式的持久化是通过快照（snapshotting）完成的，当符合一定条件时Redis会自动将内存中的数<br>据进行快照并持久化到硬盘。RDB是Redis默认采用的持久化方式，在redis.conf 配置文件中默认有此下<br>配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save 900 1 </span><br><span class="line">save 300 10 </span><br><span class="line">save 60 10000</span><br></pre></td></tr></table></figure>
<p>save 开头的一行就是持久化配置，可以配置多个条件（每行配置一个条件），每个条件之间是“或”的关<br>系，“save 900 1”表示15分钟（900秒钟）内至少1个键被更改则进行快照，“save 300 10”表示5分钟<br>（300秒）内至少10个键被更改则进行快照。</p>
<p>在redis.conf中配置dbfilenam指定rdb快照文件的名称</p>
<p>Redis启动后会读取RDB快照文件，将数据从硬盘载入到内存。根据数据量大小与结构和服务器性能不<br>同，这个时间也不同。通常将记录一千万个字符串类型键、大小为1GB的快照文件载入到内存中需要花<br>费20～30秒钟。</p>
<p>问题总结：<br>通过RDB方式实现持久化，一旦Redis异常退出，就会丢失最后一次快照以后更改的所有数据。这就需<br>要开发者根据具体的应用场合，通过组合设置自动快照条件的方式来将可能发生的数据损失控制在能够<br>接受的范围。如果数据很重要以至于无法承受任何损失，则可以考虑使用AOF方式进行持久化。</p>
<h3 id="2-AOF模式"><a href="#2-AOF模式" class="headerlink" title="2.AOF模式"></a>2.AOF模式</h3><p>默认情况下Redis没有开启AOF（append only file）方式的持久化，可以通过appendonly参数开启：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">appendonly yes</span><br></pre></td></tr></table></figure>
<p>开启AOF持久化后每执行一条会更改Redis中的数据的命令，Redis就会将该命令写入硬<br>盘中的AOF文件。AOF文件的保存位置和RDB文件的位置相同，都是通过dir参数设置的，默认的文件名<br>是appendonly.aof，可以通过appendfilename 参数修改：appendfilename appendonly.aof</p>
<h2 id="六、主从复制"><a href="#六、主从复制" class="headerlink" title="六、主从复制"></a>六、主从复制</h2><h3 id="1-主从复制原理"><a href="#1-主从复制原理" class="headerlink" title="1.主从复制原理"></a>1.主从复制原理</h3><p>持久化保证了即使redis服务重启也会丢失数据，因为redis服务重启后会将硬盘上持久化的数据恢复到<br>内存中，但是当redis服务器的硬盘损坏了可能会导致数据丢失，如果通过redis的主从复制机制就可以<br>避免这种单点故障，如下图：<br>说明：</p>
<ol>
<li>主redis中的数据有两个副本（replication）即从redis1和从redis2，即使一台redis服务器宕机其<br>它两台redis服务也可以继续提供服务。</li>
<li>主redis中的数据和从redis上的数据保持实时同步，当主redis写入数据时通过主从复制机制会复制<br>到两个从redis服务上。</li>
</ol>
<p>只有一个主redis，可以有多个从redis。主从复制不会阻塞master，在同步数据时，master 可以<br>继续处理client 请求，一个redis可以即是主又是从。</p>
<h3 id="2-主从配置"><a href="#2-主从配置" class="headerlink" title="2.主从配置"></a>2.主从配置</h3><p>之前版本的redis，配置为slave of，现在改为REPLICATION。主从模式，可以是树状的，从服务属于多<br>台主服务，且从服务也可以有从服务。主从模式，可实现读写分离；高可用模式下，主服务出现问题，<br>也可以通过哨兵切换从服务为主服务；可实现主服务不用数据持久化，从服务进行持久化工作，减轻主<br>服务负担等等。</p>
<ol>
<li><p>创建两个redis实例，一个master一个slave。 2. master实例不做任何特殊配置。</p>
</li>
<li><p>修改slave的配置文件<br>replicaof <masterip> <masterport> </masterport></masterip></p>
<p>例如： replicaof 127.0.0.1 6379</p>
</li>
</ol>
<p>主从复制:</p>
<p>1.数据冗余 灾备</p>
<p>2.读写分离</p>
<p>可以大幅度提高redis的并发能力</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/redis</span><br><span class="line">cp -rf bin master</span><br><span class="line">cp -rf bin slave1</span><br><span class="line">cp -rf bin slave2</span><br><span class="line"></span><br><span class="line"># slave1的redis.conf修改</span><br><span class="line">replicaof 10.211.55.4 6379</span><br><span class="line">port 6380</span><br><span class="line"></span><br><span class="line"># slave2的redis.conf修改</span><br><span class="line">replicaof 10.211.55.4 6379</span><br><span class="line">port 6381</span><br><span class="line"></span><br><span class="line">#分别进入到master、slave1、slave2执行启动redis的命令</span><br><span class="line">redis-server redis.conf</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gceusvx8smj31nd0u0qep.jpg" alt="image-20200301234009308"></p>
<h2 id="redis安装日志"><a href="#redis安装日志" class="headerlink" title="redis安装日志"></a>redis安装日志</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ xcode-select --install</span><br><span class="line">xcode-select: note: install requested for command line developer tools</span><br><span class="line">➜  ~ ssh root@10.211.55.6</span><br><span class="line">The authenticity of host &apos;10.211.55.6 (10.211.55.6)&apos; can&apos;t be established.</span><br><span class="line">ECDSA key fingerprint is SHA256:w1Lok3qUOpe1n65JrP1UQbS7qku54ycuzYXqghP00aU.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)? yes</span><br><span class="line">Warning: Permanently added &apos;10.211.55.6&apos; (ECDSA) to the list of known hosts.</span><br><span class="line">root@10.211.55.6&apos;s password: </span><br><span class="line">Last login: Fri Mar 13 00:46:36 2020</span><br><span class="line">[root@localhost ~]# ll</span><br><span class="line">总用量 4</span><br><span class="line">-rw-------. 1 root root 1256 3月  13 00:45 anaconda-ks.cfg</span><br><span class="line">[root@localhost ~]# pwd</span><br><span class="line">/root</span><br><span class="line">[root@localhost ~]# ll</span><br><span class="line">总用量 4</span><br><span class="line">-rw-------. 1 root root 1256 3月  13 00:45 anaconda-ks.cfg</span><br><span class="line">[root@localhost ~]# cd /</span><br><span class="line">[root@localhost /]# ll</span><br><span class="line">总用量 16</span><br><span class="line">lrwxrwxrwx.   1 root root    7 3月  13 00:33 bin -&gt; usr/bin</span><br><span class="line">dr-xr-xr-x.   5 root root 4096 3月  13 00:46 boot</span><br><span class="line">drwxr-xr-x.   2 root root    6 3月  13 00:48 data</span><br><span class="line">drwxr-xr-x.  20 root root 3160 3月  13 00:46 dev</span><br><span class="line">drwxr-xr-x.  75 root root 8192 3月  13 00:59 etc</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 home</span><br><span class="line">lrwxrwxrwx.   1 root root    7 3月  13 00:33 lib -&gt; usr/lib</span><br><span class="line">lrwxrwxrwx.   1 root root    9 3月  13 00:33 lib64 -&gt; usr/lib64</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 media</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 mnt</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 opt</span><br><span class="line">dr-xr-xr-x. 134 root root    0 3月  13 00:46 proc</span><br><span class="line">dr-xr-x---.   2 root root  114 3月  13 00:45 root</span><br><span class="line">drwxr-xr-x.  25 root root  740 3月  13 00:59 run</span><br><span class="line">lrwxrwxrwx.   1 root root    8 3月  13 00:33 sbin -&gt; usr/sbin</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 srv</span><br><span class="line">dr-xr-xr-x.  13 root root    0 3月  13 00:46 sys</span><br><span class="line">drwxrwxrwt.   8 root root  211 3月  13 00:59 tmp</span><br><span class="line">drwxr-xr-x.  13 root root  155 3月  13 00:33 usr</span><br><span class="line">drwxr-xr-x.  19 root root  267 3月  13 00:46 var</span><br><span class="line">[root@localhost /]# cd data/</span><br><span class="line">[root@localhost data]# ll</span><br><span class="line">总用量 0</span><br><span class="line">[root@localhost data]# wget wget http://download.redis.io/releases/redis-5.0.7.tar.gz</span><br><span class="line">-bash: wget: 未找到命令</span><br><span class="line">[root@localhost data]# tar -xzf redis-5.0.7.tar.gz</span><br><span class="line">tar (child): redis-5.0.7.tar.gz：无法 open: 没有那个文件或目录</span><br><span class="line">tar (child): Error is not recoverable: exiting now</span><br><span class="line">tar: Child returned status 2</span><br><span class="line">tar: Error is not recoverable: exiting now</span><br><span class="line">[root@localhost data]# wget</span><br><span class="line">-bash: wget: 未找到命令</span><br><span class="line">[root@localhost data]# yum instal wget</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">没有该命令：instal。请使用 /usr/bin/yum --help</span><br><span class="line">[root@localhost data]# yum install wget</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirror.bit.edu.cn</span><br><span class="line"> * extras: mirror.bit.edu.cn</span><br><span class="line"> * updates: mirrors.ustc.edu.cn</span><br><span class="line">base                                                     | 3.6 kB     00:00     </span><br><span class="line">extras                                                   | 2.9 kB     00:00     </span><br><span class="line">updates                                                  | 2.9 kB     00:00     </span><br><span class="line">(1/4): extras/7/x86_64/primary_db                          | 164 kB   00:01     </span><br><span class="line">(2/4): base/7/x86_64/group_gz                              | 165 kB   00:01     </span><br><span class="line">(3/4): base/7/x86_64/primary_db                            | 6.0 MB   00:09     </span><br><span class="line">(4/4): updates/7/x86_64/primary_db                         | 6.7 MB   00:12     </span><br><span class="line">正在解决依赖关系</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 wget.x86_64.0.1.14-18.el7_6.1 将被 安装</span><br><span class="line">--&gt; 解决依赖关系完成</span><br><span class="line"></span><br><span class="line">依赖关系解决</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line"> Package        架构             版本                      源              大小</span><br><span class="line">================================================================================</span><br><span class="line">正在安装:</span><br><span class="line"> wget           x86_64           1.14-18.el7_6.1           base           547 k</span><br><span class="line"></span><br><span class="line">事务概要</span><br><span class="line">================================================================================</span><br><span class="line">安装  1 软件包</span><br><span class="line"></span><br><span class="line">总下载量：547 k</span><br><span class="line">安装大小：2.0 M</span><br><span class="line">Is this ok [y/d/N]: y</span><br><span class="line">Downloading packages:</span><br><span class="line">警告：/var/cache/yum/x86_64/7/base/packages/wget-1.14-18.el7_6.1.x86_64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID f4a80eb5: NOKEY</span><br><span class="line">wget-1.14-18.el7_6.1.x86_64.rpm 的公钥尚未安装</span><br><span class="line">wget-1.14-18.el7_6.1.x86_64.rpm                            | 547 kB   00:01     </span><br><span class="line">从 file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 检索密钥</span><br><span class="line">导入 GPG key 0xF4A80EB5:</span><br><span class="line"> 用户ID     : &quot;CentOS-7 Key (CentOS 7 Official Signing Key) &lt;security@centos.org&gt;&quot;</span><br><span class="line"> 指纹       : 6341 ab27 53d7 8a78 a7c2 7bb1 24c6 a8a7 f4a8 0eb5</span><br><span class="line"> 软件包     : centos-release-7-7.1908.0.el7.centos.x86_64 (@anaconda)</span><br><span class="line"> 来自       : /etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line">是否继续？[y/N]：y</span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  正在安装    : wget-1.14-18.el7_6.1.x86_64                                 1/1 </span><br><span class="line">  验证中      : wget-1.14-18.el7_6.1.x86_64                                 1/1 </span><br><span class="line"></span><br><span class="line">已安装:</span><br><span class="line">  wget.x86_64 0:1.14-18.el7_6.1                                                 </span><br><span class="line"></span><br><span class="line">完毕！</span><br><span class="line">[root@localhost data]# wget http://download.redis.io/releases/redis-5.0.7.tar.gz</span><br><span class="line">--2020-03-13 01:09:39--  http://download.redis.io/releases/redis-5.0.7.tar.gz</span><br><span class="line">正在解析主机 download.redis.io (download.redis.io)... 109.74.203.151</span><br><span class="line">正在连接 download.redis.io (download.redis.io)|109.74.203.151|:80... 已连接。</span><br><span class="line">已发出 HTTP 请求，正在等待回应... 200 OK</span><br><span class="line">长度：1984203 (1.9M) [application/x-gzip]</span><br><span class="line">正在保存至: “redis-5.0.7.tar.gz”</span><br><span class="line"></span><br><span class="line">100%[======================================&gt;] 1,984,203   4.95KB/s 用时 5m 22s </span><br><span class="line"></span><br><span class="line">2020-03-13 01:15:02 (6.01 KB/s) - 已保存 “redis-5.0.7.tar.gz” [1984203/1984203])</span><br><span class="line"></span><br><span class="line">[root@localhost data]# </span><br><span class="line">[root@localhost data]# ll</span><br><span class="line">总用量 1940</span><br><span class="line">-rw-r--r--. 1 root root 1984203 11月 20 01:06 redis-5.0.7.tar.gz</span><br><span class="line">[root@localhost data]# tar -xzf redis-5.0.7.tar.gz</span><br><span class="line">[root@localhost data]# cd redis-5.0.7</span><br><span class="line">[root@localhost redis-5.0.7]# ll</span><br><span class="line">总用量 272</span><br><span class="line">-rw-rw-r--.  1 root root 115100 11月 20 01:05 00-RELEASENOTES</span><br><span class="line">-rw-rw-r--.  1 root root     53 11月 20 01:05 BUGS</span><br><span class="line">-rw-rw-r--.  1 root root   2381 11月 20 01:05 CONTRIBUTING</span><br><span class="line">-rw-rw-r--.  1 root root   1487 11月 20 01:05 COPYING</span><br><span class="line">drwxrwxr-x.  6 root root    124 11月 20 01:05 deps</span><br><span class="line">-rw-rw-r--.  1 root root     11 11月 20 01:05 INSTALL</span><br><span class="line">-rw-rw-r--.  1 root root    151 11月 20 01:05 Makefile</span><br><span class="line">-rw-rw-r--.  1 root root   6888 11月 20 01:05 MANIFESTO</span><br><span class="line">-rw-rw-r--.  1 root root  20555 11月 20 01:05 README.md</span><br><span class="line">-rw-rw-r--.  1 root root  61797 11月 20 01:05 redis.conf</span><br><span class="line">-rwxrwxr-x.  1 root root    275 11月 20 01:05 runtest</span><br><span class="line">-rwxrwxr-x.  1 root root    280 11月 20 01:05 runtest-cluster</span><br><span class="line">-rwxrwxr-x.  1 root root    373 11月 20 01:05 runtest-moduleapi</span><br><span class="line">-rwxrwxr-x.  1 root root    281 11月 20 01:05 runtest-sentinel</span><br><span class="line">-rw-rw-r--.  1 root root   9710 11月 20 01:05 sentinel.conf</span><br><span class="line">drwxrwxr-x.  3 root root   4096 11月 20 01:05 src</span><br><span class="line">drwxrwxr-x. 11 root root    182 11月 20 01:05 tests</span><br><span class="line">drwxrwxr-x.  8 root root   4096 11月 20 01:05 utils</span><br><span class="line">[root@localhost redis-5.0.7]# yum -y install gcc gcc-c++ kernel-devel</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.163.com</span><br><span class="line"> * extras: mirrors.aliyun.com</span><br><span class="line"> * updates: mirrors.ustc.edu.cn</span><br><span class="line">正在解决依赖关系</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 gcc.x86_64.0.4.8.5-39.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 cpp = 4.8.5-39.el7，它被软件包 gcc-4.8.5-39.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 glibc-devel &gt;= 2.2.90-12，它被软件包 gcc-4.8.5-39.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 libmpfr.so.4()(64bit)，它被软件包 gcc-4.8.5-39.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 libmpc.so.3()(64bit)，它被软件包 gcc-4.8.5-39.el7.x86_64 需要</span><br><span class="line">---&gt; 软件包 gcc-c++.x86_64.0.4.8.5-39.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 libstdc++-devel = 4.8.5-39.el7，它被软件包 gcc-c++-4.8.5-39.el7.x86_64 需要</span><br><span class="line">---&gt; 软件包 kernel-devel.x86_64.0.3.10.0-1062.12.1.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 perl，它被软件包 kernel-devel-3.10.0-1062.12.1.el7.x86_64 需要</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 cpp.x86_64.0.4.8.5-39.el7 将被 安装</span><br><span class="line">---&gt; 软件包 glibc-devel.x86_64.0.2.17-292.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 glibc-headers = 2.17-292.el7，它被软件包 glibc-devel-2.17-292.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 glibc-headers，它被软件包 glibc-devel-2.17-292.el7.x86_64 需要</span><br><span class="line">---&gt; 软件包 libmpc.x86_64.0.1.0.1-3.el7 将被 安装</span><br><span class="line">---&gt; 软件包 libstdc++-devel.x86_64.0.4.8.5-39.el7 将被 安装</span><br><span class="line">---&gt; 软件包 mpfr.x86_64.0.3.1.1-4.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl.x86_64.4.5.16.3-294.el7_6 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 perl-libs = 4:5.16.3-294.el7_6，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Socket) &gt;= 1.3，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Scalar::Util) &gt;= 1.10，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl-macros，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl-libs，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(threads::shared)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(threads)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(constant)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Time::Local)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Time::HiRes)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Storable)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Socket)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Scalar::Util)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Pod::Simple::XHTML)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Pod::Simple::Search)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Getopt::Long)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Filter::Util::Call)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(File::Temp)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(File::Spec::Unix)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(File::Spec::Functions)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(File::Spec)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(File::Path)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Exporter)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Cwd)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Carp)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 libperl.so()(64bit)，它被软件包 4:perl-5.16.3-294.el7_6.x86_64 需要</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 glibc-headers.x86_64.0.2.17-292.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 kernel-headers &gt;= 2.2.1，它被软件包 glibc-headers-2.17-292.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 kernel-headers，它被软件包 glibc-headers-2.17-292.el7.x86_64 需要</span><br><span class="line">---&gt; 软件包 perl-Carp.noarch.0.1.26-244.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Exporter.noarch.0.5.68-3.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-File-Path.noarch.0.2.09-2.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-File-Temp.noarch.0.0.23.01-3.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Filter.x86_64.0.1.49-3.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Getopt-Long.noarch.0.2.40-3.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Pod::Usage) &gt;= 1.14，它被软件包 perl-Getopt-Long-2.40-3.el7.noarch 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Text::ParseWords)，它被软件包 perl-Getopt-Long-2.40-3.el7.noarch 需要</span><br><span class="line">---&gt; 软件包 perl-PathTools.x86_64.0.3.40-5.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Pod-Simple.noarch.1.3.28-4.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Pod::Escapes) &gt;= 1.04，它被软件包 1:perl-Pod-Simple-3.28-4.el7.noarch 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Encode)，它被软件包 1:perl-Pod-Simple-3.28-4.el7.noarch 需要</span><br><span class="line">---&gt; 软件包 perl-Scalar-List-Utils.x86_64.0.1.27-248.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Socket.x86_64.0.2.010-4.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Storable.x86_64.0.2.45-3.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Time-HiRes.x86_64.4.1.9725-3.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Time-Local.noarch.0.1.2300-2.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-constant.noarch.0.1.27-2.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-libs.x86_64.4.5.16.3-294.el7_6 将被 安装</span><br><span class="line">---&gt; 软件包 perl-macros.x86_64.4.5.16.3-294.el7_6 将被 安装</span><br><span class="line">---&gt; 软件包 perl-threads.x86_64.0.1.87-4.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-threads-shared.x86_64.0.1.43-6.el7 将被 安装</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 kernel-headers.x86_64.0.3.10.0-1062.12.1.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Encode.x86_64.0.2.51-7.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Pod-Escapes.noarch.1.1.04-294.el7_6 将被 安装</span><br><span class="line">---&gt; 软件包 perl-Pod-Usage.noarch.0.1.63-3.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 perl(Pod::Text) &gt;= 3.15，它被软件包 perl-Pod-Usage-1.63-3.el7.noarch 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl-Pod-Perldoc，它被软件包 perl-Pod-Usage-1.63-3.el7.noarch 需要</span><br><span class="line">---&gt; 软件包 perl-Text-ParseWords.noarch.0.3.29-4.el7 将被 安装</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 perl-Pod-Perldoc.noarch.0.3.20-4.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 perl(parent)，它被软件包 perl-Pod-Perldoc-3.20-4.el7.noarch 需要</span><br><span class="line">--&gt; 正在处理依赖关系 perl(HTTP::Tiny)，它被软件包 perl-Pod-Perldoc-3.20-4.el7.noarch 需要</span><br><span class="line">---&gt; 软件包 perl-podlators.noarch.0.2.5.1-3.el7 将被 安装</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 perl-HTTP-Tiny.noarch.0.0.033-3.el7 将被 安装</span><br><span class="line">---&gt; 软件包 perl-parent.noarch.1.0.225-244.el7 将被 安装</span><br><span class="line">--&gt; 解决依赖关系完成</span><br><span class="line"></span><br><span class="line">依赖关系解决</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line"> Package                   架构      版本                      源          大小</span><br><span class="line">================================================================================</span><br><span class="line">正在安装:</span><br><span class="line"> gcc                       x86_64    4.8.5-39.el7              base        16 M</span><br><span class="line"> gcc-c++                   x86_64    4.8.5-39.el7              base       7.2 M</span><br><span class="line"> kernel-devel              x86_64    3.10.0-1062.12.1.el7      updates     18 M</span><br><span class="line">为依赖而安装:</span><br><span class="line"> cpp                       x86_64    4.8.5-39.el7              base       5.9 M</span><br><span class="line"> glibc-devel               x86_64    2.17-292.el7              base       1.1 M</span><br><span class="line"> glibc-headers             x86_64    2.17-292.el7              base       687 k</span><br><span class="line"> kernel-headers            x86_64    3.10.0-1062.12.1.el7      updates    8.7 M</span><br><span class="line"> libmpc                    x86_64    1.0.1-3.el7               base        51 k</span><br><span class="line"> libstdc++-devel           x86_64    4.8.5-39.el7              base       1.5 M</span><br><span class="line"> mpfr                      x86_64    3.1.1-4.el7               base       203 k</span><br><span class="line"> perl                      x86_64    4:5.16.3-294.el7_6        base       8.0 M</span><br><span class="line"> perl-Carp                 noarch    1.26-244.el7              base        19 k</span><br><span class="line"> perl-Encode               x86_64    2.51-7.el7                base       1.5 M</span><br><span class="line"> perl-Exporter             noarch    5.68-3.el7                base        28 k</span><br><span class="line"> perl-File-Path            noarch    2.09-2.el7                base        26 k</span><br><span class="line"> perl-File-Temp            noarch    0.23.01-3.el7             base        56 k</span><br><span class="line"> perl-Filter               x86_64    1.49-3.el7                base        76 k</span><br><span class="line"> perl-Getopt-Long          noarch    2.40-3.el7                base        56 k</span><br><span class="line"> perl-HTTP-Tiny            noarch    0.033-3.el7               base        38 k</span><br><span class="line"> perl-PathTools            x86_64    3.40-5.el7                base        82 k</span><br><span class="line"> perl-Pod-Escapes          noarch    1:1.04-294.el7_6          base        51 k</span><br><span class="line"> perl-Pod-Perldoc          noarch    3.20-4.el7                base        87 k</span><br><span class="line"> perl-Pod-Simple           noarch    1:3.28-4.el7              base       216 k</span><br><span class="line"> perl-Pod-Usage            noarch    1.63-3.el7                base        27 k</span><br><span class="line"> perl-Scalar-List-Utils    x86_64    1.27-248.el7              base        36 k</span><br><span class="line"> perl-Socket               x86_64    2.010-4.el7               base        49 k</span><br><span class="line"> perl-Storable             x86_64    2.45-3.el7                base        77 k</span><br><span class="line"> perl-Text-ParseWords      noarch    3.29-4.el7                base        14 k</span><br><span class="line"> perl-Time-HiRes           x86_64    4:1.9725-3.el7            base        45 k</span><br><span class="line"> perl-Time-Local           noarch    1.2300-2.el7              base        24 k</span><br><span class="line"> perl-constant             noarch    1.27-2.el7                base        19 k</span><br><span class="line"> perl-libs                 x86_64    4:5.16.3-294.el7_6        base       688 k</span><br><span class="line"> perl-macros               x86_64    4:5.16.3-294.el7_6        base        44 k</span><br><span class="line"> perl-parent               noarch    1:0.225-244.el7           base        12 k</span><br><span class="line"> perl-podlators            noarch    2.5.1-3.el7               base       112 k</span><br><span class="line"> perl-threads              x86_64    1.87-4.el7                base        49 k</span><br><span class="line"> perl-threads-shared       x86_64    1.43-6.el7                base        39 k</span><br><span class="line"></span><br><span class="line">事务概要</span><br><span class="line">================================================================================</span><br><span class="line">安装  3 软件包 (+34 依赖软件包)</span><br><span class="line"></span><br><span class="line">总下载量：71 M</span><br><span class="line">安装大小：159 M</span><br><span class="line">Downloading packages:</span><br><span class="line">Delta RPMs disabled because /usr/bin/applydeltarpm not installed.</span><br><span class="line">(1/37): glibc-headers-2.17-292.el7.x86_64.rpm              | 687 kB   00:02     </span><br><span class="line">(2/37): glibc-devel-2.17-292.el7.x86_64.rpm                | 1.1 MB   00:06     </span><br><span class="line">(3/37): gcc-c++-4.8.5-39.el7.x86_64.rpm                    | 7.2 MB   00:14     </span><br><span class="line">(4/37): libmpc-1.0.1-3.el7.x86_64.rpm                      |  51 kB   00:00     </span><br><span class="line">(5/37): libstdc++-devel-4.8.5-39.el7.x86_64.rpm            | 1.5 MB   00:02     </span><br><span class="line">(6/37): mpfr-3.1.1-4.el7.x86_64.rpm                        | 203 kB   00:01     </span><br><span class="line">(7/37): cpp-4.8.5-39.el7.x86_64.rpm                        | 5.9 MB   00:27     </span><br><span class="line">(8/37): perl-Carp-1.26-244.el7.noarch.rpm                  |  19 kB   00:00     </span><br><span class="line">(9/37): perl-Encode-2.51-7.el7.x86_64.rpm                  | 1.5 MB   00:02     </span><br><span class="line">(10/37): perl-Exporter-5.68-3.el7.noarch.rpm               |  28 kB   00:00     </span><br><span class="line">(11/37): perl-File-Path-2.09-2.el7.noarch.rpm              |  26 kB   00:00     </span><br><span class="line">(12/37): perl-File-Temp-0.23.01-3.el7.noarch.rpm           |  56 kB   00:00     </span><br><span class="line">(13/37): perl-Filter-1.49-3.el7.x86_64.rpm                 |  76 kB   00:00     </span><br><span class="line">(14/37): perl-Getopt-Long-2.40-3.el7.noarch.rpm            |  56 kB   00:00     </span><br><span class="line">(15/37): perl-HTTP-Tiny-0.033-3.el7.noarch.rpm             |  38 kB   00:00     </span><br><span class="line">(16/37): perl-PathTools-3.40-5.el7.x86_64.rpm              |  82 kB   00:00     </span><br><span class="line">(17/37): perl-Pod-Escapes-1.04-294.el7_6.noarch.rpm        |  51 kB   00:00     </span><br><span class="line">(18/37): perl-Pod-Perldoc-3.20-4.el7.noarch.rpm            |  87 kB   00:00     </span><br><span class="line">(19/37): perl-Pod-Simple-3.28-4.el7.noarch.rpm             | 216 kB   00:00     </span><br><span class="line">(20/37): perl-Pod-Usage-1.63-3.el7.noarch.rpm              |  27 kB   00:00     </span><br><span class="line">(21/37): perl-Scalar-List-Utils-1.27-248.el7.x86_64.rpm    |  36 kB   00:00     </span><br><span class="line">(22/37): perl-Socket-2.010-4.el7.x86_64.rpm                |  49 kB   00:00     </span><br><span class="line">(23/37): perl-Storable-2.45-3.el7.x86_64.rpm               |  77 kB   00:00     </span><br><span class="line">(24/37): perl-Text-ParseWords-3.29-4.el7.noarch.rpm        |  14 kB   00:00     </span><br><span class="line">(25/37): perl-Time-HiRes-1.9725-3.el7.x86_64.rpm           |  45 kB   00:00     </span><br><span class="line">(26/37): perl-Time-Local-1.2300-2.el7.noarch.rpm           |  24 kB   00:00     </span><br><span class="line">(27/37): perl-constant-1.27-2.el7.noarch.rpm               |  19 kB   00:00     </span><br><span class="line">(28/37): kernel-headers-3.10.0-1062.12.1.el7.x86_64.rpm    | 8.7 MB   00:33     </span><br><span class="line">(29/37): perl-libs-5.16.3-294.el7_6.x86_64.rpm             | 688 kB   00:01     </span><br><span class="line">(30/37): perl-parent-0.225-244.el7.noarch.rpm              |  12 kB   00:00     </span><br><span class="line">(31/37): perl-macros-5.16.3-294.el7_6.x86_64.rpm           |  44 kB   00:00     </span><br><span class="line">(32/37): perl-threads-1.87-4.el7.x86_64.rpm                |  49 kB   00:00     </span><br><span class="line">(33/37): perl-threads-shared-1.43-6.el7.x86_64.rpm         |  39 kB   00:00     </span><br><span class="line">(34/37): perl-podlators-2.5.1-3.el7.noarch.rpm             | 112 kB   00:00     </span><br><span class="line">(35/37): gcc-4.8.5-39.el7.x86_64.rpm                       |  16 MB   00:57     </span><br><span class="line">(36/37): kernel-devel-3.10.0-1062.12.1.el7.x86_64.rpm      |  18 MB   00:59     </span><br><span class="line">(37/37): perl-5.16.3-294.el7_6.x86_64.rpm                  | 8.0 MB   00:46     </span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">总计                                               1.1 MB/s |  71 MB  01:06     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  正在安装    : mpfr-3.1.1-4.el7.x86_64                                    1/37 </span><br><span class="line">  正在安装    : libmpc-1.0.1-3.el7.x86_64                                  2/37 </span><br><span class="line">  正在安装    : cpp-4.8.5-39.el7.x86_64                                    3/37 </span><br><span class="line">  正在安装    : 1:perl-parent-0.225-244.el7.noarch                         4/37 </span><br><span class="line">  正在安装    : perl-HTTP-Tiny-0.033-3.el7.noarch                          5/37 </span><br><span class="line">  正在安装    : perl-podlators-2.5.1-3.el7.noarch                          6/37 </span><br><span class="line">  正在安装    : perl-Pod-Perldoc-3.20-4.el7.noarch                         7/37 </span><br><span class="line">  正在安装    : 1:perl-Pod-Escapes-1.04-294.el7_6.noarch                   8/37 </span><br><span class="line">  正在安装    : perl-Encode-2.51-7.el7.x86_64                              9/37 </span><br><span class="line">  正在安装    : perl-Text-ParseWords-3.29-4.el7.noarch                    10/37 </span><br><span class="line">  正在安装    : perl-Pod-Usage-1.63-3.el7.noarch                          11/37 </span><br><span class="line">  正在安装    : 4:perl-libs-5.16.3-294.el7_6.x86_64                       12/37 </span><br><span class="line">  正在安装    : 4:perl-macros-5.16.3-294.el7_6.x86_64                     13/37 </span><br><span class="line">  正在安装    : perl-Storable-2.45-3.el7.x86_64                           14/37 </span><br><span class="line">  正在安装    : perl-Exporter-5.68-3.el7.noarch                           15/37 </span><br><span class="line">  正在安装    : perl-constant-1.27-2.el7.noarch                           16/37 </span><br><span class="line">  正在安装    : perl-Time-Local-1.2300-2.el7.noarch                       17/37 </span><br><span class="line">  正在安装    : perl-Socket-2.010-4.el7.x86_64                            18/37 </span><br><span class="line">  正在安装    : perl-Carp-1.26-244.el7.noarch                             19/37 </span><br><span class="line">  正在安装    : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                     20/37 </span><br><span class="line">  正在安装    : 1:perl-Pod-Simple-3.28-4.el7.noarch                       21/37 </span><br><span class="line">  正在安装    : perl-PathTools-3.40-5.el7.x86_64                          22/37 </span><br><span class="line">  正在安装    : perl-Scalar-List-Utils-1.27-248.el7.x86_64                23/37 </span><br><span class="line">  正在安装    : perl-File-Temp-0.23.01-3.el7.noarch                       24/37 </span><br><span class="line">  正在安装    : perl-File-Path-2.09-2.el7.noarch                          25/37 </span><br><span class="line">  正在安装    : perl-threads-shared-1.43-6.el7.x86_64                     26/37 </span><br><span class="line">  正在安装    : perl-threads-1.87-4.el7.x86_64                            27/37 </span><br><span class="line">  正在安装    : perl-Filter-1.49-3.el7.x86_64                             28/37 </span><br><span class="line">  正在安装    : perl-Getopt-Long-2.40-3.el7.noarch                        29/37 </span><br><span class="line">  正在安装    : 4:perl-5.16.3-294.el7_6.x86_64                            30/37 </span><br><span class="line">  正在安装    : kernel-headers-3.10.0-1062.12.1.el7.x86_64                31/37 </span><br><span class="line">  正在安装    : glibc-headers-2.17-292.el7.x86_64                         32/37 </span><br><span class="line">  正在安装    : glibc-devel-2.17-292.el7.x86_64                           33/37 </span><br><span class="line">  正在安装    : gcc-4.8.5-39.el7.x86_64                                   34/37 </span><br><span class="line">  正在安装    : libstdc++-devel-4.8.5-39.el7.x86_64                       35/37 </span><br><span class="line">  正在安装    : gcc-c++-4.8.5-39.el7.x86_64                               36/37 </span><br><span class="line">  正在安装    : kernel-devel-3.10.0-1062.12.1.el7.x86_64                  37/37 </span><br><span class="line">  验证中      : perl-HTTP-Tiny-0.033-3.el7.noarch                          1/37 </span><br><span class="line">  验证中      : perl-threads-shared-1.43-6.el7.x86_64                      2/37 </span><br><span class="line">  验证中      : perl-Storable-2.45-3.el7.x86_64                            3/37 </span><br><span class="line">  验证中      : 1:perl-Pod-Escapes-1.04-294.el7_6.noarch                   4/37 </span><br><span class="line">  验证中      : mpfr-3.1.1-4.el7.x86_64                                    5/37 </span><br><span class="line">  验证中      : perl-Exporter-5.68-3.el7.noarch                            6/37 </span><br><span class="line">  验证中      : perl-constant-1.27-2.el7.noarch                            7/37 </span><br><span class="line">  验证中      : perl-PathTools-3.40-5.el7.x86_64                           8/37 </span><br><span class="line">  验证中      : gcc-4.8.5-39.el7.x86_64                                    9/37 </span><br><span class="line">  验证中      : 1:perl-parent-0.225-244.el7.noarch                        10/37 </span><br><span class="line">  验证中      : 4:perl-libs-5.16.3-294.el7_6.x86_64                       11/37 </span><br><span class="line">  验证中      : perl-File-Temp-0.23.01-3.el7.noarch                       12/37 </span><br><span class="line">  验证中      : 1:perl-Pod-Simple-3.28-4.el7.noarch                       13/37 </span><br><span class="line">  验证中      : perl-Time-Local-1.2300-2.el7.noarch                       14/37 </span><br><span class="line">  验证中      : libstdc++-devel-4.8.5-39.el7.x86_64                       15/37 </span><br><span class="line">  验证中      : 4:perl-macros-5.16.3-294.el7_6.x86_64                     16/37 </span><br><span class="line">  验证中      : perl-Socket-2.010-4.el7.x86_64                            17/37 </span><br><span class="line">  验证中      : perl-Encode-2.51-7.el7.x86_64                             18/37 </span><br><span class="line">  验证中      : perl-Carp-1.26-244.el7.noarch                             19/37 </span><br><span class="line">  验证中      : gcc-c++-4.8.5-39.el7.x86_64                               20/37 </span><br><span class="line">  验证中      : 4:perl-Time-HiRes-1.9725-3.el7.x86_64                     21/37 </span><br><span class="line">  验证中      : perl-Scalar-List-Utils-1.27-248.el7.x86_64                22/37 </span><br><span class="line">  验证中      : libmpc-1.0.1-3.el7.x86_64                                 23/37 </span><br><span class="line">  验证中      : perl-Pod-Usage-1.63-3.el7.noarch                          24/37 </span><br><span class="line">  验证中      : kernel-headers-3.10.0-1062.12.1.el7.x86_64                25/37 </span><br><span class="line">  验证中      : glibc-devel-2.17-292.el7.x86_64                           26/37 </span><br><span class="line">  验证中      : perl-Pod-Perldoc-3.20-4.el7.noarch                        27/37 </span><br><span class="line">  验证中      : perl-podlators-2.5.1-3.el7.noarch                         28/37 </span><br><span class="line">  验证中      : perl-File-Path-2.09-2.el7.noarch                          29/37 </span><br><span class="line">  验证中      : perl-threads-1.87-4.el7.x86_64                            30/37 </span><br><span class="line">  验证中      : cpp-4.8.5-39.el7.x86_64                                   31/37 </span><br><span class="line">  验证中      : perl-Filter-1.49-3.el7.x86_64                             32/37 </span><br><span class="line">  验证中      : perl-Getopt-Long-2.40-3.el7.noarch                        33/37 </span><br><span class="line">  验证中      : perl-Text-ParseWords-3.29-4.el7.noarch                    34/37 </span><br><span class="line">  验证中      : 4:perl-5.16.3-294.el7_6.x86_64                            35/37 </span><br><span class="line">  验证中      : kernel-devel-3.10.0-1062.12.1.el7.x86_64                  36/37 </span><br><span class="line">  验证中      : glibc-headers-2.17-292.el7.x86_64                         37/37 </span><br><span class="line"></span><br><span class="line">已安装:</span><br><span class="line">  gcc.x86_64 0:4.8.5-39.el7                     gcc-c++.x86_64 0:4.8.5-39.el7   </span><br><span class="line">  kernel-devel.x86_64 0:3.10.0-1062.12.1.el7   </span><br><span class="line"></span><br><span class="line">作为依赖被安装:</span><br><span class="line">  cpp.x86_64 0:4.8.5-39.el7                                                     </span><br><span class="line">  glibc-devel.x86_64 0:2.17-292.el7                                             </span><br><span class="line">  glibc-headers.x86_64 0:2.17-292.el7                                           </span><br><span class="line">  kernel-headers.x86_64 0:3.10.0-1062.12.1.el7                                  </span><br><span class="line">  libmpc.x86_64 0:1.0.1-3.el7                                                   </span><br><span class="line">  libstdc++-devel.x86_64 0:4.8.5-39.el7                                         </span><br><span class="line">  mpfr.x86_64 0:3.1.1-4.el7                                                     </span><br><span class="line">  perl.x86_64 4:5.16.3-294.el7_6                                                </span><br><span class="line">  perl-Carp.noarch 0:1.26-244.el7                                               </span><br><span class="line">  perl-Encode.x86_64 0:2.51-7.el7                                               </span><br><span class="line">  perl-Exporter.noarch 0:5.68-3.el7                                             </span><br><span class="line">  perl-File-Path.noarch 0:2.09-2.el7                                            </span><br><span class="line">  perl-File-Temp.noarch 0:0.23.01-3.el7                                         </span><br><span class="line">  perl-Filter.x86_64 0:1.49-3.el7                                               </span><br><span class="line">  perl-Getopt-Long.noarch 0:2.40-3.el7                                          </span><br><span class="line">  perl-HTTP-Tiny.noarch 0:0.033-3.el7                                           </span><br><span class="line">  perl-PathTools.x86_64 0:3.40-5.el7                                            </span><br><span class="line">  perl-Pod-Escapes.noarch 1:1.04-294.el7_6                                      </span><br><span class="line">  perl-Pod-Perldoc.noarch 0:3.20-4.el7                                          </span><br><span class="line">  perl-Pod-Simple.noarch 1:3.28-4.el7                                           </span><br><span class="line">  perl-Pod-Usage.noarch 0:1.63-3.el7                                            </span><br><span class="line">  perl-Scalar-List-Utils.x86_64 0:1.27-248.el7                                  </span><br><span class="line">  perl-Socket.x86_64 0:2.010-4.el7                                              </span><br><span class="line">  perl-Storable.x86_64 0:2.45-3.el7                                             </span><br><span class="line">  perl-Text-ParseWords.noarch 0:3.29-4.el7                                      </span><br><span class="line">  perl-Time-HiRes.x86_64 4:1.9725-3.el7                                         </span><br><span class="line">  perl-Time-Local.noarch 0:1.2300-2.el7                                         </span><br><span class="line">  perl-constant.noarch 0:1.27-2.el7                                             </span><br><span class="line">  perl-libs.x86_64 4:5.16.3-294.el7_6                                           </span><br><span class="line">  perl-macros.x86_64 4:5.16.3-294.el7_6                                         </span><br><span class="line">  perl-parent.noarch 1:0.225-244.el7                                            </span><br><span class="line">  perl-podlators.noarch 0:2.5.1-3.el7                                           </span><br><span class="line">  perl-threads.x86_64 0:1.87-4.el7                                              </span><br><span class="line">  perl-threads-shared.x86_64 0:1.43-6.el7                                       </span><br><span class="line"></span><br><span class="line">完毕！</span><br><span class="line">[root@localhost redis-5.0.7]# </span><br><span class="line">[root@localhost redis-5.0.7]# make</span><br><span class="line">cd src &amp;&amp; make all</span><br><span class="line">make[1]: 进入目录“/data/redis-5.0.7/src”</span><br><span class="line">    CC Makefile.dep</span><br><span class="line">make[1]: 离开目录“/data/redis-5.0.7/src”</span><br><span class="line">make[1]: 进入目录“/data/redis-5.0.7/src”</span><br><span class="line">rm -rf redis-server redis-sentinel redis-cli redis-benchmark redis-check-rdb redis-check-aof *.o *.gcda *.gcno *.gcov redis.info lcov-html Makefile.dep dict-benchmark</span><br><span class="line">(cd ../deps &amp;&amp; make distclean)</span><br><span class="line">make[2]: 进入目录“/data/redis-5.0.7/deps”</span><br><span class="line">(cd hiredis &amp;&amp; make clean) &gt; /dev/null || true</span><br><span class="line">(cd linenoise &amp;&amp; make clean) &gt; /dev/null || true</span><br><span class="line">(cd lua &amp;&amp; make clean) &gt; /dev/null || true</span><br><span class="line">(cd jemalloc &amp;&amp; [ -f Makefile ] &amp;&amp; make distclean) &gt; /dev/null || true</span><br><span class="line">(rm -f .make-*)</span><br><span class="line">make[2]: 离开目录“/data/redis-5.0.7/deps”</span><br><span class="line">(rm -f .make-*)</span><br><span class="line">echo STD=-std=c99 -pedantic -DREDIS_STATIC=&apos;&apos; &gt;&gt; .make-settings</span><br><span class="line">echo WARN=-Wall -W -Wno-missing-field-initializers &gt;&gt; .make-settings</span><br><span class="line">echo OPT=-O2 &gt;&gt; .make-settings</span><br><span class="line">echo MALLOC=jemalloc &gt;&gt; .make-settings</span><br><span class="line">echo CFLAGS= &gt;&gt; .make-settings</span><br><span class="line">echo LDFLAGS= &gt;&gt; .make-settings</span><br><span class="line">echo REDIS_CFLAGS= &gt;&gt; .make-settings</span><br><span class="line">echo REDIS_LDFLAGS= &gt;&gt; .make-settings</span><br><span class="line">echo PREV_FINAL_CFLAGS=-std=c99 -pedantic -DREDIS_STATIC=&apos;&apos; -Wall -W -Wno-missing-field-initializers -O2 -g -ggdb   -I../deps/hiredis -I../deps/linenoise -I../deps/lua/src -DUSE_JEMALLOC -I../deps/jemalloc/include &gt;&gt; .make-settings</span><br><span class="line">echo PREV_FINAL_LDFLAGS=  -g -ggdb -rdynamic &gt;&gt; .make-settings</span><br><span class="line">(cd ../deps &amp;&amp; make hiredis linenoise lua jemalloc)</span><br><span class="line">make[2]: 进入目录“/data/redis-5.0.7/deps”</span><br><span class="line">(cd hiredis &amp;&amp; make clean) &gt; /dev/null || true</span><br><span class="line">(cd linenoise &amp;&amp; make clean) &gt; /dev/null || true</span><br><span class="line">(cd lua &amp;&amp; make clean) &gt; /dev/null || true</span><br><span class="line">(cd jemalloc &amp;&amp; [ -f Makefile ] &amp;&amp; make distclean) &gt; /dev/null || true</span><br><span class="line">(rm -f .make-*)</span><br><span class="line">(echo &quot;&quot; &gt; .make-cflags)</span><br><span class="line">(echo &quot;&quot; &gt; .make-ldflags)</span><br><span class="line">MAKE hiredis</span><br><span class="line">cd hiredis &amp;&amp; make static</span><br><span class="line">make[3]: 进入目录“/data/redis-5.0.7/deps/hiredis”</span><br><span class="line">cc -std=c99 -pedantic -c -O3 -fPIC  -Wall -W -Wstrict-prototypes -Wwrite-strings -g -ggdb  net.c</span><br><span class="line">cc -std=c99 -pedantic -c -O3 -fPIC  -Wall -W -Wstrict-prototypes -Wwrite-strings -g -ggdb  hiredis.c</span><br><span class="line">cc -std=c99 -pedantic -c -O3 -fPIC  -Wall -W -Wstrict-prototypes -Wwrite-strings -g -ggdb  sds.c</span><br><span class="line">cc -std=c99 -pedantic -c -O3 -fPIC  -Wall -W -Wstrict-prototypes -Wwrite-strings -g -ggdb  async.c</span><br><span class="line">cc -std=c99 -pedantic -c -O3 -fPIC  -Wall -W -Wstrict-prototypes -Wwrite-strings -g -ggdb  read.c</span><br><span class="line">ar rcs libhiredis.a net.o hiredis.o sds.o async.o read.o</span><br><span class="line">make[3]: 离开目录“/data/redis-5.0.7/deps/hiredis”</span><br><span class="line">MAKE linenoise</span><br><span class="line">cd linenoise &amp;&amp; make</span><br><span class="line">make[3]: 进入目录“/data/redis-5.0.7/deps/linenoise”</span><br><span class="line">cc  -Wall -Os -g  -c linenoise.c</span><br><span class="line">make[3]: 离开目录“/data/redis-5.0.7/deps/linenoise”</span><br><span class="line">MAKE lua</span><br><span class="line">cd lua/src &amp;&amp; make all CFLAGS=&quot;-O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos; &quot; MYLDFLAGS=&quot;&quot; AR=&quot;ar rcu&quot;</span><br><span class="line">make[3]: 进入目录“/data/redis-5.0.7/deps/lua/src”</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lapi.o lapi.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lcode.o lcode.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o ldebug.o ldebug.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o ldo.o ldo.c</span><br><span class="line">ldo.c: 在函数‘f_parser’中:</span><br><span class="line">ldo.c:496:7: 警告：未使用的变量‘c’ [-Wunused-variable]</span><br><span class="line">   int c = luaZ_lookahead(p-&gt;z);</span><br><span class="line">       ^</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o ldump.o ldump.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lfunc.o lfunc.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lgc.o lgc.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o llex.o llex.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lmem.o lmem.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lobject.o lobject.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lopcodes.o lopcodes.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lparser.o lparser.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lstate.o lstate.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lstring.o lstring.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o ltable.o ltable.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o ltm.o ltm.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lundump.o lundump.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lvm.o lvm.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lzio.o lzio.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o strbuf.o strbuf.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o fpconv.o fpconv.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lauxlib.o lauxlib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lbaselib.o lbaselib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o ldblib.o ldblib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o liolib.o liolib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lmathlib.o lmathlib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o loslib.o loslib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o ltablib.o ltablib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lstrlib.o lstrlib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o loadlib.o loadlib.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o linit.o linit.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lua_cjson.o lua_cjson.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lua_struct.o lua_struct.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lua_cmsgpack.o lua_cmsgpack.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lua_bit.o lua_bit.c</span><br><span class="line">ar rcu liblua.a lapi.o lcode.o ldebug.o ldo.o ldump.o lfunc.o lgc.o llex.o lmem.o lobject.o lopcodes.o lparser.o lstate.o lstring.o ltable.o ltm.o lundump.o lvm.o lzio.o strbuf.o fpconv.o lauxlib.o lbaselib.o ldblib.o liolib.o lmathlib.o loslib.o ltablib.o lstrlib.o loadlib.o linit.o lua_cjson.o lua_struct.o lua_cmsgpack.o lua_bit.o	# DLL needs all object files</span><br><span class="line">ranlib liblua.a</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o lua.o lua.c</span><br><span class="line">cc -o lua  lua.o liblua.a -lm </span><br><span class="line">liblua.a(loslib.o)：在函数‘os_tmpname’中：</span><br><span class="line">loslib.c:(.text+0x28c): 警告：the use of `tmpnam&apos; is dangerous, better use `mkstemp&apos;</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o luac.o luac.c</span><br><span class="line">cc -O2 -Wall -DLUA_ANSI -DENABLE_CJSON_GLOBAL -DREDIS_STATIC=&apos;&apos;    -c -o print.o print.c</span><br><span class="line">cc -o luac  luac.o print.o liblua.a -lm </span><br><span class="line">make[3]: 离开目录“/data/redis-5.0.7/deps/lua/src”</span><br><span class="line">MAKE jemalloc</span><br><span class="line">cd jemalloc &amp;&amp; ./configure --with-version=5.1.0-0-g0 --with-lg-quantum=3 --with-jemalloc-prefix=je_ --enable-cc-silence CFLAGS=&quot;-std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops &quot; LDFLAGS=&quot;&quot;</span><br><span class="line">configure: WARNING: unrecognized options: --enable-cc-silence</span><br><span class="line">checking for xsltproc... false</span><br><span class="line">checking for gcc... gcc</span><br><span class="line">checking whether the C compiler works... yes</span><br><span class="line">checking for C compiler default output file name... a.out</span><br><span class="line">checking for suffix of executables... </span><br><span class="line">checking whether we are cross compiling... no</span><br><span class="line">checking for suffix of object files... o</span><br><span class="line">checking whether we are using the GNU C compiler... yes</span><br><span class="line">checking whether gcc accepts -g... yes</span><br><span class="line">checking for gcc option to accept ISO C89... none needed</span><br><span class="line">checking whether compiler is cray... no</span><br><span class="line">checking whether compiler supports -std=gnu11... yes</span><br><span class="line">checking whether compiler supports -Wall... yes</span><br><span class="line">checking whether compiler supports -Wshorten-64-to-32... no</span><br><span class="line">checking whether compiler supports -Wsign-compare... yes</span><br><span class="line">checking whether compiler supports -Wundef... yes</span><br><span class="line">checking whether compiler supports -Wno-format-zero-length... yes</span><br><span class="line">checking whether compiler supports -pipe... yes</span><br><span class="line">checking whether compiler supports -g3... yes</span><br><span class="line">checking how to run the C preprocessor... gcc -E</span><br><span class="line">checking for g++... g++</span><br><span class="line">checking whether we are using the GNU C++ compiler... yes</span><br><span class="line">checking whether g++ accepts -g... yes</span><br><span class="line">checking whether g++ supports C++14 features by default... no</span><br><span class="line">checking whether g++ supports C++14 features with -std=c++14... no</span><br><span class="line">checking whether g++ supports C++14 features with -std=c++0x... no</span><br><span class="line">checking whether g++ supports C++14 features with +std=c++14... no</span><br><span class="line">checking whether g++ supports C++14 features with -h std=c++14... no</span><br><span class="line">configure: No compiler with C++14 support was found</span><br><span class="line">checking for grep that handles long lines and -e... /usr/bin/grep</span><br><span class="line">checking for egrep... /usr/bin/grep -E</span><br><span class="line">checking for ANSI C header files... yes</span><br><span class="line">checking for sys/types.h... yes</span><br><span class="line">checking for sys/stat.h... yes</span><br><span class="line">checking for stdlib.h... yes</span><br><span class="line">checking for string.h... yes</span><br><span class="line">checking for memory.h... yes</span><br><span class="line">checking for strings.h... yes</span><br><span class="line">checking for inttypes.h... yes</span><br><span class="line">checking for stdint.h... yes</span><br><span class="line">checking for unistd.h... yes</span><br><span class="line">checking whether byte ordering is bigendian... no</span><br><span class="line">checking size of void *... 8</span><br><span class="line">checking size of int... 4</span><br><span class="line">checking size of long... 8</span><br><span class="line">checking size of long long... 8</span><br><span class="line">checking size of intmax_t... 8</span><br><span class="line">checking build system type... x86_64-pc-linux-gnu</span><br><span class="line">checking host system type... x86_64-pc-linux-gnu</span><br><span class="line">checking whether pause instruction is compilable... yes</span><br><span class="line">checking number of significant virtual address bits... 48</span><br><span class="line">checking for ar... ar</span><br><span class="line">checking for nm... nm</span><br><span class="line">checking for gawk... gawk</span><br><span class="line">checking malloc.h usability... yes</span><br><span class="line">checking malloc.h presence... yes</span><br><span class="line">checking for malloc.h... yes</span><br><span class="line">checking whether malloc_usable_size definition can use const argument... no</span><br><span class="line">checking for library containing log... -lm</span><br><span class="line">checking whether __attribute__ syntax is compilable... yes</span><br><span class="line">checking whether compiler supports -fvisibility=hidden... yes</span><br><span class="line">checking whether compiler supports -fvisibility=hidden... yes</span><br><span class="line">checking whether compiler supports -Werror... yes</span><br><span class="line">checking whether compiler supports -herror_on_warning... no</span><br><span class="line">checking whether tls_model attribute is compilable... yes</span><br><span class="line">checking whether compiler supports -Werror... yes</span><br><span class="line">checking whether compiler supports -herror_on_warning... no</span><br><span class="line">checking whether alloc_size attribute is compilable... yes</span><br><span class="line">checking whether compiler supports -Werror... yes</span><br><span class="line">checking whether compiler supports -herror_on_warning... no</span><br><span class="line">checking whether format(gnu_printf, ...) attribute is compilable... yes</span><br><span class="line">checking whether compiler supports -Werror... yes</span><br><span class="line">checking whether compiler supports -herror_on_warning... no</span><br><span class="line">checking whether format(printf, ...) attribute is compilable... yes</span><br><span class="line">checking for a BSD-compatible install... /usr/bin/install -c</span><br><span class="line">checking for ranlib... ranlib</span><br><span class="line">checking for ld... /usr/bin/ld</span><br><span class="line">checking for autoconf... false</span><br><span class="line">checking for memalign... yes</span><br><span class="line">checking for valloc... yes</span><br><span class="line">checking whether compiler supports -O3... yes</span><br><span class="line">checking whether compiler supports -O3... yes</span><br><span class="line">checking whether compiler supports -funroll-loops... yes</span><br><span class="line">checking configured backtracing method... N/A</span><br><span class="line">checking for sbrk... yes</span><br><span class="line">checking whether utrace(2) is compilable... no</span><br><span class="line">checking whether a program using __builtin_unreachable is compilable... yes</span><br><span class="line">checking whether a program using __builtin_ffsl is compilable... yes</span><br><span class="line">checking LG_PAGE... 12</span><br><span class="line">checking pthread.h usability... yes</span><br><span class="line">checking pthread.h presence... yes</span><br><span class="line">checking for pthread.h... yes</span><br><span class="line">checking for pthread_create in -lpthread... yes</span><br><span class="line">checking dlfcn.h usability... yes</span><br><span class="line">checking dlfcn.h presence... yes</span><br><span class="line">checking for dlfcn.h... yes</span><br><span class="line">checking for dlsym... no</span><br><span class="line">checking for dlsym in -ldl... yes</span><br><span class="line">checking whether pthread_atfork(3) is compilable... yes</span><br><span class="line">checking whether pthread_setname_np(3) is compilable... yes</span><br><span class="line">checking for library containing clock_gettime... none required</span><br><span class="line">checking whether clock_gettime(CLOCK_MONOTONIC_COARSE, ...) is compilable... yes</span><br><span class="line">checking whether clock_gettime(CLOCK_MONOTONIC, ...) is compilable... yes</span><br><span class="line">checking whether mach_absolute_time() is compilable... no</span><br><span class="line">checking whether compiler supports -Werror... yes</span><br><span class="line">checking whether syscall(2) is compilable... yes</span><br><span class="line">checking for secure_getenv... yes</span><br><span class="line">checking for sched_getcpu... yes</span><br><span class="line">checking for sched_setaffinity... yes</span><br><span class="line">checking for issetugid... no</span><br><span class="line">checking for _malloc_thread_cleanup... no</span><br><span class="line">checking for _pthread_mutex_init_calloc_cb... no</span><br><span class="line">checking for TLS... yes</span><br><span class="line">checking whether C11 atomics is compilable... no</span><br><span class="line">checking whether GCC __atomic atomics is compilable... yes</span><br><span class="line">checking whether GCC __sync atomics is compilable... yes</span><br><span class="line">checking whether Darwin OSAtomic*() is compilable... no</span><br><span class="line">checking whether madvise(2) is compilable... yes</span><br><span class="line">checking whether madvise(..., MADV_FREE) is compilable... no</span><br><span class="line">checking whether madvise(..., MADV_DONTNEED) is compilable... yes</span><br><span class="line">checking whether madvise(..., MADV_DO[NT]DUMP) is compilable... yes</span><br><span class="line">checking whether madvise(..., MADV_[NO]HUGEPAGE) is compilable... yes</span><br><span class="line">checking whether to force 32-bit __sync_&#123;add,sub&#125;_and_fetch()... no</span><br><span class="line">checking whether to force 64-bit __sync_&#123;add,sub&#125;_and_fetch()... no</span><br><span class="line">checking for __builtin_clz... yes</span><br><span class="line">checking whether Darwin os_unfair_lock_*() is compilable... no</span><br><span class="line">checking whether Darwin OSSpin*() is compilable... no</span><br><span class="line">checking whether glibc malloc hook is compilable... yes</span><br><span class="line">checking whether glibc memalign hook is compilable... yes</span><br><span class="line">checking whether pthreads adaptive mutexes is compilable... yes</span><br><span class="line">checking whether compiler supports -D_GNU_SOURCE... yes</span><br><span class="line">checking whether compiler supports -Werror... yes</span><br><span class="line">checking whether compiler supports -herror_on_warning... no</span><br><span class="line">checking whether strerror_r returns char with gnu source is compilable... yes</span><br><span class="line">checking for stdbool.h that conforms to C99... yes</span><br><span class="line">checking for _Bool... yes</span><br><span class="line">configure: creating ./config.status</span><br><span class="line">config.status: creating Makefile</span><br><span class="line">config.status: creating jemalloc.pc</span><br><span class="line">config.status: creating doc/html.xsl</span><br><span class="line">config.status: creating doc/manpages.xsl</span><br><span class="line">config.status: creating doc/jemalloc.xml</span><br><span class="line">config.status: creating include/jemalloc/jemalloc_macros.h</span><br><span class="line">config.status: creating include/jemalloc/jemalloc_protos.h</span><br><span class="line">config.status: creating include/jemalloc/jemalloc_typedefs.h</span><br><span class="line">config.status: creating include/jemalloc/internal/jemalloc_preamble.h</span><br><span class="line">config.status: creating test/test.sh</span><br><span class="line">config.status: creating test/include/test/jemalloc_test.h</span><br><span class="line">config.status: creating config.stamp</span><br><span class="line">config.status: creating bin/jemalloc-config</span><br><span class="line">config.status: creating bin/jemalloc.sh</span><br><span class="line">config.status: creating bin/jeprof</span><br><span class="line">config.status: creating include/jemalloc/jemalloc_defs.h</span><br><span class="line">config.status: creating include/jemalloc/internal/jemalloc_internal_defs.h</span><br><span class="line">config.status: creating test/include/test/jemalloc_test_defs.h</span><br><span class="line">config.status: executing include/jemalloc/internal/public_symbols.txt commands</span><br><span class="line">config.status: executing include/jemalloc/internal/private_symbols.awk commands</span><br><span class="line">config.status: executing include/jemalloc/internal/private_symbols_jet.awk commands</span><br><span class="line">config.status: executing include/jemalloc/internal/public_namespace.h commands</span><br><span class="line">config.status: executing include/jemalloc/internal/public_unnamespace.h commands</span><br><span class="line">config.status: executing include/jemalloc/internal/size_classes.h commands</span><br><span class="line">config.status: executing include/jemalloc/jemalloc_protos_jet.h commands</span><br><span class="line">config.status: executing include/jemalloc/jemalloc_rename.h commands</span><br><span class="line">config.status: executing include/jemalloc/jemalloc_mangle.h commands</span><br><span class="line">config.status: executing include/jemalloc/jemalloc_mangle_jet.h commands</span><br><span class="line">config.status: executing include/jemalloc/jemalloc.h commands</span><br><span class="line">configure: WARNING: unrecognized options: --enable-cc-silence</span><br><span class="line">===============================================================================</span><br><span class="line">jemalloc version   : 5.1.0-0-g0</span><br><span class="line">library revision   : 2</span><br><span class="line"></span><br><span class="line">CONFIG             : --with-version=5.1.0-0-g0 --with-lg-quantum=3 --with-jemalloc-prefix=je_ --enable-cc-silence &apos;CFLAGS=-std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops &apos; LDFLAGS=</span><br><span class="line">CC                 : gcc</span><br><span class="line">CONFIGURE_CFLAGS   : -std=gnu11 -Wall -Wsign-compare -Wundef -Wno-format-zero-length -pipe -g3 -fvisibility=hidden -O3 -funroll-loops</span><br><span class="line">SPECIFIED_CFLAGS   : -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops </span><br><span class="line">EXTRA_CFLAGS       : </span><br><span class="line">CPPFLAGS           : -D_GNU_SOURCE -D_REENTRANT</span><br><span class="line">CXX                : g++</span><br><span class="line">CONFIGURE_CXXFLAGS : -fvisibility=hidden -O3</span><br><span class="line">SPECIFIED_CXXFLAGS : </span><br><span class="line">EXTRA_CXXFLAGS     : </span><br><span class="line">LDFLAGS            : </span><br><span class="line">EXTRA_LDFLAGS      : </span><br><span class="line">DSO_LDFLAGS        : -shared -Wl,-soname,$(@F)</span><br><span class="line">LIBS               : -lm  -lpthread -ldl</span><br><span class="line">RPATH_EXTRA        : </span><br><span class="line"></span><br><span class="line">XSLTPROC           : false</span><br><span class="line">XSLROOT            : </span><br><span class="line"></span><br><span class="line">PREFIX             : /usr/local</span><br><span class="line">BINDIR             : /usr/local/bin</span><br><span class="line">DATADIR            : /usr/local/share</span><br><span class="line">INCLUDEDIR         : /usr/local/include</span><br><span class="line">LIBDIR             : /usr/local/lib</span><br><span class="line">MANDIR             : /usr/local/share/man</span><br><span class="line"></span><br><span class="line">srcroot            : </span><br><span class="line">abs_srcroot        : /data/redis-5.0.7/deps/jemalloc/</span><br><span class="line">objroot            : </span><br><span class="line">abs_objroot        : /data/redis-5.0.7/deps/jemalloc/</span><br><span class="line"></span><br><span class="line">JEMALLOC_PREFIX    : je_</span><br><span class="line">JEMALLOC_PRIVATE_NAMESPACE</span><br><span class="line">                   : je_</span><br><span class="line">install_suffix     : </span><br><span class="line">malloc_conf        : </span><br><span class="line">autogen            : 0</span><br><span class="line">debug              : 0</span><br><span class="line">stats              : 1</span><br><span class="line">prof               : 0</span><br><span class="line">prof-libunwind     : 0</span><br><span class="line">prof-libgcc        : 0</span><br><span class="line">prof-gcc           : 0</span><br><span class="line">fill               : 1</span><br><span class="line">utrace             : 0</span><br><span class="line">xmalloc            : 0</span><br><span class="line">log                : 0</span><br><span class="line">lazy_lock          : 0</span><br><span class="line">cache-oblivious    : 1</span><br><span class="line">cxx                : 0</span><br><span class="line">===============================================================================</span><br><span class="line">cd jemalloc &amp;&amp; make CFLAGS=&quot;-std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops &quot; LDFLAGS=&quot;&quot; lib/libjemalloc.a</span><br><span class="line">make[3]: 进入目录“/data/redis-5.0.7/deps/jemalloc”</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/jemalloc.sym.o src/jemalloc.c</span><br><span class="line">nm -a src/jemalloc.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/jemalloc.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/arena.sym.o src/arena.c</span><br><span class="line">nm -a src/arena.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/arena.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/background_thread.sym.o src/background_thread.c</span><br><span class="line">nm -a src/background_thread.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/background_thread.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/base.sym.o src/base.c</span><br><span class="line">nm -a src/base.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/base.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/bin.sym.o src/bin.c</span><br><span class="line">nm -a src/bin.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/bin.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/bitmap.sym.o src/bitmap.c</span><br><span class="line">nm -a src/bitmap.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/bitmap.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/ckh.sym.o src/ckh.c</span><br><span class="line">nm -a src/ckh.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/ckh.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/ctl.sym.o src/ctl.c</span><br><span class="line">nm -a src/ctl.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/ctl.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/div.sym.o src/div.c</span><br><span class="line">nm -a src/div.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/div.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/extent.sym.o src/extent.c</span><br><span class="line">nm -a src/extent.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/extent.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/extent_dss.sym.o src/extent_dss.c</span><br><span class="line">nm -a src/extent_dss.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/extent_dss.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/extent_mmap.sym.o src/extent_mmap.c</span><br><span class="line">nm -a src/extent_mmap.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/extent_mmap.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/hash.sym.o src/hash.c</span><br><span class="line">nm -a src/hash.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/hash.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/hooks.sym.o src/hooks.c</span><br><span class="line">nm -a src/hooks.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/hooks.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/large.sym.o src/large.c</span><br><span class="line">nm -a src/large.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/large.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/log.sym.o src/log.c</span><br><span class="line">nm -a src/log.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/log.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/malloc_io.sym.o src/malloc_io.c</span><br><span class="line">nm -a src/malloc_io.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/malloc_io.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/mutex.sym.o src/mutex.c</span><br><span class="line">nm -a src/mutex.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/mutex.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/mutex_pool.sym.o src/mutex_pool.c</span><br><span class="line">nm -a src/mutex_pool.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/mutex_pool.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/nstime.sym.o src/nstime.c</span><br><span class="line">nm -a src/nstime.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/nstime.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/pages.sym.o src/pages.c</span><br><span class="line">nm -a src/pages.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/pages.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/prng.sym.o src/prng.c</span><br><span class="line">nm -a src/prng.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/prng.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/prof.sym.o src/prof.c</span><br><span class="line">nm -a src/prof.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/prof.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/rtree.sym.o src/rtree.c</span><br><span class="line">nm -a src/rtree.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/rtree.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/stats.sym.o src/stats.c</span><br><span class="line">nm -a src/stats.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/stats.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/sz.sym.o src/sz.c</span><br><span class="line">nm -a src/sz.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/sz.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/tcache.sym.o src/tcache.c</span><br><span class="line">nm -a src/tcache.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/tcache.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/ticker.sym.o src/ticker.c</span><br><span class="line">nm -a src/ticker.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/ticker.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/tsd.sym.o src/tsd.c</span><br><span class="line">nm -a src/tsd.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/tsd.sym</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -DJEMALLOC_NO_PRIVATE_NAMESPACE -o src/witness.sym.o src/witness.c</span><br><span class="line">nm -a src/witness.sym.o | gawk -f include/jemalloc/internal/private_symbols.awk &gt; src/witness.sym</span><br><span class="line">/bin/sh include/jemalloc/internal/private_namespace.sh src/jemalloc.sym src/arena.sym src/background_thread.sym src/base.sym src/bin.sym src/bitmap.sym src/ckh.sym src/ctl.sym src/div.sym src/extent.sym src/extent_dss.sym src/extent_mmap.sym src/hash.sym src/hooks.sym src/large.sym src/log.sym src/malloc_io.sym src/mutex.sym src/mutex_pool.sym src/nstime.sym src/pages.sym src/prng.sym src/prof.sym src/rtree.sym src/stats.sym src/sz.sym src/tcache.sym src/ticker.sym src/tsd.sym src/witness.sym &gt; include/jemalloc/internal/private_namespace.gen.h</span><br><span class="line">cp include/jemalloc/internal/private_namespace.gen.h include/jemalloc/internal/private_namespace.gen.h</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/jemalloc.o src/jemalloc.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/arena.o src/arena.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/background_thread.o src/background_thread.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/base.o src/base.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/bin.o src/bin.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/bitmap.o src/bitmap.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/ckh.o src/ckh.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/ctl.o src/ctl.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/div.o src/div.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/extent.o src/extent.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/extent_dss.o src/extent_dss.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/extent_mmap.o src/extent_mmap.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/hash.o src/hash.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/hooks.o src/hooks.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/large.o src/large.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/log.o src/log.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/malloc_io.o src/malloc_io.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/mutex.o src/mutex.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/mutex_pool.o src/mutex_pool.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/nstime.o src/nstime.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/pages.o src/pages.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/prng.o src/prng.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/prof.o src/prof.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/rtree.o src/rtree.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/stats.o src/stats.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/sz.o src/sz.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/tcache.o src/tcache.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/ticker.o src/ticker.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/tsd.o src/tsd.c</span><br><span class="line">gcc -std=gnu99 -Wall -pipe -g3 -O3 -funroll-loops  -c -D_GNU_SOURCE -D_REENTRANT -Iinclude -Iinclude -o src/witness.o src/witness.c</span><br><span class="line">ar crus lib/libjemalloc.a src/jemalloc.o src/arena.o src/background_thread.o src/base.o src/bin.o src/bitmap.o src/ckh.o src/ctl.o src/div.o src/extent.o src/extent_dss.o src/extent_mmap.o src/hash.o src/hooks.o src/large.o src/log.o src/malloc_io.o src/mutex.o src/mutex_pool.o src/nstime.o src/pages.o src/prng.o src/prof.o src/rtree.o src/stats.o src/sz.o src/tcache.o src/ticker.o src/tsd.o src/witness.o</span><br><span class="line">make[3]: 离开目录“/data/redis-5.0.7/deps/jemalloc”</span><br><span class="line">make[2]: 离开目录“/data/redis-5.0.7/deps”</span><br><span class="line">    CC adlist.o</span><br><span class="line">    CC quicklist.o</span><br><span class="line">    CC ae.o</span><br><span class="line">    CC anet.o</span><br><span class="line">    CC dict.o</span><br><span class="line">    CC server.o</span><br><span class="line">    CC sds.o</span><br><span class="line">    CC zmalloc.o</span><br><span class="line">    CC lzf_c.o</span><br><span class="line">    CC lzf_d.o</span><br><span class="line">    CC pqsort.o</span><br><span class="line">    CC zipmap.o</span><br><span class="line">    CC sha1.o</span><br><span class="line">    CC ziplist.o</span><br><span class="line">    CC release.o</span><br><span class="line">    CC networking.o</span><br><span class="line">    CC util.o</span><br><span class="line">    CC object.o</span><br><span class="line">    CC db.o</span><br><span class="line">    CC replication.o</span><br><span class="line">    CC rdb.o</span><br><span class="line">    CC t_string.o</span><br><span class="line">    CC t_list.o</span><br><span class="line">    CC t_set.o</span><br><span class="line">    CC t_zset.o</span><br><span class="line">    CC t_hash.o</span><br><span class="line">    CC config.o</span><br><span class="line">    CC aof.o</span><br><span class="line">    CC pubsub.o</span><br><span class="line">    CC multi.o</span><br><span class="line">    CC debug.o</span><br><span class="line">    CC sort.o</span><br><span class="line">    CC intset.o</span><br><span class="line">    CC syncio.o</span><br><span class="line">    CC cluster.o</span><br><span class="line">    CC crc16.o</span><br><span class="line">    CC endianconv.o</span><br><span class="line">    CC slowlog.o</span><br><span class="line">    CC scripting.o</span><br><span class="line">    CC bio.o</span><br><span class="line">    CC rio.o</span><br><span class="line">    CC rand.o</span><br><span class="line">    CC memtest.o</span><br><span class="line">    CC crc64.o</span><br><span class="line">    CC bitops.o</span><br><span class="line">    CC sentinel.o</span><br><span class="line">    CC notify.o</span><br><span class="line">    CC setproctitle.o</span><br><span class="line">    CC blocked.o</span><br><span class="line">    CC hyperloglog.o</span><br><span class="line">    CC latency.o</span><br><span class="line">    CC sparkline.o</span><br><span class="line">    CC redis-check-rdb.o</span><br><span class="line">    CC redis-check-aof.o</span><br><span class="line">    CC geo.o</span><br><span class="line">    CC lazyfree.o</span><br><span class="line">    CC module.o</span><br><span class="line">    CC evict.o</span><br><span class="line">    CC expire.o</span><br><span class="line">    CC geohash.o</span><br><span class="line">    CC geohash_helper.o</span><br><span class="line">    CC childinfo.o</span><br><span class="line">    CC defrag.o</span><br><span class="line">    CC siphash.o</span><br><span class="line">    CC rax.o</span><br><span class="line">    CC t_stream.o</span><br><span class="line">    CC listpack.o</span><br><span class="line">    CC localtime.o</span><br><span class="line">    CC lolwut.o</span><br><span class="line">    CC lolwut5.o</span><br><span class="line">    LINK redis-server</span><br><span class="line">    INSTALL redis-sentinel</span><br><span class="line">    CC redis-cli.o</span><br><span class="line">    LINK redis-cli</span><br><span class="line">    CC redis-benchmark.o</span><br><span class="line">    LINK redis-benchmark</span><br><span class="line">    INSTALL redis-check-rdb</span><br><span class="line">    INSTALL redis-check-aof</span><br><span class="line"></span><br><span class="line">Hint: It&apos;s a good idea to run &apos;make test&apos; ;)</span><br><span class="line"></span><br><span class="line">make[1]: 离开目录“/data/redis-5.0.7/src”</span><br><span class="line">[root@localhost redis-5.0.7]# ll</span><br><span class="line">总用量 276</span><br><span class="line">-rw-rw-r--.  1 root root 115100 11月 20 01:05 00-RELEASENOTES</span><br><span class="line">-rw-rw-r--.  1 root root     53 11月 20 01:05 BUGS</span><br><span class="line">-rw-rw-r--.  1 root root   2381 11月 20 01:05 CONTRIBUTING</span><br><span class="line">-rw-rw-r--.  1 root root   1487 11月 20 01:05 COPYING</span><br><span class="line">drwxrwxr-x.  6 root root    192 3月  13 01:19 deps</span><br><span class="line">-rw-rw-r--.  1 root root     11 11月 20 01:05 INSTALL</span><br><span class="line">-rw-rw-r--.  1 root root    151 11月 20 01:05 Makefile</span><br><span class="line">-rw-rw-r--.  1 root root   6888 11月 20 01:05 MANIFESTO</span><br><span class="line">-rw-rw-r--.  1 root root  20555 11月 20 01:05 README.md</span><br><span class="line">-rw-rw-r--.  1 root root  61797 11月 20 01:05 redis.conf</span><br><span class="line">-rwxrwxr-x.  1 root root    275 11月 20 01:05 runtest</span><br><span class="line">-rwxrwxr-x.  1 root root    280 11月 20 01:05 runtest-cluster</span><br><span class="line">-rwxrwxr-x.  1 root root    373 11月 20 01:05 runtest-moduleapi</span><br><span class="line">-rwxrwxr-x.  1 root root    281 11月 20 01:05 runtest-sentinel</span><br><span class="line">-rw-rw-r--.  1 root root   9710 11月 20 01:05 sentinel.conf</span><br><span class="line">drwxrwxr-x.  3 root root   8192 3月  13 01:20 src</span><br><span class="line">drwxrwxr-x. 11 root root    182 11月 20 01:05 tests</span><br><span class="line">drwxrwxr-x.  8 root root   4096 11月 20 01:05 utils</span><br><span class="line">[root@localhost redis-5.0.7]# make PREFIX=/usr/local/redis install</span><br><span class="line">cd src &amp;&amp; make install</span><br><span class="line">make[1]: 进入目录“/data/redis-5.0.7/src”</span><br><span class="line">    CC Makefile.dep</span><br><span class="line">make[1]: 离开目录“/data/redis-5.0.7/src”</span><br><span class="line">make[1]: 进入目录“/data/redis-5.0.7/src”</span><br><span class="line"></span><br><span class="line">Hint: It&apos;s a good idea to run &apos;make test&apos; ;)</span><br><span class="line"></span><br><span class="line">    INSTALL install</span><br><span class="line">    INSTALL install</span><br><span class="line">    INSTALL install</span><br><span class="line">    INSTALL install</span><br><span class="line">    INSTALL install</span><br><span class="line">make[1]: 离开目录“/data/redis-5.0.7/src”</span><br><span class="line">[root@localhost redis-5.0.7]# </span><br><span class="line">[root@localhost redis-5.0.7]# cd /usr/local/redis/bin/</span><br><span class="line">[root@localhost bin]# cp redis-benchmark redis-cli redis-server /usr/bin/</span><br><span class="line">[root@localhost bin]# cd /usr/local/redis/</span><br><span class="line">[root@localhost redis]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 134 3月  13 01:21 bin</span><br><span class="line">[root@localhost redis]# cd bin/</span><br><span class="line">[root@localhost bin]# ll</span><br><span class="line">总用量 32772</span><br><span class="line">-rwxr-xr-x. 1 root root 4366792 3月  13 01:21 redis-benchmark</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-check-aof</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-check-rdb</span><br><span class="line">-rwxr-xr-x. 1 root root 4807856 3月  13 01:21 redis-cli</span><br><span class="line">lrwxrwxrwx. 1 root root      12 3月  13 01:21 redis-sentinel -&gt; redis-server</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-server</span><br><span class="line">[root@localhost bin]# cd /data/redis-5.0.7</span><br><span class="line">[root@localhost redis-5.0.7]# ll</span><br><span class="line">总用量 276</span><br><span class="line">-rw-rw-r--.  1 root root 115100 11月 20 01:05 00-RELEASENOTES</span><br><span class="line">-rw-rw-r--.  1 root root     53 11月 20 01:05 BUGS</span><br><span class="line">-rw-rw-r--.  1 root root   2381 11月 20 01:05 CONTRIBUTING</span><br><span class="line">-rw-rw-r--.  1 root root   1487 11月 20 01:05 COPYING</span><br><span class="line">drwxrwxr-x.  6 root root    192 3月  13 01:19 deps</span><br><span class="line">-rw-rw-r--.  1 root root     11 11月 20 01:05 INSTALL</span><br><span class="line">-rw-rw-r--.  1 root root    151 11月 20 01:05 Makefile</span><br><span class="line">-rw-rw-r--.  1 root root   6888 11月 20 01:05 MANIFESTO</span><br><span class="line">-rw-rw-r--.  1 root root  20555 11月 20 01:05 README.md</span><br><span class="line">-rw-rw-r--.  1 root root  61797 11月 20 01:05 redis.conf</span><br><span class="line">-rwxrwxr-x.  1 root root    275 11月 20 01:05 runtest</span><br><span class="line">-rwxrwxr-x.  1 root root    280 11月 20 01:05 runtest-cluster</span><br><span class="line">-rwxrwxr-x.  1 root root    373 11月 20 01:05 runtest-moduleapi</span><br><span class="line">-rwxrwxr-x.  1 root root    281 11月 20 01:05 runtest-sentinel</span><br><span class="line">-rw-rw-r--.  1 root root   9710 11月 20 01:05 sentinel.conf</span><br><span class="line">drwxrwxr-x.  3 root root   8192 3月  13 01:21 src</span><br><span class="line">drwxrwxr-x. 11 root root    182 11月 20 01:05 tests</span><br><span class="line">drwxrwxr-x.  8 root root   4096 11月 20 01:05 utils</span><br><span class="line">[root@localhost redis-5.0.7]# cd /usr/local/redis/</span><br><span class="line">[root@localhost redis]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 134 3月  13 01:21 bin</span><br><span class="line">[root@localhost redis]# cd bin/</span><br><span class="line">[root@localhost bin]# ll</span><br><span class="line">总用量 32772</span><br><span class="line">-rwxr-xr-x. 1 root root 4366792 3月  13 01:21 redis-benchmark</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-check-aof</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-check-rdb</span><br><span class="line">-rwxr-xr-x. 1 root root 4807856 3月  13 01:21 redis-cli</span><br><span class="line">lrwxrwxrwx. 1 root root      12 3月  13 01:21 redis-sentinel -&gt; redis-server</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-server</span><br><span class="line">[root@localhost bin]# pwd</span><br><span class="line">/usr/local/redis/bin</span><br><span class="line">[root@localhost bin]# cd /data/redis-5.0.7</span><br><span class="line">[root@localhost redis-5.0.7]# ll</span><br><span class="line">总用量 276</span><br><span class="line">-rw-rw-r--.  1 root root 115100 11月 20 01:05 00-RELEASENOTES</span><br><span class="line">-rw-rw-r--.  1 root root     53 11月 20 01:05 BUGS</span><br><span class="line">-rw-rw-r--.  1 root root   2381 11月 20 01:05 CONTRIBUTING</span><br><span class="line">-rw-rw-r--.  1 root root   1487 11月 20 01:05 COPYING</span><br><span class="line">drwxrwxr-x.  6 root root    192 3月  13 01:19 deps</span><br><span class="line">-rw-rw-r--.  1 root root     11 11月 20 01:05 INSTALL</span><br><span class="line">-rw-rw-r--.  1 root root    151 11月 20 01:05 Makefile</span><br><span class="line">-rw-rw-r--.  1 root root   6888 11月 20 01:05 MANIFESTO</span><br><span class="line">-rw-rw-r--.  1 root root  20555 11月 20 01:05 README.md</span><br><span class="line">-rw-rw-r--.  1 root root  61797 11月 20 01:05 redis.conf</span><br><span class="line">-rwxrwxr-x.  1 root root    275 11月 20 01:05 runtest</span><br><span class="line">-rwxrwxr-x.  1 root root    280 11月 20 01:05 runtest-cluster</span><br><span class="line">-rwxrwxr-x.  1 root root    373 11月 20 01:05 runtest-moduleapi</span><br><span class="line">-rwxrwxr-x.  1 root root    281 11月 20 01:05 runtest-sentinel</span><br><span class="line">-rw-rw-r--.  1 root root   9710 11月 20 01:05 sentinel.conf</span><br><span class="line">drwxrwxr-x.  3 root root   8192 3月  13 01:21 src</span><br><span class="line">drwxrwxr-x. 11 root root    182 11月 20 01:05 tests</span><br><span class="line">drwxrwxr-x.  8 root root   4096 11月 20 01:05 utils</span><br><span class="line">[root@localhost redis-5.0.7]# cp redis.conf /usr/local/redis/bin</span><br><span class="line">[root@localhost redis-5.0.7]# </span><br><span class="line">[root@localhost redis-5.0.7]# cd /usr/local/redis/bin</span><br><span class="line">[root@localhost bin]# ll</span><br><span class="line">总用量 32836</span><br><span class="line">-rwxr-xr-x. 1 root root 4366792 3月  13 01:21 redis-benchmark</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-check-aof</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-check-rdb</span><br><span class="line">-rwxr-xr-x. 1 root root 4807856 3月  13 01:21 redis-cli</span><br><span class="line">-rw-r--r--. 1 root root   61797 3月  13 01:24 redis.conf</span><br><span class="line">lrwxrwxrwx. 1 root root      12 3月  13 01:21 redis-sentinel -&gt; redis-server</span><br><span class="line">-rwxr-xr-x. 1 root root 8125184 3月  13 01:21 redis-server</span><br><span class="line">[root@localhost bin]# vim redis.conf </span><br><span class="line">-bash: vim: 未找到命令</span><br><span class="line">[root@localhost bin]# yum install vim</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.163.com</span><br><span class="line"> * extras: mirrors.163.com</span><br><span class="line"> * updates: mirrors.huaweicloud.com</span><br><span class="line">正在解决依赖关系</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 vim-enhanced.x86_64.2.7.4.629-6.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 vim-common = 2:7.4.629-6.el7，它被软件包 2:vim-enhanced-7.4.629-6.el7.x86_64 需要</span><br><span class="line">--&gt; 正在处理依赖关系 libgpm.so.2()(64bit)，它被软件包 2:vim-enhanced-7.4.629-6.el7.x86_64 需要</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 gpm-libs.x86_64.0.1.20.7-6.el7 将被 安装</span><br><span class="line">---&gt; 软件包 vim-common.x86_64.2.7.4.629-6.el7 将被 安装</span><br><span class="line">--&gt; 正在处理依赖关系 vim-filesystem，它被软件包 2:vim-common-7.4.629-6.el7.x86_64 需要</span><br><span class="line">--&gt; 正在检查事务</span><br><span class="line">---&gt; 软件包 vim-filesystem.x86_64.2.7.4.629-6.el7 将被 安装</span><br><span class="line">--&gt; 解决依赖关系完成</span><br><span class="line"></span><br><span class="line">依赖关系解决</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line"> Package               架构          版本                     源           大小</span><br><span class="line">================================================================================</span><br><span class="line">正在安装:</span><br><span class="line"> vim-enhanced          x86_64        2:7.4.629-6.el7          base        1.1 M</span><br><span class="line">为依赖而安装:</span><br><span class="line"> gpm-libs              x86_64        1.20.7-6.el7             base         32 k</span><br><span class="line"> vim-common            x86_64        2:7.4.629-6.el7          base        5.9 M</span><br><span class="line"> vim-filesystem        x86_64        2:7.4.629-6.el7          base         11 k</span><br><span class="line"></span><br><span class="line">事务概要</span><br><span class="line">================================================================================</span><br><span class="line">安装  1 软件包 (+3 依赖软件包)</span><br><span class="line"></span><br><span class="line">总下载量：7.0 M</span><br><span class="line">安装大小：23 M</span><br><span class="line">Is this ok [y/d/N]: y</span><br><span class="line">Downloading packages:</span><br><span class="line">(1/4): vim-filesystem-7.4.629-6.el7.x86_64.rpm             |  11 kB   00:00     </span><br><span class="line">(2/4): gpm-libs-1.20.7-6.el7.x86_64.rpm                    |  32 kB   00:00     </span><br><span class="line">(3/4): vim-enhanced-7.4.629-6.el7.x86_64.rpm               | 1.1 MB   00:01     </span><br><span class="line">(4/4): vim-common-7.4.629-6.el7.x86_64.rpm                 | 5.9 MB   00:06     </span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">总计                                               1.0 MB/s | 7.0 MB  00:06     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  正在安装    : 2:vim-filesystem-7.4.629-6.el7.x86_64                       1/4 </span><br><span class="line">  正在安装    : 2:vim-common-7.4.629-6.el7.x86_64                           2/4 </span><br><span class="line">  正在安装    : gpm-libs-1.20.7-6.el7.x86_64                                3/4 </span><br><span class="line">  正在安装    : 2:vim-enhanced-7.4.629-6.el7.x86_64                         4/4 </span><br><span class="line">  验证中      : gpm-libs-1.20.7-6.el7.x86_64                                1/4 </span><br><span class="line">  验证中      : 2:vim-enhanced-7.4.629-6.el7.x86_64                         2/4 </span><br><span class="line">  验证中      : 2:vim-common-7.4.629-6.el7.x86_64                           3/4 </span><br><span class="line">  验证中      : 2:vim-filesystem-7.4.629-6.el7.x86_64                       4/4 </span><br><span class="line"></span><br><span class="line">已安装:</span><br><span class="line">  vim-enhanced.x86_64 2:7.4.629-6.el7                                           </span><br><span class="line"></span><br><span class="line">作为依赖被安装:</span><br><span class="line">  gpm-libs.x86_64 0:1.20.7-6.el7           vim-common.x86_64 2:7.4.629-6.el7   </span><br><span class="line">  vim-filesystem.x86_64 2:7.4.629-6.el7   </span><br><span class="line"></span><br><span class="line">完毕！</span><br><span class="line">[root@localhost bin]# vim redis.conf </span><br><span class="line">[root@localhost bin]# ip add</span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br><span class="line">    link/ether 00:1c:42:ca:25:29 brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 10.211.55.6/24 brd 10.211.55.255 scope global dynamic eth0</span><br><span class="line">       valid_lft 1782sec preferred_lft 1782sec</span><br><span class="line">[root@localhost bin]# vim redis.conf </span><br><span class="line">[root@localhost bin]# systemctl stop firewalld</span><br><span class="line">[root@localhost bin]# </span><br><span class="line">[root@localhost bin]# ./redis-server redis.conf </span><br><span class="line">25741:C 13 Mar 2020 01:30:21.249 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span><br><span class="line">25741:C 13 Mar 2020 01:30:21.249 # Redis version=5.0.7, bits=64, commit=00000000, modified=0, pid=25741, just started</span><br><span class="line">25741:C 13 Mar 2020 01:30:21.249 # Configuration loaded</span><br><span class="line">[root@localhost bin]# ps aux|grep</span><br><span class="line">用法: grep [选项]... PATTERN [FILE]...</span><br><span class="line">试用‘grep --help’来获得更多信息。</span><br><span class="line">[root@localhost bin]# ps aux|grep redis</span><br><span class="line">root     25742  0.1  0.4 153900  7592 ?        Ssl  01:30   0:00 ./redis-server 10.211.55.6:6379</span><br><span class="line">root     25749  0.0  0.0 112728   972 pts/0    S+   01:31   0:00 grep --color=auto redis</span><br><span class="line">[root@localhost bin]# ./redis-cli -h 10.211.55.6 -p 6379</span><br><span class="line">10.211.55.6:6379&gt; set name lucas</span><br><span class="line">OK</span><br><span class="line">10.211.55.6:6379&gt; get name</span><br><span class="line">&quot;lucas&quot;</span><br><span class="line">10.211.55.6:6379&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Mac-安装redis配置"><a href="#Mac-安装redis配置" class="headerlink" title="Mac 安装redis配置"></a>Mac 安装redis配置</h2><h3 id="1-Homebrew的安装与使用"><a href="#1-Homebrew的安装与使用" class="headerlink" title="1.Homebrew的安装与使用"></a>1.Homebrew的安装与使用</h3><h5 id="1-打开终端-键入以下命令"><a href="#1-打开终端-键入以下命令" class="headerlink" title="(1)打开终端 键入以下命令"></a>(1)打开终端 键入以下命令</h5><p>$ xcode-select –install</p>
<h5 id="2-安装完毕以上应用继续"><a href="#2-安装完毕以上应用继续" class="headerlink" title="(2)安装完毕以上应用继续"></a>(2)安装完毕以上应用继续</h5><p>$ ruby -e “$(curl -fsSL <a href="https://link.jianshu.com?t=https%3A%2F%2Fraw.githubusercontent.com%2FHomebrew%2Finstall%2Fmaster%2Finstall" target="_blank" rel="noopener">https://raw.githubusercontent.com/Homebrew/install/master/install</a>)”</p>
<h5 id="3-等待结束……homebrew安装完成"><a href="#3-等待结束……homebrew安装完成" class="headerlink" title="(3)等待结束……homebrew安装完成"></a>(3)等待结束……homebrew安装完成</h5><h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><p>安装/卸载软件<br> $ brew install/uninstall softname</p>
<h3 id="2-利用Homebrew安装Redis"><a href="#2-利用Homebrew安装Redis" class="headerlink" title="2.利用Homebrew安装Redis"></a>2.利用Homebrew安装Redis</h3><h5 id="1-安装命令"><a href="#1-安装命令" class="headerlink" title="(1)安装命令"></a>(1)安装命令</h5><p>$ brew install redis</p>
<h5 id="2-进入安装目录"><a href="#2-进入安装目录" class="headerlink" title="(2)进入安装目录"></a>(2)进入安装目录</h5><p>$ cd /usr/local/Cellar/redis/4.0.6/bin</p>
<h5 id="3-启动、关闭redis"><a href="#3-启动、关闭redis" class="headerlink" title="(3)启动、关闭redis"></a>(3)启动、关闭redis</h5><p>$ redis-server<br> 以下命令即可关闭redis服务<br> redis 127.0.0.1:6379&gt; SHUTDOWN</p>
<h5 id="4-连接redis服务"><a href="#4-连接redis服务" class="headerlink" title="(4)连接redis服务"></a>(4)连接redis服务</h5><p>$ redis-cli -h  127.0.0.1（ip） -p 1234（端口号）<br> 示例：$ redis-cli -h  127.0.0.1 -p 1234</p>
<h5 id="5-键入授权登录密码"><a href="#5-键入授权登录密码" class="headerlink" title="(5)键入授权登录密码"></a>(5)键入授权登录密码</h5><p>127.0.0.1:6379&gt; AUTH 123456（密码）</p>
<h5 id="6-退出本次会话"><a href="#6-退出本次会话" class="headerlink" title="(6)退出本次会话"></a>(6)退出本次会话</h5><p>127.0.0.1:6379&gt; quit</p>
<h3 id="3-Redis其他常用命令及配置"><a href="#3-Redis其他常用命令及配置" class="headerlink" title="3.Redis其他常用命令及配置"></a>3.Redis其他常用命令及配置</h3><p>开机启动redis命令<br> $ ln -sfv /usr/local/opt/redis/*.plist ~/Library/LaunchAgents</p>
<p>使用launchctl启动redis server<br> $ launchctl load ~/Library/LaunchAgents/homebrew.mxcl.redis.plist</p>
<p>使用配置文件启动redis server<br> $ redis-server /usr/local/etc/redis.conf</p>
<p>停止redis server的自启动<br> $ launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.redis.plist</p>
<p>redis 配置文件的位置<br> /usr/local/etc/redis.conf</p>
<p>卸载redis和它的文件<br> brewuninstallredis rm ~/Library/LaunchAgents/homebrew.mxcl.redis.plist</p>
<p>测试redis server是否启动<br> $ redis-cli ping</p>
<p>链接：<a href="https://www.jianshu.com/p/035be70daf2d" target="_blank" rel="noopener">https://www.jianshu.com/p/035be70daf2d</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://lucaswangdev.github.io/2020/03/01/Redis/" data-id="ckdrhu2o9002p9w5oq6yyu1vj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redis/">redis</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript6/">ECMAScript6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Egret/">Egret</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/">Nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/">SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/">SpringCloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx、openresty/">nginx、openresty</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pomelo/">pomelo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servser/">servser</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thinkphp/">thinkphp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/url链接/">url链接</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ECMAScript6/" style="font-size: 10px;">ECMAScript6</a> <a href="/tags/Egret/" style="font-size: 10px;">Egret</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Nodejs/" style="font-size: 13.33px;">Nodejs</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/SSH/" style="font-size: 13.33px;">SSH</a> <a href="/tags/Server/" style="font-size: 10px;">Server</a> <a href="/tags/SpringBoot/" style="font-size: 10px;">SpringBoot</a> <a href="/tags/SpringCloud/" style="font-size: 10px;">SpringCloud</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/git/" style="font-size: 13.33px;">git</a> <a href="/tags/java/" style="font-size: 16.67px;">java</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/nginx、openresty/" style="font-size: 10px;">nginx、openresty</a> <a href="/tags/pomelo/" style="font-size: 10px;">pomelo</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/servser/" style="font-size: 10px;">servser</a> <a href="/tags/thinkphp/" style="font-size: 10px;">thinkphp</a> <a href="/tags/url链接/" style="font-size: 10px;">url链接</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/正则表达式/" style="font-size: 10px;">正则表达式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/10/OpenResty是一款基于-NGINX-和-LuaJIT-的-Web-平台/">OpenResty是一款基于 NGINX 和 LuaJIT 的 Web 平台</a>
          </li>
        
          <li>
            <a href="/2020/06/16/VsCode插件配置/">VsCode插件配置</a>
          </li>
        
          <li>
            <a href="/2020/04/20/面向对象-B5/">面向对象-B5</a>
          </li>
        
          <li>
            <a href="/2020/04/19/数组-B4/">数组-B4</a>
          </li>
        
          <li>
            <a href="/2020/04/18/流程控制-B3/">流程控制-B3</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Lucas Wang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>